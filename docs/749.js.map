{"version":3,"sources":["webpack://covid-science/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://covid-science/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://covid-science/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://covid-science/./node_modules/d3-force-reuse/src/constant.js","webpack://covid-science/./node_modules/d3-force-reuse/node_modules/d3-quadtree/src/add.js","webpack://covid-science/./node_modules/d3-force-reuse/node_modules/d3-quadtree/src/quad.js","webpack://covid-science/./node_modules/d3-force-reuse/node_modules/d3-quadtree/src/x.js","webpack://covid-science/./node_modules/d3-force-reuse/node_modules/d3-quadtree/src/y.js","webpack://covid-science/./node_modules/d3-force-reuse/node_modules/d3-quadtree/src/quadtree.js","webpack://covid-science/./node_modules/d3-force-reuse/src/manyBodyReuse.js","webpack://covid-science/./node_modules/d3-force-reuse/node_modules/d3-quadtree/src/cover.js","webpack://covid-science/./node_modules/d3-force-reuse/node_modules/d3-quadtree/src/data.js","webpack://covid-science/./node_modules/d3-force-reuse/node_modules/d3-quadtree/src/extent.js","webpack://covid-science/./node_modules/d3-force-reuse/node_modules/d3-quadtree/src/find.js","webpack://covid-science/./node_modules/d3-force-reuse/node_modules/d3-quadtree/src/remove.js","webpack://covid-science/./node_modules/d3-force-reuse/node_modules/d3-quadtree/src/root.js","webpack://covid-science/./node_modules/d3-force-reuse/node_modules/d3-quadtree/src/size.js","webpack://covid-science/./node_modules/d3-force-reuse/node_modules/d3-quadtree/src/visit.js","webpack://covid-science/./node_modules/d3-force-reuse/node_modules/d3-quadtree/src/visitAfter.js","webpack://covid-science/./node_modules/d3-force/src/collide.js","webpack://covid-science/./node_modules/d3-force/src/constant.js","webpack://covid-science/./node_modules/d3-force/src/jiggle.js","webpack://covid-science/./node_modules/d3-force/src/simulation.js","webpack://covid-science/./node_modules/d3-force/src/manyBody.js","webpack://covid-science/./node_modules/d3-force/src/x.js","webpack://covid-science/./node_modules/d3-force/src/y.js","webpack://covid-science/./node_modules/d3-quadtree/src/add.js","webpack://covid-science/./node_modules/d3-quadtree/src/quad.js","webpack://covid-science/./node_modules/d3-quadtree/src/x.js","webpack://covid-science/./node_modules/d3-quadtree/src/y.js","webpack://covid-science/./node_modules/d3-quadtree/src/quadtree.js","webpack://covid-science/./node_modules/d3-quadtree/src/cover.js","webpack://covid-science/./node_modules/d3-quadtree/src/data.js","webpack://covid-science/./node_modules/d3-quadtree/src/extent.js","webpack://covid-science/./node_modules/d3-quadtree/src/find.js","webpack://covid-science/./node_modules/d3-quadtree/src/remove.js","webpack://covid-science/./node_modules/d3-quadtree/src/root.js","webpack://covid-science/./node_modules/d3-quadtree/src/size.js","webpack://covid-science/./node_modules/d3-quadtree/src/visit.js","webpack://covid-science/./node_modules/d3-quadtree/src/visitAfter.js","webpack://covid-science/./node_modules/debounce/index.js","webpack://covid-science/./node_modules/fromentries/index.js","webpack://covid-science/./node_modules/lodash.throttle/index.js","webpack://covid-science/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://covid-science/./node_modules/prop-types/index.js","webpack://covid-science/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://covid-science/./node_modules/jerrypick/dist/jerrypick.module.js","webpack://covid-science/./node_modules/react-kapsule/dist/react-kapsule.module.js","webpack://covid-science/./node_modules/d3-drag/src/constant.js","webpack://covid-science/./node_modules/d3-drag/src/event.js","webpack://covid-science/./node_modules/d3-drag/src/drag.js","webpack://covid-science/./node_modules/d3-array/src/max.js","webpack://covid-science/./node_modules/@tweenjs/tween.js/dist/tween.esm.js","webpack://covid-science/./node_modules/kapsule/dist/kapsule.module.js","webpack://covid-science/./node_modules/accessor-fn/dist/accessor-fn.module.js","webpack://covid-science/./node_modules/canvas-color-tracker/dist/canvas-color-tracker.module.js","webpack://covid-science/./node_modules/d3-force-3d/src/lcg.js","webpack://covid-science/./node_modules/d3-force-3d/src/simulation.js","webpack://covid-science/./node_modules/d3-force-3d/src/constant.js","webpack://covid-science/./node_modules/d3-force-3d/src/jiggle.js","webpack://covid-science/./node_modules/d3-force-3d/src/link.js","webpack://covid-science/./node_modules/d3-binarytree/src/add.js","webpack://covid-science/./node_modules/d3-binarytree/src/half.js","webpack://covid-science/./node_modules/d3-binarytree/src/x.js","webpack://covid-science/./node_modules/d3-binarytree/src/binarytree.js","webpack://covid-science/./node_modules/d3-binarytree/src/cover.js","webpack://covid-science/./node_modules/d3-binarytree/src/data.js","webpack://covid-science/./node_modules/d3-binarytree/src/extent.js","webpack://covid-science/./node_modules/d3-binarytree/src/find.js","webpack://covid-science/./node_modules/d3-binarytree/src/remove.js","webpack://covid-science/./node_modules/d3-binarytree/src/root.js","webpack://covid-science/./node_modules/d3-binarytree/src/size.js","webpack://covid-science/./node_modules/d3-binarytree/src/visit.js","webpack://covid-science/./node_modules/d3-binarytree/src/visitAfter.js","webpack://covid-science/./node_modules/d3-octree/src/add.js","webpack://covid-science/./node_modules/d3-octree/src/octant.js","webpack://covid-science/./node_modules/d3-octree/src/x.js","webpack://covid-science/./node_modules/d3-octree/src/y.js","webpack://covid-science/./node_modules/d3-octree/src/z.js","webpack://covid-science/./node_modules/d3-octree/src/octree.js","webpack://covid-science/./node_modules/d3-force-3d/src/manyBody.js","webpack://covid-science/./node_modules/d3-force-3d/src/center.js","webpack://covid-science/./node_modules/d3-octree/src/cover.js","webpack://covid-science/./node_modules/d3-octree/src/data.js","webpack://covid-science/./node_modules/d3-octree/src/extent.js","webpack://covid-science/./node_modules/d3-octree/src/find.js","webpack://covid-science/./node_modules/d3-octree/src/remove.js","webpack://covid-science/./node_modules/d3-octree/src/root.js","webpack://covid-science/./node_modules/d3-octree/src/size.js","webpack://covid-science/./node_modules/d3-octree/src/visit.js","webpack://covid-science/./node_modules/d3-octree/src/visitAfter.js","webpack://covid-science/./node_modules/bezier-js/src/utils.js","webpack://covid-science/./node_modules/bezier-js/src/poly-bezier.js","webpack://covid-science/./node_modules/bezier-js/src/bezier.js","webpack://covid-science/./node_modules/index-array-by/dist/index-array-by.module.js","webpack://covid-science/./node_modules/d3-scale/src/ordinal.js","webpack://covid-science/./node_modules/d3-scale-chromatic/src/categorical/Paired.js","webpack://covid-science/./node_modules/d3-scale-chromatic/src/colors.js","webpack://covid-science/./node_modules/force-graph/dist/force-graph.module.js","webpack://covid-science/./node_modules/d3-force-3d/src/radial.js","webpack://covid-science/./node_modules/react-force-graph-2d/dist/react-force-graph-2d.module.js","webpack://covid-science/./node_modules/dom-helpers/esm/removeClass.js","webpack://covid-science/./node_modules/react-transition-group/esm/CSSTransition.js","webpack://covid-science/./node_modules/dom-helpers/esm/addClass.js","webpack://covid-science/./node_modules/dom-helpers/esm/hasClass.js","webpack://covid-science/./node_modules/react-transition-group/esm/SwitchTransition.js","webpack://covid-science/./node_modules/react-transition-group/esm/Transition.js","webpack://covid-science/./node_modules/react-transition-group/esm/TransitionGroupContext.js","webpack://covid-science/./node_modules/tinycolor2/tinycolor.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_inheritsLoose","subClass","superClass","create","constructor","__proto__","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","x","tree","y","d","isNaN","parent","xm","ym","xp","yp","right","bottom","j","node","_root","leaf","data","x0","_x0","y0","_y0","x1","_x1","y1","_y1","_x","_y","next","Array","defaultX","defaultY","quadtree","nodes","Quadtree","NaN","addAll","undefined","leaf_copy","copy","treeProto","alpha","updateClosure","updateBH","strengths","iter","strength","constant","distanceMin2","distanceMax2","Infinity","theta2","jiggle","Math","random","force","_","n","visitAfter","accumulate","update","push","visit","initialize","index","quad","q","c","weight","abs","value","x2","w","l","sqrt","vx","vy","distanceMin","distanceMax","theta","child","pop","add","cover","xz","yz","floor","z","extent","find","radius","y2","x3","y3","quads","dx","dy","d2","remove","retainer","previous","removeAll","root","size","callback","radii","iterations","xi","yi","ri","ri2","k","prepare","rj","r","_nodes","_random","PI","debounce","func","wait","immediate","timeout","args","context","timestamp","result","later","last","Date","now","setTimeout","debounced","callNow","clear","clearTimeout","flush","module","exports","iterable","reduce","obj","val","FUNC_ERROR_TEXT","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","g","freeSelf","self","Function","objectToString","toString","nativeMax","max","nativeMin","min","isObject","type","toNumber","isObjectLike","isSymbol","other","valueOf","replace","isBinary","test","slice","options","leading","trailing","TypeError","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","maxing","invokeFunc","time","thisArg","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","isInvoking","cancel","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","propName","componentName","location","propFullName","secret","err","Error","name","getShim","isRequired","ReactPropTypes","array","bool","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","_slicedToArray","arr","isArray","_arrayWithHoles","Symbol","iterator","_arr","_n","_d","_e","_s","_i","done","_iterableToArrayLimit","_nonIterableRest","omit","keySet","Set","concat","arr2","_arrayWithoutHoles","entries","filter","_ref2","has","map","_ref4","_ref5","defineProperty","enumerable","configurable","writable","_defineProperty","from","_iterableToArray","_nonIterableSpread","_typeof","_unsupportedIterableToArray","_arrayLikeToArray","o","minLen","len","DragEvent","sourceEvent","subject","identifier","active","dispatch","defineProperties","defaultFilter","event","ctrlKey","button","defaultContainer","parentNode","defaultSubject","defaultTouchable","navigator","maxTouchPoints","on","values","valueof","a","Easing","Linear","None","amount","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","cos","sin","Exponential","pow","Circular","Elastic","Back","s","Bounce","now$1","process","hrtime","performance","bind","getTime","Group","_tweens","_tweensAddedDuringUpdate","getAll","_this","tweenId","tween","getId","preserve","tweenIds","autoStart","Interpolation","v","m","f","fn","Utils","Bezier","b","pw","bn","Bernstein","CatmullRom","p0","p1","t","fc","Factorial","p2","p3","v0","v1","t2","Sequence","nextId","_nextId","mainGroup","Tween","_object","_group","_isPaused","_pauseStart","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_initialRepeat","_repeat","_yoyo","_isPlaying","_reversed","_delayTime","_startTime","_easingFunction","_interpolationFunction","_chainedTweens","_onStartCallbackFired","_id","_isChainStopped","_goToEnd","isPlaying","isPaused","to","properties","duration","start","property","_swapEndStartRepeatValues","parseFloat","_setupProperties","startValue","startValueIsArray","propType","isInterpolationList","endValues","_handleRelativeValue","reverse","prop","stop","stopChainedTweens","_onStopCallback","end","pause","resume","numChainedTweens","group","delay","repeat","times","repeatDelay","_repeatDelayTime","yoyo","easing","easingFunction","interpolation","interpolationFunction","chain","tweens","onStart","_onStartCallback","onUpdate","_onUpdateCallback","onRepeat","_onRepeatCallback","onComplete","_onCompleteCallback","onStop","elapsed","endTime","_updateProperties","isFinite","startIsArray","endIsArray","charAt","tmp","endValue","TWEEN","VERSION","Prop","_ref","_ref$default","defaultVal","_ref$triggerUpdate","triggerUpdate","_ref$onChange","onChange","newVal","state","instance","Constructor","_classCallCheck","_ref2$stateInit","stateInit","_ref2$props","rawProps","_ref2$methods","methods","_ref2$aliases","aliases","_ref2$init","init","initFn","_ref2$update","updateFn","initialised","changedProps","comp","nodeElement","initStatic","digest","forEach","_ref3","_ref3$triggerUpdate","redigest","_ref3$onChange","_ref3$defaultVal","curVal","getSetProp","methodName","_methods$methodName","_len","_key","alias","resetProps","_rerender","p","_defineProperties","descriptor","rgb2Int","checksum","csBits","_default","registry","protoProps","num","idx","color","padStart","str","_tinyColor$toRgb","toRgb","cs","initialAngleRoll","initialAngleYaw","numDimensions","simulation","nDim","round","alphaMin","alphaDecay","alphaTarget","velocityDecay","forces","Map","stepper","timer","step","lcg","tick","fx","fy","fz","vz","initializeNodes","cbrt","rollAngle","yawAngle","initializeForce","restart","randomSource","delete","set","get","dz","closest","shift","nodeById","nodeId","links","distances","count","bias","id","link","distance","initializeStrength","initializeDistance","_numDimensions","binarytree","Binarytree","halves","zm","zp","deep","z0","_z0","z1","_z1","_z","defaultZ","octree","Octree","treeNode","numChildren","arg1","arg2","arg3","sx","sy","sz","zz","z2","z3","octs","acos","atan2","crt","pi","tau","quart","nMax","Number","MAX_SAFE_INTEGER","nMin","MIN_SAFE_INTEGER","ZERO","utils","Tvalues","Cvalues","arcfn","derivativeFn","compute","points","_3d","order","mt","ret","mt2","dCpts","JSON","parse","stringify","splice","computeWithRatios","ratios","f1","f2","f3","f4","derive","dpoints","list","dpt","between","M","approximately","precision","sum","ds","de","ts","te","lerp","v2","pointToString","pointsToString","join","angle","dx1","dy1","dx2","dy2","pos","substring","dist","LUT","point","mpos","mdist","abcratio","projectionratio","top","lli8","x4","y4","lli4","p4","lli","makeline","findbbox","sections","mx","my","MX","MY","bbox","mid","shapeintersections","s1","bbox1","s2","bbox2","curveIntersectionThreshold","bboxoverlap","intersections","a1","startcap","forward","back","endcap","a2","l1","virtual","l2","iss","intersects","c1","c2","makeshape","bpl","fpl","getminmax","curve","align","line","tx","ty","roots","aligned","m1","m2","pa","pb","pc","q2","discriminant","u1","mp3","phi","t1","sd","droots","curvature","d1","kOnly","dnm","adk","dk","dd","qdsum","pk","nk","inflections","v3","trm","sq","b1","b2","dims","dim","expandbox","_bbox","pairiteration","c1b","c2b","threshold","_t1","_t2","cc1","split","cc2","pairs","left","pair","results","getccenter","dx1p","dy1p","dx2p","dy2p","mx1","my1","mx2","my2","mx1n","my1n","mx2n","my2n","arc","e","numberSort","PolyBezier","curves","offset","coords","coordlen","newargs","higher","dimlen","_linear","some","_lut","abc","getABC","A","S","B","E","C","selen","lx","ly","bx1","by1","bx2","by2","e1","e2","nc1","nc2","getUtils","print","coordDigest","_print","computedirection","clockwise","derivative","u","um","steps","verify","error","lut","getLUT","hits","ft","np","pim","__normal3","__normal2","r1","r2","q1","R","_p","pt","hull","span","mfn","sort","extrema","lbbox","tbbox","normal","nv","scale","n1","n2","segment","pass1","pass2","simple","distanceFn","raise","ov","rc","d3","d4","reduced","fcurves","bcurves","alen","tlen","graduated","linearDistanceFunction","slen","fs","fe","bs","be","ls","le","segments","outline","shapes","lineIntersects","curveintersects","selfintersects","overlaps","errorThreshold","_iterate","np1","ref","circles","safety","t_s","t_e","np2","np3","prev_arc","curr_good","prev_good","t_m","prev_e","interval","_error","_objectWithoutProperties","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_toPropertyKey","arg","input","hint","prim","toPrimitive","res","String","_toPrimitive","implicit","specifier","colors","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","_setPrototypeOf","setPrototypeOf","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","_construct","Parent","Class","css","insertAt","document","head","getElementsByTagName","style","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","styleInject","autoColorScale","ordinal","domain","range","unknown","autoColorObjects","objects","colorByAccessor","colorField","CanvasForceGraph","graphData","engineRunning","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeVal","nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","nodeVisibility","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCurvature","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","globalScale","d3AlphaMin","d3AlphaDecay","forceLayout","d3AlphaTarget","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onFinishUpdate","onEngineTick","onEngineStop","isShadow","d3Force","forceName","forceFn","d3ReheatSimulation","resetCountdown","cntTicks","startTickTime","tickFrame","getLength","getRelPos","getVisibility","getColor","getNodeVal","ctx","getWidth","getLineDash","getCurvature","getLinkCanvasObjectMode","padAmount","visibleLinks","cp","__controlPoints","beforeCustomLinks","afterCustomLinks","defaultPaintLinks","replaceCustomLinks","otherCustomLinks","before","after","save","restore","linksPerColor","keyAccessors","multiItem","flattenKeys","keyAccessor","isProp","indexedResult","item","iterObj","itemVal","_itemVal","propVal","rest","level","flatten","accKeys","vals","linksPerWidth","lineColor","width","linesPerLineDash","lineWidth","_ref6","lineDashSegments","beginPath","moveTo","controlPoints","lineTo","strokeStyle","setLineDash","stroke","paintLinks","arrowLength","startR","endR","arrowRelPos","arrowColor","arrowHalfWidth","bzLine","getCoordsAlongLine","lineLen","posAlongLine","arrowHead","arrowTail","arrowTailVertex","arrowTailAngle","fillStyle","fill","getNumPhotons","getSpeed","getDiameter","numCyclePhotons","__photons","particleSpeed","photons","photonR","photonColor","cyclePhotonIdx","needsCleanup","photon","singleHop","__singleHop","__progressRatio","photonPosRatio","paintPhotons","getVal","getNodeCanvasObjectMode","visibleNodes","paintNodes","emitParticle","canvasCtx","linkParticlesAccessor","numPhotons","linkForce","nodeDepths","idAccessor","_ref2$nodeFilter","nodeFilter","_ref2$onLoopError","onLoopError","loopIds","graph","out","depth","skip","sourceId","getNodeId","targetId","sourceNode","targetNode","foundLoops","traverse","_ref7","nodeStack","currentDepth","loop","foundLoop","every","getDagDepths","maxDepth","getFFn","fix","invert","fxFn","fyFn","radiuses","initNodes","nodeDepth","linkKapsule","kapsulePropNames","kapsuleType","propNames","dummyK","linkProp","linkMethod","method","returnVals","kapsuleInstance","returnVal","bindFG","bindBoth","linkedProps","linkedMethods","adjustCanvasSize","canvas","curWidth","curHeight","height","pxScale","window","devicePixelRatio","shadowCanvas","getContext","zoom","translateBy","__baseElem","resetTransform","pxRatio","setTransform","clearCanvas","clearRect","innerWidth","innerHeight","console","info","objs","cur","colorTracker","lookup","__indexColor","register","forceGraph","shadowGraph","backgroundColor","background","nodeLabel","nodePointerAreaPaint","paintFn","linkLabel","linkHoverPrecision","enableNodeDrag","enableZoomPanInteraction","enablePointerInteraction","hoverObj","onNodeDrag","onNodeDragEnd","onNodeClick","onNodeRightClick","onNodeHover","onLinkClick","onLinkRightClick","onLinkHover","onBackgroundClick","onBackgroundRightClick","onZoom","onZoomEnd","onRenderFramePre","onRenderFramePost","stopAnimation","graph2ScreenCoords","screen2GraphCoords","centerAt","transitionDuration","finalPos","getCenter","setCenter","translateTo","getZoom","setZoom","scaleTo","zoomToFit","padding","bboxArgs","getGraphBbox","center","zoomK","getR","nodesPos","pauseAnimation","animationFrameRequestId","cancelAnimationFrame","resumeAnimation","_animationCycle","_destructor","lastSetZoom","domNode","innerHTML","container","classList","position","shadowCtx","mousedownx","mousedowny","mousemoving","touchending","touchable","gestures","listeners","clickDistance2","drag","selection","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","view","mousemoved","mouseupped","nodrag","clientX","clientY","noevent","mouse","touches","changedTouches","that","touch","pointer","clickDistance","ev","__initialDragPos","initPos","dragPos","translate","__dragged","isPointerDragging","scaleExtent","toolTipElem","pointerPos","evType","addEventListener","pressure","movementX","movementY","pointerType","rect","scrollLeft","scrollTop","getBoundingClientRect","pageXOffset","documentElement","pageYOffset","pageX","pageY","passive","requestAnimationFrame","preventDefault","refreshShadowCanvas","animate","px","getImageData","prevObj","prevObjType","objType","tooltipContent","toLowerCase","visibility","commonPropTypes","pointerBasedPropTypes","threeBasedPropTypes","showNavInfo","nodeOpacity","nodeResolution","nodeThreeObject","nodeThreeObjectExtend","linkOpacity","linkResolution","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowResolution","linkDirectionalParticleResolution","forceEngine","ngraphPhysics","ForceGraph2DPropTypes","enableNavigationControls","controlType","rendererConfig","nodeDesc","linkDesc","onNodeCenterHover","onLinkCenterHover","markerAttrs","yOffset","glScale","ForceGraph2D","kapsuleComponent","comboParam","wrapperElementType","methodNames","initPropNames","_ref$wrapperElementTy","_ref$nodeMapper","nodeMapper","_ref$methodNames","_ref$initPropNames","forwardRef","domEl","useRef","_useState2","useState","prevProps","setPrevProps","useEffect","useMemo","configOptions","useLayoutEffect","current","_call","useCallback","dynamicProps","useImperativeHandle","_len2","_key2","displayName","propTypes","replaceClassName","origClass","classToRemove","RegExp","removeClass","classes","className","setAttribute","baseVal","CSSTransition","_React$Component","appliedClasses","appear","enter","exit","onEnter","maybeNode","maybeAppearing","_this$resolveArgument","resolveArguments","appearing","removeClasses","addClass","onEntering","_this$resolveArgument2","onEntered","_this$resolveArgument3","onExit","onExiting","onExited","nodeRef","getClassNames","classNames","isStringClassNames","baseClassName","activeClassName","doneClassName","_proto","phase","contains","hasClass","_addClass","_this$appliedClasses$","base","render","_this$props","Transition","defaultProps","_leaveRenders","_enterRenders","modes","callHook","cb","_element$props","leaveRenders","changeState","in","children","enterRenders","SwitchTransition","status","appeared","setState","componentDidMount","getDerivedStateFromProps","mode","oldChildren","newChildren","component","_this$state","isMounting","UNMOUNTED","EXITED","ENTERING","ENTERED","EXITING","initialStatus","appearStatus","unmountOnExit","mountOnEnter","nextCallback","prevState","updateStatus","componentDidUpdate","nextStatus","componentWillUnmount","cancelNextCallback","getTimeouts","mounting","performEnter","performExit","_this2","timeouts","enterTimeout","safeSetState","onTransitionEnd","_this3","nextState","setNextCallback","_this4","handler","doesNotHaveTimeoutOrListener","addEndListener","maybeNextCallback","childProps","TransitionGroupContext","noop","contextType","trimLeft","trimRight","tinyCounter","mathRound","mathMin","mathMax","mathRandom","tinycolor","opts","rgb","ok","format","match","named","names","matchers","exec","rgba","hsl","h","hsla","hsv","hsva","hex8","parseIntFromHex","convertHexToDecimal","hex6","hex4","hex3","stringInputToObject","isValidCSSUnit","bound01","substr","convertToPercentage","mod","hsvToRgb","hue2rgb","hslToRgb","boundAlpha","inputToRGB","_originalInput","_r","_g","_b","_a","_roundA","_format","_gradientType","gradientType","_ok","_tc_id","rgbToHsl","rgbToHsv","rgbToHex","allow3Char","hex","pad2","rgbaToArgbHex","convertDecimalToHex","desaturate","toHsl","clamp01","saturate","greyscale","lighten","brighten","darken","spin","hue","complement","triad","tetrad","splitcomplement","analogous","slices","part","monochromatic","toHsv","modification","isDark","getBrightness","isLight","isValid","getOriginalInput","getFormat","getAlpha","getLuminance","RsRGB","GsRGB","BsRGB","setAlpha","toHsvString","toHslString","toHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","toPercentageRgbString","toName","hexNames","toFilter","secondColor","hex8String","secondHex8String","formatSet","formattedString","hasAlpha","clone","_applyModification","_applyCombination","fromRatio","newColor","equals","color1","color2","mix","rgb1","rgb2","readability","isReadable","wcag2","wcag2Parms","parms","toUpperCase","mostReadable","baseColor","colorList","includeFallbackColors","bestColor","bestScore","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","flipped","flip","isOnePointZero","processPercent","isPercentage","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4"],"mappings":"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","file":"749.js","sourcesContent":["export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","import constant from \"./constant\";\nimport {quadtree} from 'd3-quadtree';\n\nexport default function() {\n  var nodes,\n      node,\n      alpha,\n      iter = 0,\n      tree,\n      updateClosure,\n      updateBH,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function jiggle() {\n    return (Math.random() - 0.5) * 1e-6;\n  }\n\n  function x(d) {\n    return d.x;\n  }\n\n  function y(d) {\n    return d.y;\n  }\n\n  updateClosure = function () {\n    return function (i) {\n      if (i % 13 === 0) {\n        return true;\n      } else {\n        return false;\n      }\n    };\n  }\n\n  function force(_) {\n    var i, n = nodes.length;\n    if (!tree || updateBH(iter, nodes)) {\n      tree = quadtree(nodes, x, y).visitAfter(accumulate);\n      nodes.update.push(iter);\n    }\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n    ++iter;\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    iter = 0;\n    nodes.update = [];\n    updateBH = updateClosure();\n    tree = null;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(), l += x * x;\n        if (y === 0) y = jiggle(), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(), l += x * x;\n      if (y === 0) y = jiggle(), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      // Use the coordinates of the node and not the quad region.\n      x = quad.data.x - node.x;\n      y = quad.data.y - node.y;\n      l = x * x + y * y;\n\n      // Limit forces for very close nodes; randomize direction if coincident.\n      if (x === 0) x = jiggle(), l += x * x;\n      if (y === 0) y = jiggle(), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n\n      w = strengths[quad.data.index] * alpha / l;\n\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  force.update = function(_) {\n    return arguments.length ? (updateClosure = _, updateBH = updateClosure(), force) : updateClosure;\n  };\n\n  return force;\n}","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nexport default function(radius) {\n  var nodes,\n      radii,\n      random,\n      strength = 1,\n      iterations = 1;\n\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n\n  function force() {\n    var i, n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data, rj = quad.r, r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(random), l += x * x;\n            if (y === 0) y = jiggle(random), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  return force;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(random) {\n  return (random() - 0.5) * 1e-6;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function(force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(0.5 + i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (y === 0) y = jiggle(random), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (y === 0) y = jiggle(random), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(x) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      xz;\n\n  if (typeof x !== \"function\") x = constant(x == null ? 0 : +x);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    xz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : x;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(y) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      yz;\n\n  if (typeof y !== \"function\") y = constant(y == null ? 0 : +y);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    yz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : y;\n  };\n\n  return force;\n}\n","export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","/*! fromentries. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nmodule.exports = function fromEntries (iterable) {\n  return [...iterable].reduce((obj, [key, val]) => {\n    obj[key] = val\n    return obj\n  }, {})\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nvar pluck = function pluck(obj, keys) {\n  return Object.assign.apply(Object, [{}].concat(_toConsumableArray(keys.map(function (key) {\n    return _defineProperty({}, key, obj[key]);\n  }))));\n};\n\nvar omit = function omit(obj, keys) {\n  var keySet = new Set(keys);\n  return Object.assign.apply(Object, [{}].concat(_toConsumableArray(Object.entries(obj).filter(function (_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 1),\n        key = _ref3[0];\n\n    return !keySet.has(key);\n  }).map(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n        key = _ref5[0],\n        val = _ref5[1];\n\n    return _defineProperty({}, key, val);\n  }))));\n};\n\nexport { omit, pluck };\n","import React, { forwardRef, useRef, useState, useEffect, useMemo, useLayoutEffect, useCallback, useImperativeHandle } from 'react';\nimport { omit } from 'jerrypick';\nimport fromEntries from 'fromentries';\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction index (kapsuleComponent, comboParam) {\n  var _ref = _typeof(comboParam) === 'object' ? comboParam : {\n    // support old schema for backwards compatibility\n    wrapperElementType: comboParam,\n    methodNames: (arguments.length <= 2 ? undefined : arguments[2]) || undefined,\n    initPropNames: (arguments.length <= 3 ? undefined : arguments[3]) || undefined\n  },\n      _ref$wrapperElementTy = _ref.wrapperElementType,\n      wrapperElementType = _ref$wrapperElementTy === void 0 ? 'div' : _ref$wrapperElementTy,\n      _ref$nodeMapper = _ref.nodeMapper,\n      nodeMapper = _ref$nodeMapper === void 0 ? function (node) {\n    return node;\n  } : _ref$nodeMapper,\n      _ref$methodNames = _ref.methodNames,\n      methodNames = _ref$methodNames === void 0 ? [] : _ref$methodNames,\n      _ref$initPropNames = _ref.initPropNames,\n      initPropNames = _ref$initPropNames === void 0 ? [] : _ref$initPropNames;\n\n  return /*#__PURE__*/forwardRef(function (props, ref) {\n    var domEl = useRef();\n\n    var _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        prevProps = _useState2[0],\n        setPrevProps = _useState2[1];\n\n    useEffect(function () {\n      return setPrevProps(props);\n    }); // remember previous props\n    // instantiate the inner kapsule component with the defined initPropNames\n\n    var comp = useMemo(function () {\n      var configOptions = fromEntries(initPropNames.filter(function (p) {\n        return props.hasOwnProperty(p);\n      }).map(function (prop) {\n        return [prop, props[prop]];\n      }));\n      return kapsuleComponent(configOptions);\n    }, []);\n    useLayoutEffect(function () {\n      comp(nodeMapper(domEl.current)); // mount kapsule synchronously on this element ref, optionally mapped into an object that the kapsule understands\n    }, []);\n    useEffect(function () {\n      // invoke destructor on unmount, if it exists\n      return comp._destructor instanceof Function ? comp._destructor : undefined;\n    }, []); // Call a component method\n\n    var _call = useCallback(function (method) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return comp[method] instanceof Function ? comp[method].apply(comp, args) : undefined;\n    } // method not found\n    , [comp]); // propagate component props that have changed\n\n\n    var dynamicProps = omit(props, [].concat(_toConsumableArray(methodNames), _toConsumableArray(initPropNames))); // initPropNames or methodNames should not be called\n\n    Object.keys(dynamicProps).filter(function (p) {\n      return prevProps[p] !== props[p];\n    }).forEach(function (p) {\n      return _call(p, props[p]);\n    }); // bind external methods to parent ref\n\n    useImperativeHandle(ref, function () {\n      return fromEntries(methodNames.map(function (method) {\n        return [method, function () {\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          return _call.apply(void 0, [method].concat(args));\n        }];\n      }));\n    });\n    return /*#__PURE__*/React.createElement(wrapperElementType, {\n      ref: domEl\n    });\n  });\n}\n\nexport default index;\n","export default x => () => x;\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // nobreak\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","/**\n * The Ease class provides a collection of easing functions for use with tween.js.\n */\nvar Easing = {\n    Linear: {\n        None: function (amount) {\n            return amount;\n        },\n    },\n    Quadratic: {\n        In: function (amount) {\n            return amount * amount;\n        },\n        Out: function (amount) {\n            return amount * (2 - amount);\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return 0.5 * amount * amount;\n            }\n            return -0.5 * (--amount * (amount - 2) - 1);\n        },\n    },\n    Cubic: {\n        In: function (amount) {\n            return amount * amount * amount;\n        },\n        Out: function (amount) {\n            return --amount * amount * amount + 1;\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return 0.5 * amount * amount * amount;\n            }\n            return 0.5 * ((amount -= 2) * amount * amount + 2);\n        },\n    },\n    Quartic: {\n        In: function (amount) {\n            return amount * amount * amount * amount;\n        },\n        Out: function (amount) {\n            return 1 - --amount * amount * amount * amount;\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return 0.5 * amount * amount * amount * amount;\n            }\n            return -0.5 * ((amount -= 2) * amount * amount * amount - 2);\n        },\n    },\n    Quintic: {\n        In: function (amount) {\n            return amount * amount * amount * amount * amount;\n        },\n        Out: function (amount) {\n            return --amount * amount * amount * amount * amount + 1;\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return 0.5 * amount * amount * amount * amount * amount;\n            }\n            return 0.5 * ((amount -= 2) * amount * amount * amount * amount + 2);\n        },\n    },\n    Sinusoidal: {\n        In: function (amount) {\n            return 1 - Math.cos((amount * Math.PI) / 2);\n        },\n        Out: function (amount) {\n            return Math.sin((amount * Math.PI) / 2);\n        },\n        InOut: function (amount) {\n            return 0.5 * (1 - Math.cos(Math.PI * amount));\n        },\n    },\n    Exponential: {\n        In: function (amount) {\n            return amount === 0 ? 0 : Math.pow(1024, amount - 1);\n        },\n        Out: function (amount) {\n            return amount === 1 ? 1 : 1 - Math.pow(2, -10 * amount);\n        },\n        InOut: function (amount) {\n            if (amount === 0) {\n                return 0;\n            }\n            if (amount === 1) {\n                return 1;\n            }\n            if ((amount *= 2) < 1) {\n                return 0.5 * Math.pow(1024, amount - 1);\n            }\n            return 0.5 * (-Math.pow(2, -10 * (amount - 1)) + 2);\n        },\n    },\n    Circular: {\n        In: function (amount) {\n            return 1 - Math.sqrt(1 - amount * amount);\n        },\n        Out: function (amount) {\n            return Math.sqrt(1 - --amount * amount);\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return -0.5 * (Math.sqrt(1 - amount * amount) - 1);\n            }\n            return 0.5 * (Math.sqrt(1 - (amount -= 2) * amount) + 1);\n        },\n    },\n    Elastic: {\n        In: function (amount) {\n            if (amount === 0) {\n                return 0;\n            }\n            if (amount === 1) {\n                return 1;\n            }\n            return -Math.pow(2, 10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI);\n        },\n        Out: function (amount) {\n            if (amount === 0) {\n                return 0;\n            }\n            if (amount === 1) {\n                return 1;\n            }\n            return Math.pow(2, -10 * amount) * Math.sin((amount - 0.1) * 5 * Math.PI) + 1;\n        },\n        InOut: function (amount) {\n            if (amount === 0) {\n                return 0;\n            }\n            if (amount === 1) {\n                return 1;\n            }\n            amount *= 2;\n            if (amount < 1) {\n                return -0.5 * Math.pow(2, 10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI);\n            }\n            return 0.5 * Math.pow(2, -10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI) + 1;\n        },\n    },\n    Back: {\n        In: function (amount) {\n            var s = 1.70158;\n            return amount * amount * ((s + 1) * amount - s);\n        },\n        Out: function (amount) {\n            var s = 1.70158;\n            return --amount * amount * ((s + 1) * amount + s) + 1;\n        },\n        InOut: function (amount) {\n            var s = 1.70158 * 1.525;\n            if ((amount *= 2) < 1) {\n                return 0.5 * (amount * amount * ((s + 1) * amount - s));\n            }\n            return 0.5 * ((amount -= 2) * amount * ((s + 1) * amount + s) + 2);\n        },\n    },\n    Bounce: {\n        In: function (amount) {\n            return 1 - Easing.Bounce.Out(1 - amount);\n        },\n        Out: function (amount) {\n            if (amount < 1 / 2.75) {\n                return 7.5625 * amount * amount;\n            }\n            else if (amount < 2 / 2.75) {\n                return 7.5625 * (amount -= 1.5 / 2.75) * amount + 0.75;\n            }\n            else if (amount < 2.5 / 2.75) {\n                return 7.5625 * (amount -= 2.25 / 2.75) * amount + 0.9375;\n            }\n            else {\n                return 7.5625 * (amount -= 2.625 / 2.75) * amount + 0.984375;\n            }\n        },\n        InOut: function (amount) {\n            if (amount < 0.5) {\n                return Easing.Bounce.In(amount * 2) * 0.5;\n            }\n            return Easing.Bounce.Out(amount * 2 - 1) * 0.5 + 0.5;\n        },\n    },\n};\n\nvar now;\n// Include a performance.now polyfill.\n// In node.js, use process.hrtime.\n// eslint-disable-next-line\n// @ts-ignore\nif (typeof self === 'undefined' && typeof process !== 'undefined' && process.hrtime) {\n    now = function () {\n        // eslint-disable-next-line\n        // @ts-ignore\n        var time = process.hrtime();\n        // Convert [seconds, nanoseconds] to milliseconds.\n        return time[0] * 1000 + time[1] / 1000000;\n    };\n}\n// In a browser, use self.performance.now if it is available.\nelse if (typeof self !== 'undefined' && self.performance !== undefined && self.performance.now !== undefined) {\n    // This must be bound, because directly assigning this function\n    // leads to an invocation exception in Chrome.\n    now = self.performance.now.bind(self.performance);\n}\n// Use Date.now if it is available.\nelse if (Date.now !== undefined) {\n    now = Date.now;\n}\n// Otherwise, use 'new Date().getTime()'.\nelse {\n    now = function () {\n        return new Date().getTime();\n    };\n}\nvar now$1 = now;\n\n/**\n * Controlling groups of tweens\n *\n * Using the TWEEN singleton to manage your tweens can cause issues in large apps with many components.\n * In these cases, you may want to create your own smaller groups of tween\n */\nvar Group = /** @class */ (function () {\n    function Group() {\n        this._tweens = {};\n        this._tweensAddedDuringUpdate = {};\n    }\n    Group.prototype.getAll = function () {\n        var _this = this;\n        return Object.keys(this._tweens).map(function (tweenId) {\n            return _this._tweens[tweenId];\n        });\n    };\n    Group.prototype.removeAll = function () {\n        this._tweens = {};\n    };\n    Group.prototype.add = function (tween) {\n        this._tweens[tween.getId()] = tween;\n        this._tweensAddedDuringUpdate[tween.getId()] = tween;\n    };\n    Group.prototype.remove = function (tween) {\n        delete this._tweens[tween.getId()];\n        delete this._tweensAddedDuringUpdate[tween.getId()];\n    };\n    Group.prototype.update = function (time, preserve) {\n        if (time === void 0) { time = now$1(); }\n        if (preserve === void 0) { preserve = false; }\n        var tweenIds = Object.keys(this._tweens);\n        if (tweenIds.length === 0) {\n            return false;\n        }\n        // Tweens are updated in \"batches\". If you add a new tween during an\n        // update, then the new tween will be updated in the next batch.\n        // If you remove a tween during an update, it may or may not be updated.\n        // However, if the removed tween was added during the current batch,\n        // then it will not be updated.\n        while (tweenIds.length > 0) {\n            this._tweensAddedDuringUpdate = {};\n            for (var i = 0; i < tweenIds.length; i++) {\n                var tween = this._tweens[tweenIds[i]];\n                var autoStart = !preserve;\n                if (tween && tween.update(time, autoStart) === false && !preserve) {\n                    delete this._tweens[tweenIds[i]];\n                }\n            }\n            tweenIds = Object.keys(this._tweensAddedDuringUpdate);\n        }\n        return true;\n    };\n    return Group;\n}());\n\n/**\n *\n */\nvar Interpolation = {\n    Linear: function (v, k) {\n        var m = v.length - 1;\n        var f = m * k;\n        var i = Math.floor(f);\n        var fn = Interpolation.Utils.Linear;\n        if (k < 0) {\n            return fn(v[0], v[1], f);\n        }\n        if (k > 1) {\n            return fn(v[m], v[m - 1], m - f);\n        }\n        return fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n    },\n    Bezier: function (v, k) {\n        var b = 0;\n        var n = v.length - 1;\n        var pw = Math.pow;\n        var bn = Interpolation.Utils.Bernstein;\n        for (var i = 0; i <= n; i++) {\n            b += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n        }\n        return b;\n    },\n    CatmullRom: function (v, k) {\n        var m = v.length - 1;\n        var f = m * k;\n        var i = Math.floor(f);\n        var fn = Interpolation.Utils.CatmullRom;\n        if (v[0] === v[m]) {\n            if (k < 0) {\n                i = Math.floor((f = m * (1 + k)));\n            }\n            return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n        }\n        else {\n            if (k < 0) {\n                return v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n            }\n            if (k > 1) {\n                return v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n            }\n            return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n        }\n    },\n    Utils: {\n        Linear: function (p0, p1, t) {\n            return (p1 - p0) * t + p0;\n        },\n        Bernstein: function (n, i) {\n            var fc = Interpolation.Utils.Factorial;\n            return fc(n) / fc(i) / fc(n - i);\n        },\n        Factorial: (function () {\n            var a = [1];\n            return function (n) {\n                var s = 1;\n                if (a[n]) {\n                    return a[n];\n                }\n                for (var i = n; i > 1; i--) {\n                    s *= i;\n                }\n                a[n] = s;\n                return s;\n            };\n        })(),\n        CatmullRom: function (p0, p1, p2, p3, t) {\n            var v0 = (p2 - p0) * 0.5;\n            var v1 = (p3 - p1) * 0.5;\n            var t2 = t * t;\n            var t3 = t * t2;\n            return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n        },\n    },\n};\n\n/**\n * Utils\n */\nvar Sequence = /** @class */ (function () {\n    function Sequence() {\n    }\n    Sequence.nextId = function () {\n        return Sequence._nextId++;\n    };\n    Sequence._nextId = 0;\n    return Sequence;\n}());\n\nvar mainGroup = new Group();\n\n/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\nvar Tween = /** @class */ (function () {\n    function Tween(_object, _group) {\n        if (_group === void 0) { _group = mainGroup; }\n        this._object = _object;\n        this._group = _group;\n        this._isPaused = false;\n        this._pauseStart = 0;\n        this._valuesStart = {};\n        this._valuesEnd = {};\n        this._valuesStartRepeat = {};\n        this._duration = 1000;\n        this._initialRepeat = 0;\n        this._repeat = 0;\n        this._yoyo = false;\n        this._isPlaying = false;\n        this._reversed = false;\n        this._delayTime = 0;\n        this._startTime = 0;\n        this._easingFunction = Easing.Linear.None;\n        this._interpolationFunction = Interpolation.Linear;\n        this._chainedTweens = [];\n        this._onStartCallbackFired = false;\n        this._id = Sequence.nextId();\n        this._isChainStopped = false;\n        this._goToEnd = false;\n    }\n    Tween.prototype.getId = function () {\n        return this._id;\n    };\n    Tween.prototype.isPlaying = function () {\n        return this._isPlaying;\n    };\n    Tween.prototype.isPaused = function () {\n        return this._isPaused;\n    };\n    Tween.prototype.to = function (properties, duration) {\n        // TODO? restore this, then update the 07_dynamic_to example to set fox\n        // tween's to on each update. That way the behavior is opt-in (there's\n        // currently no opt-out).\n        // for (const prop in properties) this._valuesEnd[prop] = properties[prop]\n        this._valuesEnd = Object.create(properties);\n        if (duration !== undefined) {\n            this._duration = duration;\n        }\n        return this;\n    };\n    Tween.prototype.duration = function (d) {\n        this._duration = d;\n        return this;\n    };\n    Tween.prototype.start = function (time) {\n        if (this._isPlaying) {\n            return this;\n        }\n        // eslint-disable-next-line\n        this._group && this._group.add(this);\n        this._repeat = this._initialRepeat;\n        if (this._reversed) {\n            // If we were reversed (f.e. using the yoyo feature) then we need to\n            // flip the tween direction back to forward.\n            this._reversed = false;\n            for (var property in this._valuesStartRepeat) {\n                this._swapEndStartRepeatValues(property);\n                this._valuesStart[property] = this._valuesStartRepeat[property];\n            }\n        }\n        this._isPlaying = true;\n        this._isPaused = false;\n        this._onStartCallbackFired = false;\n        this._isChainStopped = false;\n        this._startTime = time !== undefined ? (typeof time === 'string' ? now$1() + parseFloat(time) : time) : now$1();\n        this._startTime += this._delayTime;\n        this._setupProperties(this._object, this._valuesStart, this._valuesEnd, this._valuesStartRepeat);\n        return this;\n    };\n    Tween.prototype._setupProperties = function (_object, _valuesStart, _valuesEnd, _valuesStartRepeat) {\n        for (var property in _valuesEnd) {\n            var startValue = _object[property];\n            var startValueIsArray = Array.isArray(startValue);\n            var propType = startValueIsArray ? 'array' : typeof startValue;\n            var isInterpolationList = !startValueIsArray && Array.isArray(_valuesEnd[property]);\n            // If `to()` specifies a property that doesn't exist in the source object,\n            // we should not set that property in the object\n            if (propType === 'undefined' || propType === 'function') {\n                continue;\n            }\n            // Check if an Array was provided as property value\n            if (isInterpolationList) {\n                var endValues = _valuesEnd[property];\n                if (endValues.length === 0) {\n                    continue;\n                }\n                // handle an array of relative values\n                endValues = endValues.map(this._handleRelativeValue.bind(this, startValue));\n                // Create a local copy of the Array with the start value at the front\n                _valuesEnd[property] = [startValue].concat(endValues);\n            }\n            // handle the deepness of the values\n            if ((propType === 'object' || startValueIsArray) && startValue && !isInterpolationList) {\n                _valuesStart[property] = startValueIsArray ? [] : {};\n                // eslint-disable-next-line\n                for (var prop in startValue) {\n                    // eslint-disable-next-line\n                    // @ts-ignore FIXME?\n                    _valuesStart[property][prop] = startValue[prop];\n                }\n                _valuesStartRepeat[property] = startValueIsArray ? [] : {}; // TODO? repeat nested values? And yoyo? And array values?\n                // eslint-disable-next-line\n                // @ts-ignore FIXME?\n                this._setupProperties(startValue, _valuesStart[property], _valuesEnd[property], _valuesStartRepeat[property]);\n            }\n            else {\n                // Save the starting value, but only once.\n                if (typeof _valuesStart[property] === 'undefined') {\n                    _valuesStart[property] = startValue;\n                }\n                if (!startValueIsArray) {\n                    // eslint-disable-next-line\n                    // @ts-ignore FIXME?\n                    _valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n                }\n                if (isInterpolationList) {\n                    // eslint-disable-next-line\n                    // @ts-ignore FIXME?\n                    _valuesStartRepeat[property] = _valuesEnd[property].slice().reverse();\n                }\n                else {\n                    _valuesStartRepeat[property] = _valuesStart[property] || 0;\n                }\n            }\n        }\n    };\n    Tween.prototype.stop = function () {\n        if (!this._isChainStopped) {\n            this._isChainStopped = true;\n            this.stopChainedTweens();\n        }\n        if (!this._isPlaying) {\n            return this;\n        }\n        // eslint-disable-next-line\n        this._group && this._group.remove(this);\n        this._isPlaying = false;\n        this._isPaused = false;\n        if (this._onStopCallback) {\n            this._onStopCallback(this._object);\n        }\n        return this;\n    };\n    Tween.prototype.end = function () {\n        this._goToEnd = true;\n        this.update(Infinity);\n        return this;\n    };\n    Tween.prototype.pause = function (time) {\n        if (time === void 0) { time = now$1(); }\n        if (this._isPaused || !this._isPlaying) {\n            return this;\n        }\n        this._isPaused = true;\n        this._pauseStart = time;\n        // eslint-disable-next-line\n        this._group && this._group.remove(this);\n        return this;\n    };\n    Tween.prototype.resume = function (time) {\n        if (time === void 0) { time = now$1(); }\n        if (!this._isPaused || !this._isPlaying) {\n            return this;\n        }\n        this._isPaused = false;\n        this._startTime += time - this._pauseStart;\n        this._pauseStart = 0;\n        // eslint-disable-next-line\n        this._group && this._group.add(this);\n        return this;\n    };\n    Tween.prototype.stopChainedTweens = function () {\n        for (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n            this._chainedTweens[i].stop();\n        }\n        return this;\n    };\n    Tween.prototype.group = function (group) {\n        this._group = group;\n        return this;\n    };\n    Tween.prototype.delay = function (amount) {\n        this._delayTime = amount;\n        return this;\n    };\n    Tween.prototype.repeat = function (times) {\n        this._initialRepeat = times;\n        this._repeat = times;\n        return this;\n    };\n    Tween.prototype.repeatDelay = function (amount) {\n        this._repeatDelayTime = amount;\n        return this;\n    };\n    Tween.prototype.yoyo = function (yoyo) {\n        this._yoyo = yoyo;\n        return this;\n    };\n    Tween.prototype.easing = function (easingFunction) {\n        this._easingFunction = easingFunction;\n        return this;\n    };\n    Tween.prototype.interpolation = function (interpolationFunction) {\n        this._interpolationFunction = interpolationFunction;\n        return this;\n    };\n    Tween.prototype.chain = function () {\n        var tweens = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            tweens[_i] = arguments[_i];\n        }\n        this._chainedTweens = tweens;\n        return this;\n    };\n    Tween.prototype.onStart = function (callback) {\n        this._onStartCallback = callback;\n        return this;\n    };\n    Tween.prototype.onUpdate = function (callback) {\n        this._onUpdateCallback = callback;\n        return this;\n    };\n    Tween.prototype.onRepeat = function (callback) {\n        this._onRepeatCallback = callback;\n        return this;\n    };\n    Tween.prototype.onComplete = function (callback) {\n        this._onCompleteCallback = callback;\n        return this;\n    };\n    Tween.prototype.onStop = function (callback) {\n        this._onStopCallback = callback;\n        return this;\n    };\n    /**\n     * @returns true if the tween is still playing after the update, false\n     * otherwise (calling update on a paused tween still returns true because\n     * it is still playing, just paused).\n     */\n    Tween.prototype.update = function (time, autoStart) {\n        if (time === void 0) { time = now$1(); }\n        if (autoStart === void 0) { autoStart = true; }\n        if (this._isPaused)\n            return true;\n        var property;\n        var elapsed;\n        var endTime = this._startTime + this._duration;\n        if (!this._goToEnd && !this._isPlaying) {\n            if (time > endTime)\n                return false;\n            if (autoStart)\n                this.start(time);\n        }\n        this._goToEnd = false;\n        if (time < this._startTime) {\n            return true;\n        }\n        if (this._onStartCallbackFired === false) {\n            if (this._onStartCallback) {\n                this._onStartCallback(this._object);\n            }\n            this._onStartCallbackFired = true;\n        }\n        elapsed = (time - this._startTime) / this._duration;\n        elapsed = this._duration === 0 || elapsed > 1 ? 1 : elapsed;\n        var value = this._easingFunction(elapsed);\n        // properties transformations\n        this._updateProperties(this._object, this._valuesStart, this._valuesEnd, value);\n        if (this._onUpdateCallback) {\n            this._onUpdateCallback(this._object, elapsed);\n        }\n        if (elapsed === 1) {\n            if (this._repeat > 0) {\n                if (isFinite(this._repeat)) {\n                    this._repeat--;\n                }\n                // Reassign starting values, restart by making startTime = now\n                for (property in this._valuesStartRepeat) {\n                    if (!this._yoyo && typeof this._valuesEnd[property] === 'string') {\n                        this._valuesStartRepeat[property] =\n                            // eslint-disable-next-line\n                            // @ts-ignore FIXME?\n                            this._valuesStartRepeat[property] + parseFloat(this._valuesEnd[property]);\n                    }\n                    if (this._yoyo) {\n                        this._swapEndStartRepeatValues(property);\n                    }\n                    this._valuesStart[property] = this._valuesStartRepeat[property];\n                }\n                if (this._yoyo) {\n                    this._reversed = !this._reversed;\n                }\n                if (this._repeatDelayTime !== undefined) {\n                    this._startTime = time + this._repeatDelayTime;\n                }\n                else {\n                    this._startTime = time + this._delayTime;\n                }\n                if (this._onRepeatCallback) {\n                    this._onRepeatCallback(this._object);\n                }\n                return true;\n            }\n            else {\n                if (this._onCompleteCallback) {\n                    this._onCompleteCallback(this._object);\n                }\n                for (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n                    // Make the chained tweens start exactly at the time they should,\n                    // even if the `update()` method was called way past the duration of the tween\n                    this._chainedTweens[i].start(this._startTime + this._duration);\n                }\n                this._isPlaying = false;\n                return false;\n            }\n        }\n        return true;\n    };\n    Tween.prototype._updateProperties = function (_object, _valuesStart, _valuesEnd, value) {\n        for (var property in _valuesEnd) {\n            // Don't update properties that do not exist in the source object\n            if (_valuesStart[property] === undefined) {\n                continue;\n            }\n            var start = _valuesStart[property] || 0;\n            var end = _valuesEnd[property];\n            var startIsArray = Array.isArray(_object[property]);\n            var endIsArray = Array.isArray(end);\n            var isInterpolationList = !startIsArray && endIsArray;\n            if (isInterpolationList) {\n                _object[property] = this._interpolationFunction(end, value);\n            }\n            else if (typeof end === 'object' && end) {\n                // eslint-disable-next-line\n                // @ts-ignore FIXME?\n                this._updateProperties(_object[property], start, end, value);\n            }\n            else {\n                // Parses relative end values with start as base (e.g.: +10, -3)\n                end = this._handleRelativeValue(start, end);\n                // Protect against non numeric properties.\n                if (typeof end === 'number') {\n                    // eslint-disable-next-line\n                    // @ts-ignore FIXME?\n                    _object[property] = start + (end - start) * value;\n                }\n            }\n        }\n    };\n    Tween.prototype._handleRelativeValue = function (start, end) {\n        if (typeof end !== 'string') {\n            return end;\n        }\n        if (end.charAt(0) === '+' || end.charAt(0) === '-') {\n            return start + parseFloat(end);\n        }\n        else {\n            return parseFloat(end);\n        }\n    };\n    Tween.prototype._swapEndStartRepeatValues = function (property) {\n        var tmp = this._valuesStartRepeat[property];\n        var endValue = this._valuesEnd[property];\n        if (typeof endValue === 'string') {\n            this._valuesStartRepeat[property] = this._valuesStartRepeat[property] + parseFloat(endValue);\n        }\n        else {\n            this._valuesStartRepeat[property] = this._valuesEnd[property];\n        }\n        this._valuesEnd[property] = tmp;\n    };\n    return Tween;\n}());\n\nvar VERSION = '18.6.4';\n\n/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\nvar nextId = Sequence.nextId;\n/**\n * Controlling groups of tweens\n *\n * Using the TWEEN singleton to manage your tweens can cause issues in large apps with many components.\n * In these cases, you may want to create your own smaller groups of tweens.\n */\nvar TWEEN = mainGroup;\n// This is the best way to export things in a way that's compatible with both ES\n// Modules and CommonJS, without build hacks, and so as not to break the\n// existing API.\n// https://github.com/rollup/rollup/issues/1961#issuecomment-423037881\nvar getAll = TWEEN.getAll.bind(TWEEN);\nvar removeAll = TWEEN.removeAll.bind(TWEEN);\nvar add = TWEEN.add.bind(TWEEN);\nvar remove = TWEEN.remove.bind(TWEEN);\nvar update = TWEEN.update.bind(TWEEN);\nvar exports = {\n    Easing: Easing,\n    Group: Group,\n    Interpolation: Interpolation,\n    now: now$1,\n    Sequence: Sequence,\n    nextId: nextId,\n    Tween: Tween,\n    VERSION: VERSION,\n    getAll: getAll,\n    removeAll: removeAll,\n    add: add,\n    remove: remove,\n    update: update,\n};\n\nexport default exports;\nexport { Easing, Group, Interpolation, Sequence, Tween, VERSION, add, getAll, nextId, now$1 as now, remove, removeAll, update };\n","import debounce from 'debounce';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nvar Prop = function Prop(name, _ref) {\n  var _ref$default = _ref[\"default\"],\n      defaultVal = _ref$default === void 0 ? null : _ref$default,\n      _ref$triggerUpdate = _ref.triggerUpdate,\n      triggerUpdate = _ref$triggerUpdate === void 0 ? true : _ref$triggerUpdate,\n      _ref$onChange = _ref.onChange,\n      onChange = _ref$onChange === void 0 ? function (newVal, state) {} : _ref$onChange;\n\n  _classCallCheck(this, Prop);\n\n  this.name = name;\n  this.defaultVal = defaultVal;\n  this.triggerUpdate = triggerUpdate;\n  this.onChange = onChange;\n};\n\nfunction index (_ref2) {\n  var _ref2$stateInit = _ref2.stateInit,\n      stateInit = _ref2$stateInit === void 0 ? function () {\n    return {};\n  } : _ref2$stateInit,\n      _ref2$props = _ref2.props,\n      rawProps = _ref2$props === void 0 ? {} : _ref2$props,\n      _ref2$methods = _ref2.methods,\n      methods = _ref2$methods === void 0 ? {} : _ref2$methods,\n      _ref2$aliases = _ref2.aliases,\n      aliases = _ref2$aliases === void 0 ? {} : _ref2$aliases,\n      _ref2$init = _ref2.init,\n      initFn = _ref2$init === void 0 ? function () {} : _ref2$init,\n      _ref2$update = _ref2.update,\n      updateFn = _ref2$update === void 0 ? function () {} : _ref2$update;\n  // Parse props into Prop instances\n  var props = Object.keys(rawProps).map(function (propName) {\n    return new Prop(propName, rawProps[propName]);\n  });\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // Holds component state\n    var state = Object.assign({}, stateInit instanceof Function ? stateInit(options) : stateInit, // Support plain objects for backwards compatibility\n    {\n      initialised: false\n    }); // keeps track of which props triggered an update\n\n    var changedProps = {}; // Component constructor\n\n    function comp(nodeElement) {\n      initStatic(nodeElement, options);\n      digest();\n      return comp;\n    }\n\n    var initStatic = function initStatic(nodeElement, options) {\n      initFn.call(comp, nodeElement, state, options);\n      state.initialised = true;\n    };\n\n    var digest = debounce(function () {\n      if (!state.initialised) {\n        return;\n      }\n\n      updateFn.call(comp, state, changedProps);\n      changedProps = {};\n    }, 1); // Getter/setter methods\n\n    props.forEach(function (prop) {\n      comp[prop.name] = getSetProp(prop);\n\n      function getSetProp(_ref3) {\n        var prop = _ref3.name,\n            _ref3$triggerUpdate = _ref3.triggerUpdate,\n            redigest = _ref3$triggerUpdate === void 0 ? false : _ref3$triggerUpdate,\n            _ref3$onChange = _ref3.onChange,\n            onChange = _ref3$onChange === void 0 ? function (newVal, state) {} : _ref3$onChange,\n            _ref3$defaultVal = _ref3.defaultVal,\n            defaultVal = _ref3$defaultVal === void 0 ? null : _ref3$defaultVal;\n        return function (_) {\n          var curVal = state[prop];\n\n          if (!arguments.length) {\n            return curVal;\n          } // Getter mode\n\n\n          var val = _ === undefined ? defaultVal : _; // pick default if value passed is undefined\n\n          state[prop] = val;\n          onChange.call(comp, val, state, curVal); // track changed props\n\n          !changedProps.hasOwnProperty(prop) && (changedProps[prop] = curVal);\n\n          if (redigest) {\n            digest();\n          }\n\n          return comp;\n        };\n      }\n    }); // Other methods\n\n    Object.keys(methods).forEach(function (methodName) {\n      comp[methodName] = function () {\n        var _methods$methodName;\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return (_methods$methodName = methods[methodName]).call.apply(_methods$methodName, [comp, state].concat(args));\n      };\n    }); // Link aliases\n\n    Object.entries(aliases).forEach(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          alias = _ref5[0],\n          target = _ref5[1];\n\n      return comp[alias] = comp[target];\n    }); // Reset all component props to their default value\n\n    comp.resetProps = function () {\n      props.forEach(function (prop) {\n        comp[prop.name](prop.defaultVal);\n      });\n      return comp;\n    }; //\n\n\n    comp.resetProps(); // Apply all prop defaults\n\n    state._rerender = digest; // Expose digest method\n\n    return comp;\n  };\n}\n\nexport default index;\n","var index = (function (p) {\n  return p instanceof Function ? p // fn\n  : typeof p === 'string' ? function (obj) {\n    return obj[p];\n  } // property name\n  : function (obj) {\n    return p;\n  };\n}); // constant\n\nexport default index;\n","import tinyColor from 'tinycolor2';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar ENTROPY = 123; // Raise numbers to prevent collisions in lower indexes\n\nvar int2HexColor = function int2HexColor(num) {\n  return \"#\".concat(Math.min(num, Math.pow(2, 24)).toString(16).padStart(6, '0'));\n};\n\nvar rgb2Int = function rgb2Int(r, g, b) {\n  return (r << 16) + (g << 8) + b;\n};\n\nvar colorStr2Int = function colorStr2Int(str) {\n  var _tinyColor$toRgb = tinyColor(str).toRgb(),\n      r = _tinyColor$toRgb.r,\n      g = _tinyColor$toRgb.g,\n      b = _tinyColor$toRgb.b;\n\n  return rgb2Int(r, g, b);\n};\n\nvar checksum = function checksum(n, csBits) {\n  return n * ENTROPY % Math.pow(2, csBits);\n};\n\nvar _default = /*#__PURE__*/function () {\n  function _default() {\n    var csBits = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 6;\n\n    _classCallCheck(this, _default);\n\n    this.csBits = csBits; // How many bits to reserve for checksum. Will eat away into the usable size of the registry.\n\n    this.registry = ['__reserved for background__']; // indexed objects for rgb lookup;\n  }\n\n  _createClass(_default, [{\n    key: \"register\",\n    value: function register(obj) {\n      if (this.registry.length >= Math.pow(2, 24 - this.csBits)) {\n        // color has 24 bits (-checksum)\n        return null; // Registry is full\n      }\n\n      var idx = this.registry.length;\n      var cs = checksum(idx, this.csBits);\n      var color = int2HexColor(idx + (cs << 24 - this.csBits));\n      this.registry.push(obj);\n      return color;\n    }\n  }, {\n    key: \"lookup\",\n    value: function lookup(color) {\n      var n = typeof color === 'string' ? colorStr2Int(color) : rgb2Int.apply(void 0, _toConsumableArray(color));\n      if (!n) return null; // 0 index is reserved for background\n\n      var idx = n & Math.pow(2, 24 - this.csBits) - 1; // registry index\n\n      var cs = n >> 24 - this.csBits & Math.pow(2, this.csBits) - 1; // extract bits reserved for checksum\n\n      if (checksum(idx, this.csBits) !== cs || idx >= this.registry.length) return null; // failed checksum or registry out of bounds\n\n      return this.registry[idx];\n    }\n  }]);\n\n  return _default;\n}();\n\nexport default _default;\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nvar MAX_DIMENSIONS = 3;\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nexport function z(d) {\n  return d.z;\n}\n\nvar initialRadius = 10,\n    initialAngleRoll = Math.PI * (3 - Math.sqrt(5)), // Golden ratio angle\n    initialAngleYaw = Math.PI * 20 / (9 + Math.sqrt(221)); // Markov irrational number\n\nexport default function(nodes, numDimensions) {\n  numDimensions = numDimensions || 2;\n\n  var nDim = Math.min(MAX_DIMENSIONS, Math.max(1, Math.round(numDimensions))),\n      simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function (force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (nDim > 1) {\n          if (node.fy == null) node.y += node.vy *= velocityDecay;\n          else node.y = node.fy, node.vy = 0;\n        }\n        if (nDim > 2) {\n          if (node.fz == null) node.z += node.vz *= velocityDecay;\n          else node.z = node.fz, node.vz = 0;\n        }\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (node.fz != null) node.z = node.fz;\n      if (isNaN(node.x) || (nDim > 1 && isNaN(node.y)) || (nDim > 2 && isNaN(node.z))) {\n        var radius = initialRadius * (nDim > 2 ? Math.cbrt(0.5 + i) : (nDim > 1 ? Math.sqrt(0.5 + i) : i)),\n          rollAngle = i * initialAngleRoll,\n          yawAngle = i * initialAngleYaw;\n\n        if (nDim === 1) {\n          node.x = radius;\n        } else if (nDim === 2) {\n          node.x = radius * Math.cos(rollAngle);\n          node.y = radius * Math.sin(rollAngle);\n        } else { // 3 dimensions: use spherical distribution along 2 irrational number angles\n          node.x = radius * Math.sin(rollAngle) * Math.cos(yawAngle);\n          node.y = radius * Math.cos(rollAngle);\n          node.z = radius * Math.sin(rollAngle) * Math.sin(yawAngle);\n        }\n      }\n      if (isNaN(node.vx) || (nDim > 1 && isNaN(node.vy)) || (nDim > 2 && isNaN(node.vz))) {\n        node.vx = 0;\n        if (nDim > 1) { node.vy = 0; }\n        if (nDim > 2) { node.vz = 0; }\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, nDim, random);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    numDimensions: function(_) {\n      return arguments.length\n          ? (nDim = Math.min(MAX_DIMENSIONS, Math.max(1, Math.round(_))), forces.forEach(initializeForce), simulation)\n          : nDim;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function() {\n      var args = Array.prototype.slice.call(arguments);\n      var x = args.shift() || 0,\n          y = (nDim > 1 ? args.shift() : null) || 0,\n          z = (nDim > 2 ? args.shift() : null) || 0,\n          radius = args.shift() || Infinity;\n\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          dz,\n          d2,\n          node,\n          closest;\n\n      radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - (node.y || 0);\n        dz = z - (node.z ||0);\n        d2 = dx * dx + dy * dy + dz * dz;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(random) {\n  return (random() - 0.5) * 1e-6;\n}\n","import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      nDim,\n      count,\n      bias,\n      random,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x = 0, y = 0, z = 0, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        if (nDim > 1) { y = target.y + target.vy - source.y - source.vy || jiggle(random); }\n        if (nDim > 2) { z = target.z + target.vz - source.z - source.vz || jiggle(random); }\n        l = Math.sqrt(x * x + y * y + z * z);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l, z *= l;\n\n        target.vx -= x * (b = bias[i]);\n        if (nDim > 1) { target.vy -= y * b; }\n        if (nDim > 2) { target.vz -= z * b; }\n\n        source.vx += x * (b = 1 - b);\n        if (nDim > 1) { source.vy += y * b; }\n        if (nDim > 2) { source.vz += z * b; }\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_nodes, _numDimensions, _random) {\n    nodes = _nodes;\n    nDim = _numDimensions;\n    random = _random;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","export default function(d) {\n  var x = +this._x.call(null, d);\n  return add(this.cover(x), x, d);\n}\n\nfunction add(tree, x, d) {\n  if (isNaN(x)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      x1 = tree._x1,\n      xm,\n      xp,\n      right,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (parent = node, !(node = node[i = +right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  if (x === xp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(2) : tree._root = new Array(2);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n  } while ((i = +right) === (j = +(xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var i, n = data.length,\n      x,\n      xz = new Array(n),\n      x0 = Infinity,\n      x1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, data[i]))) continue;\n    xz[i] = x;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n  }\n\n  // If there were no (valid) points, inherit the existing extent.\n  if (x1 < x0) x0 = this._x0, x1 = this._x1;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0).cover(x1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(node, x0, x1) {\n  this.node = node;\n  this.x0 = x0;\n  this.x1 = x1;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add\";\nimport tree_cover from \"./cover\";\nimport tree_data from \"./data\";\nimport tree_extent from \"./extent\";\nimport tree_find from \"./find\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove\";\nimport tree_root from \"./root\";\nimport tree_size from \"./size\";\nimport tree_visit from \"./visit\";\nimport tree_visitAfter from \"./visitAfter\";\nimport tree_x, {defaultX} from \"./x\";\n\nexport default function binarytree(nodes, x) {\n  var tree = new Binarytree(x == null ? defaultX : x, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Binarytree(x, x0, x1) {\n  this._x = x;\n  this._x0 = x0;\n  this._x1 = x1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = binarytree.prototype = Binarytree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Binarytree(this._x, this._x0, this._x1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(2)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 2; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(2)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;","export default function(x) {\n  if (isNaN(x = +x)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      x1 = this._x1;\n\n  // If the binarytree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing half boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else if (x0 > x || x > x1) {\n    var z = x1 - x0,\n        node = this._root,\n        parent,\n        i;\n\n    switch (i = +(x < (x0 + x1) / 2)) {\n      case 0: {\n        do parent = new Array(2), parent[i] = node, node = parent;\n        while (z *= 2, x1 = x0 + z, x > x1);\n        break;\n      }\n      case 1: {\n        do parent = new Array(2), parent[i] = node, node = parent;\n        while (z *= 2, x0 = x1 - z, x0 > x);\n        break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  // If the binarytree covers the point already, just return.\n  else return this;\n\n  this._x0 = x0;\n  this._x1 = x1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0]).cover(+_[1][0])\n      : isNaN(this._x0) ? undefined : [[this._x0], [this._x1]];\n}\n","import Half from \"./half\";\n\nexport default function(x, radius) {\n  var data,\n      x0 = this._x0,\n      x1,\n      x2,\n      x3 = this._x1,\n      halves = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) halves.push(new Half(node, x0, x3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius;\n    x3 = x + radius;\n  }\n\n  while (q = halves.pop()) {\n\n    // Stop searching if this half cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (x2 = q.x1) < x0) continue;\n\n    // Bisect the current half.\n    if (node.length) {\n      var xm = (x1 + x2) / 2;\n\n      halves.push(\n        new Half(node[1], xm, x2),\n        new Half(node[0], x1, xm)\n      );\n\n      // Visit the closest half first.\n      if (i = +(x >= xm)) {\n        q = halves[halves.length - 1];\n        halves[halves.length - 1] = halves[halves.length - 1 - i];\n        halves[halves.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var d = Math.abs(x - +this._x.call(null, node.data));\n      if (d < radius) {\n        radius = d;\n        x0 = x - d;\n        x3 = x + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      x1 = this._x1,\n      x,\n      xm,\n      right,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (!(parent = node, node = node[i = +right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 1]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1])\n      && node === (parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Half from \"./half\";\n\nexport default function(callback) {\n  var halves = [], q, node = this._root, child, x0, x1;\n  if (node) halves.push(new Half(node, this._x0, this._x1));\n  while (q = halves.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, x1 = q.x1) && node.length) {\n      var xm = (x0 + x1) / 2;\n      if (child = node[1]) halves.push(new Half(child, xm, x1));\n      if (child = node[0]) halves.push(new Half(child, x0, xm));\n    }\n  }\n  return this;\n}\n","import Half from \"./half\";\n\nexport default function(callback) {\n  var halves = [], next = [], q;\n  if (this._root) halves.push(new Half(this._root, this._x0, this._x1));\n  while (q = halves.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, x1 = q.x1, xm = (x0 + x1) / 2;\n      if (child = node[0]) halves.push(new Half(child, x0, xm));\n      if (child = node[1]) halves.push(new Half(child, xm, x1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.x1);\n  }\n  return this;\n}\n","export default function(d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d),\n      z = +this._z.call(null, d);\n  return add(this.cover(x, y, z), x, y, z, d);\n}\n\nfunction add(tree, x, y, z, d) {\n  if (isNaN(x) || isNaN(y) || isNaN(z)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      z0 = tree._z0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      z1 = tree._z1,\n      xm,\n      ym,\n      zm,\n      xp,\n      yp,\n      zp,\n      right,\n      bottom,\n      deep,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm; else z1 = zm;\n    if (parent = node, !(node = node[i = deep << 2 | bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  zp = +tree._z.call(null, node.data);\n  if (x === xp && y === yp && z === zp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(8) : tree._root = new Array(8);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm; else z1 = zm;\n  } while ((i = deep << 2 | bottom << 1 | right) === (j = (zp >= zm) << 2 | (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      z,\n      xz = new Array(n),\n      yz = new Array(n),\n      zz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      z0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity,\n      z1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d)) || isNaN(z = +this._z.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    zz[i] = z;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n    if (z < z0) z0 = z;\n    if (z > z1) z1 = z;\n  }\n\n  // If there were no (valid) points, inherit the existing extent.\n  if (x1 < x0) x0 = this._x0, x1 = this._x1;\n  if (y1 < y0) y0 = this._y0, y1 = this._y1;\n  if (z1 < z0) z0 = this._z0, z1 = this._z1;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0, z0).cover(x1, y1, z1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], zz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(node, x0, y0, z0, x1, y1, z1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.z0 = z0;\n  this.x1 = x1;\n  this.y1 = y1;\n  this.z1 = z1;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","export function defaultZ(d) {\n  return d[2];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._z = _, this) : this._z;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add\";\nimport tree_cover from \"./cover\";\nimport tree_data from \"./data\";\nimport tree_extent from \"./extent\";\nimport tree_find from \"./find\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove\";\nimport tree_root from \"./root\";\nimport tree_size from \"./size\";\nimport tree_visit from \"./visit\";\nimport tree_visitAfter from \"./visitAfter\";\nimport tree_x, {defaultX} from \"./x\";\nimport tree_y, {defaultY} from \"./y\";\nimport tree_z, {defaultZ} from \"./z\";\n\nexport default function octree(nodes, x, y, z) {\n  var tree = new Octree(x == null ? defaultX : x, y == null ? defaultY : y, z == null ? defaultZ : z, NaN, NaN, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Octree(x, y, z, x0, y0, z0, x1, y1, z1) {\n  this._x = x;\n  this._y = y;\n  this._z = z;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._z0 = z0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._z1 = z1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = octree.prototype = Octree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Octree(this._x, this._y, this._z, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(8)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 8; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(8)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\ntreeProto.z = tree_z;\n","import {binarytree} from \"d3-binarytree\";\nimport {quadtree} from \"d3-quadtree\";\nimport {octree} from \"d3-octree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y, z} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      nDim,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i,\n        n = nodes.length,\n        tree =\n            (nDim === 1 ? binarytree(nodes, x)\n            :(nDim === 2 ? quadtree(nodes, x, y)\n            :(nDim === 3 ? octree(nodes, x, y, z)\n            :null\n        ))).visitAfter(accumulate);\n\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(treeNode) {\n    var strength = 0, q, c, weight = 0, x, y, z, i;\n    var numChildren = treeNode.length;\n\n    // For internal nodes, accumulate forces from children.\n    if (numChildren) {\n      for (x = y = z = i = 0; i < numChildren; ++i) {\n        if ((q = treeNode[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * (q.x || 0), y += c * (q.y || 0), z += c * (q.z || 0);\n        }\n      }\n      strength *= Math.sqrt(4 / numChildren); // scale accumulated strength according to number of dimensions\n\n      treeNode.x = x / weight;\n      if (nDim > 1) { treeNode.y = y / weight; }\n      if (nDim > 2) { treeNode.z = z / weight; }\n    }\n\n    // For leaf nodes, accumulate forces from coincident nodes.\n    else {\n      q = treeNode;\n      q.x = q.data.x;\n      if (nDim > 1) { q.y = q.data.y; }\n      if (nDim > 2) { q.z = q.data.z; }\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    treeNode.value = strength;\n  }\n\n  function apply(treeNode, x1, arg1, arg2, arg3) {\n    if (!treeNode.value) return true;\n    var x2 = [arg1, arg2, arg3][nDim-1];\n\n    var x = treeNode.x - node.x,\n        y = (nDim > 1 ? treeNode.y - node.y : 0),\n        z = (nDim > 2 ? treeNode.z - node.z : 0),\n        w = x2 - x1,\n        l = x * x + y * y + z * z;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (nDim > 1 && y === 0) y = jiggle(random), l += y * y;\n        if (nDim > 2 && z === 0) z = jiggle(random), l += z * z;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * treeNode.value * alpha / l;\n        if (nDim > 1) { node.vy += y * treeNode.value * alpha / l; }\n        if (nDim > 2) { node.vz += z * treeNode.value * alpha / l; }\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (treeNode.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (treeNode.data !== node || treeNode.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (nDim > 1 && y === 0) y = jiggle(random), l += y * y;\n      if (nDim > 2 && z === 0) z = jiggle(random), l += z * z;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (treeNode.data !== node) {\n      w = strengths[treeNode.data.index] * alpha / l;\n      node.vx += x * w;\n      if (nDim > 1) { node.vy += y * w; }\n      if (nDim > 2) { node.vz += z * w; }\n    } while (treeNode = treeNode.next);\n  }\n\n  force.initialize = function(_nodes, _numDimensions, _random) {\n    nodes = _nodes;\n    nDim = _numDimensions;\n    random = _random;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","export default function(x, y, z) {\n  var nodes, strength = 1;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n  if (z == null) z = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0,\n        sz = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x || 0, sy += node.y || 0, sz += node.z || 0;\n    }\n\n    for (sx = (sx / n - x) * strength, sy = (sy / n - y) * strength, sz = (sz / n - z) * strength, i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (sx) { node.x -= sx }\n      if (sy) { node.y -= sy; }\n      if (sz) { node.z -= sz; }\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.z = function(_) {\n    return arguments.length ? (z = +_, force) : z;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  return force;\n}\n","export default function(x, y, z) {\n  if (isNaN(x = +x) || isNaN(y = +y) || isNaN(z = +z)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      z0 = this._z0,\n      x1 = this._x1,\n      y1 = this._y1,\n      z1 = this._z1;\n\n  // If the octree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing octant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n    z1 = (z0 = Math.floor(z)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else if (x0 > x || x > x1 || y0 > y || y > y1 || z0 > z || z > z1) {\n    var t = x1 - x0,\n        node = this._root,\n        parent,\n        i;\n\n    switch (i = (z < (z0 + z1) / 2) << 2 | (y < (y0 + y1) / 2) << 1 | (x < (x0 + x1) / 2)) {\n      case 0: {\n        do parent = new Array(8), parent[i] = node, node = parent;\n        while (t *= 2, x1 = x0 + t, y1 = y0 + t, z1 = z0 + t, x > x1 || y > y1 || z > z1);\n        break;\n      }\n      case 1: {\n        do parent = new Array(8), parent[i] = node, node = parent;\n        while (t *= 2, x0 = x1 - t, y1 = y0 + t, z1 = z0 + t, x0 > x || y > y1 || z > z1);\n        break;\n      }\n      case 2: {\n        do parent = new Array(8), parent[i] = node, node = parent;\n        while (t *= 2, x1 = x0 + t, y0 = y1 - t, z1 = z0 + t, x > x1 || y0 > y || z > z1);\n        break;\n      }\n      case 3: {\n        do parent = new Array(8), parent[i] = node, node = parent;\n        while (t *= 2, x0 = x1 - t, y0 = y1 - t, z1 = z0 + t, x0 > x || y0 > y || z > z1);\n        break;\n      }\n      case 4: {\n        do parent = new Array(8), parent[i] = node, node = parent;\n        while (t *= 2, x1 = x0 + t, y1 = y0 + t, z0 = z1 - t, x > x1 || y > y1 || z0 > z);\n        break;\n      }\n      case 5: {\n        do parent = new Array(8), parent[i] = node, node = parent;\n        while (t *= 2, x0 = x1 - t, y1 = y0 + t, z0 = z1 - t, x0 > x || y > y1 || z0 > z);\n        break;\n      }\n      case 6: {\n        do parent = new Array(8), parent[i] = node, node = parent;\n        while (t *= 2, x1 = x0 + t, y0 = y1 - t, z0 = z1 - t, x > x1 || y0 > y || z0 > z);\n        break;\n      }\n      case 7: {\n        do parent = new Array(8), parent[i] = node, node = parent;\n        while (t *= 2, x0 = x1 - t, y0 = y1 - t, z0 = z1 - t, x0 > x || y0 > y || z0 > z);\n        break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  // If the octree covers the point already, just return.\n  else return this;\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._z0 = z0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._z1 = z1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1], +_[0][2]).cover(+_[1][0], +_[1][1], +_[1][2])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0, this._z0], [this._x1, this._y1, this._z1]];\n}\n","import Octant from \"./octant\";\n\nexport default function(x, y, z, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      z0 = this._z0,\n      x1,\n      y1,\n      z1,\n      x2,\n      y2,\n      z2,\n      x3 = this._x1,\n      y3 = this._y1,\n      z3 = this._z1,\n      octs = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) octs.push(new Octant(node, x0, y0, z0, x3, y3, z3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius, z0 = z - radius;\n    x3 = x + radius, y3 = y + radius, z3 = z + radius;\n    radius *= radius;\n  }\n\n  while (q = octs.pop()) {\n\n    // Stop searching if this octant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (z1 = q.z0) > z3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0\n        || (z2 = q.z1) < z0) continue;\n\n    // Bisect the current octant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2,\n          zm = (z1 + z2) / 2;\n\n      octs.push(\n        new Octant(node[7], xm, ym, zm, x2, y2, z2),\n        new Octant(node[6], x1, ym, zm, xm, y2, z2),\n        new Octant(node[5], xm, y1, zm, x2, ym, z2),\n        new Octant(node[4], x1, y1, zm, xm, ym, z2),\n        new Octant(node[3], xm, ym, z1, x2, y2, zm),\n        new Octant(node[2], x1, ym, z1, xm, y2, zm),\n        new Octant(node[1], xm, y1, z1, x2, ym, zm),\n        new Octant(node[0], x1, y1, z1, xm, ym, zm)\n      );\n\n      // Visit the closest octant first.\n      if (i = (z >= zm) << 2 | (y >= ym) << 1 | (x >= xm)) {\n        q = octs[octs.length - 1];\n        octs[octs.length - 1] = octs[octs.length - 1 - i];\n        octs[octs.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          dz = z - +this._z.call(null, node.data),\n          d2 = dx * dx + dy * dy + dz * dz;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d, z0 = z - d;\n        x3 = x + d, y3 = y + d, z3 = z + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d)) || isNaN(z = +this._z.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      z0 = this._z0,\n      x1 = this._x1,\n      y1 = this._y1,\n      z1 = this._z1,\n      x,\n      y,\n      z,\n      xm,\n      ym,\n      zm,\n      right,\n      bottom,\n      deep,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm; else z1 = zm;\n    if (!(parent = node, node = node[i = deep << 2 | bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 7] || parent[(i + 2) & 7] || parent[(i + 3) & 7] || parent[(i + 4) & 7] || parent[(i + 5) & 7] || parent[(i + 6) & 7] || parent[(i + 7) & 7]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3] || parent[4] || parent[5] || parent[6] || parent[7])\n      && node === (parent[7] || parent[6] || parent[5] || parent[4] || parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Octant from \"./octant\";\n\nexport default function(callback) {\n  var octs = [], q, node = this._root, child, x0, y0, z0, x1, y1, z1;\n  if (node) octs.push(new Octant(node, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1));\n  while (q = octs.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, z0 = q.z0, x1 = q.x1, y1 = q.y1, z1 = q.z1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2, zm = (z0 + z1) / 2;\n      if (child = node[7]) octs.push(new Octant(child, xm, ym, zm, x1, y1, z1));\n      if (child = node[6]) octs.push(new Octant(child, x0, ym, zm, xm, y1, z1));\n      if (child = node[5]) octs.push(new Octant(child, xm, y0, zm, x1, ym, z1));\n      if (child = node[4]) octs.push(new Octant(child, x0, y0, zm, xm, ym, z1));\n      if (child = node[3]) octs.push(new Octant(child, xm, ym, z0, x1, y1, zm));\n      if (child = node[2]) octs.push(new Octant(child, x0, ym, z0, xm, y1, zm));\n      if (child = node[1]) octs.push(new Octant(child, xm, y0, z0, x1, ym, zm));\n      if (child = node[0]) octs.push(new Octant(child, x0, y0, z0, xm, ym, zm));\n    }\n  }\n  return this;\n}\n","import Octant from \"./octant\";\n\nexport default function(callback) {\n  var octs = [], next = [], q;\n  if (this._root) octs.push(new Octant(this._root, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1));\n  while (q = octs.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, z0 = q.z0, x1 = q.x1, y1 = q.y1, z1 = q.z1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2, zm = (z0 + z1) / 2;\n      if (child = node[0]) octs.push(new Octant(child, x0, y0, z0, xm, ym, zm));\n      if (child = node[1]) octs.push(new Octant(child, xm, y0, z0, x1, ym, zm));\n      if (child = node[2]) octs.push(new Octant(child, x0, ym, z0, xm, y1, zm));\n      if (child = node[3]) octs.push(new Octant(child, xm, ym, z0, x1, y1, zm));\n      if (child = node[4]) octs.push(new Octant(child, x0, y0, zm, xm, ym, z1));\n      if (child = node[5]) octs.push(new Octant(child, xm, y0, zm, x1, ym, z1));\n      if (child = node[6]) octs.push(new Octant(child, x0, ym, zm, xm, y1, z1));\n      if (child = node[7]) octs.push(new Octant(child, xm, ym, zm, x1, y1, z1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.z0, q.x1, q.y1, q.z1);\n  }\n  return this;\n}\n","import { Bezier } from \"./bezier.js\";\n\n// math-inlining.\nconst { abs, cos, sin, acos, atan2, sqrt, pow } = Math;\n\n// cube root function yielding real roots\nfunction crt(v) {\n  return v < 0 ? -pow(-v, 1 / 3) : pow(v, 1 / 3);\n}\n\n// trig constants\nconst pi = Math.PI,\n  tau = 2 * pi,\n  quart = pi / 2,\n  // float precision significant decimal\n  epsilon = 0.000001,\n  // extremas used in bbox calculation and similar algorithms\n  nMax = Number.MAX_SAFE_INTEGER || 9007199254740991,\n  nMin = Number.MIN_SAFE_INTEGER || -9007199254740991,\n  // a zero coordinate, which is surprisingly useful\n  ZERO = { x: 0, y: 0, z: 0 };\n\n// Bezier utility functions\nconst utils = {\n  // Legendre-Gauss abscissae with n=24 (x_i values, defined at i=n as the roots of the nth order Legendre polynomial Pn(x))\n  Tvalues: [\n    -0.0640568928626056260850430826247450385909,\n    0.0640568928626056260850430826247450385909,\n    -0.1911188674736163091586398207570696318404,\n    0.1911188674736163091586398207570696318404,\n    -0.3150426796961633743867932913198102407864,\n    0.3150426796961633743867932913198102407864,\n    -0.4337935076260451384870842319133497124524,\n    0.4337935076260451384870842319133497124524,\n    -0.5454214713888395356583756172183723700107,\n    0.5454214713888395356583756172183723700107,\n    -0.6480936519369755692524957869107476266696,\n    0.6480936519369755692524957869107476266696,\n    -0.7401241915785543642438281030999784255232,\n    0.7401241915785543642438281030999784255232,\n    -0.8200019859739029219539498726697452080761,\n    0.8200019859739029219539498726697452080761,\n    -0.8864155270044010342131543419821967550873,\n    0.8864155270044010342131543419821967550873,\n    -0.9382745520027327585236490017087214496548,\n    0.9382745520027327585236490017087214496548,\n    -0.9747285559713094981983919930081690617411,\n    0.9747285559713094981983919930081690617411,\n    -0.9951872199970213601799974097007368118745,\n    0.9951872199970213601799974097007368118745,\n  ],\n\n  // Legendre-Gauss weights with n=24 (w_i values, defined by a function linked to in the Bezier primer article)\n  Cvalues: [\n    0.1279381953467521569740561652246953718517,\n    0.1279381953467521569740561652246953718517,\n    0.1258374563468282961213753825111836887264,\n    0.1258374563468282961213753825111836887264,\n    0.121670472927803391204463153476262425607,\n    0.121670472927803391204463153476262425607,\n    0.1155056680537256013533444839067835598622,\n    0.1155056680537256013533444839067835598622,\n    0.1074442701159656347825773424466062227946,\n    0.1074442701159656347825773424466062227946,\n    0.0976186521041138882698806644642471544279,\n    0.0976186521041138882698806644642471544279,\n    0.086190161531953275917185202983742667185,\n    0.086190161531953275917185202983742667185,\n    0.0733464814110803057340336152531165181193,\n    0.0733464814110803057340336152531165181193,\n    0.0592985849154367807463677585001085845412,\n    0.0592985849154367807463677585001085845412,\n    0.0442774388174198061686027482113382288593,\n    0.0442774388174198061686027482113382288593,\n    0.0285313886289336631813078159518782864491,\n    0.0285313886289336631813078159518782864491,\n    0.0123412297999871995468056670700372915759,\n    0.0123412297999871995468056670700372915759,\n  ],\n\n  arcfn: function (t, derivativeFn) {\n    const d = derivativeFn(t);\n    let l = d.x * d.x + d.y * d.y;\n    if (typeof d.z !== \"undefined\") {\n      l += d.z * d.z;\n    }\n    return sqrt(l);\n  },\n\n  compute: function (t, points, _3d) {\n    // shortcuts\n    if (t === 0) {\n      points[0].t = 0;\n      return points[0];\n    }\n\n    const order = points.length - 1;\n\n    if (t === 1) {\n      points[order].t = 1;\n      return points[order];\n    }\n\n    const mt = 1 - t;\n    let p = points;\n\n    // constant?\n    if (order === 0) {\n      points[0].t = t;\n      return points[0];\n    }\n\n    // linear?\n    if (order === 1) {\n      const ret = {\n        x: mt * p[0].x + t * p[1].x,\n        y: mt * p[0].y + t * p[1].y,\n        t: t,\n      };\n      if (_3d) {\n        ret.z = mt * p[0].z + t * p[1].z;\n      }\n      return ret;\n    }\n\n    // quadratic/cubic curve?\n    if (order < 4) {\n      let mt2 = mt * mt,\n        t2 = t * t,\n        a,\n        b,\n        c,\n        d = 0;\n      if (order === 2) {\n        p = [p[0], p[1], p[2], ZERO];\n        a = mt2;\n        b = mt * t * 2;\n        c = t2;\n      } else if (order === 3) {\n        a = mt2 * mt;\n        b = mt2 * t * 3;\n        c = mt * t2 * 3;\n        d = t * t2;\n      }\n      const ret = {\n        x: a * p[0].x + b * p[1].x + c * p[2].x + d * p[3].x,\n        y: a * p[0].y + b * p[1].y + c * p[2].y + d * p[3].y,\n        t: t,\n      };\n      if (_3d) {\n        ret.z = a * p[0].z + b * p[1].z + c * p[2].z + d * p[3].z;\n      }\n      return ret;\n    }\n\n    // higher order curves: use de Casteljau's computation\n    const dCpts = JSON.parse(JSON.stringify(points));\n    while (dCpts.length > 1) {\n      for (let i = 0; i < dCpts.length - 1; i++) {\n        dCpts[i] = {\n          x: dCpts[i].x + (dCpts[i + 1].x - dCpts[i].x) * t,\n          y: dCpts[i].y + (dCpts[i + 1].y - dCpts[i].y) * t,\n        };\n        if (typeof dCpts[i].z !== \"undefined\") {\n          dCpts[i] = dCpts[i].z + (dCpts[i + 1].z - dCpts[i].z) * t;\n        }\n      }\n      dCpts.splice(dCpts.length - 1, 1);\n    }\n    dCpts[0].t = t;\n    return dCpts[0];\n  },\n\n  computeWithRatios: function (t, points, ratios, _3d) {\n    const mt = 1 - t,\n      r = ratios,\n      p = points;\n\n    let f1 = r[0],\n      f2 = r[1],\n      f3 = r[2],\n      f4 = r[3],\n      d;\n\n    // spec for linear\n    f1 *= mt;\n    f2 *= t;\n\n    if (p.length === 2) {\n      d = f1 + f2;\n      return {\n        x: (f1 * p[0].x + f2 * p[1].x) / d,\n        y: (f1 * p[0].y + f2 * p[1].y) / d,\n        z: !_3d ? false : (f1 * p[0].z + f2 * p[1].z) / d,\n        t: t,\n      };\n    }\n\n    // upgrade to quadratic\n    f1 *= mt;\n    f2 *= 2 * mt;\n    f3 *= t * t;\n\n    if (p.length === 3) {\n      d = f1 + f2 + f3;\n      return {\n        x: (f1 * p[0].x + f2 * p[1].x + f3 * p[2].x) / d,\n        y: (f1 * p[0].y + f2 * p[1].y + f3 * p[2].y) / d,\n        z: !_3d ? false : (f1 * p[0].z + f2 * p[1].z + f3 * p[2].z) / d,\n        t: t,\n      };\n    }\n\n    // upgrade to cubic\n    f1 *= mt;\n    f2 *= 1.5 * mt;\n    f3 *= 3 * mt;\n    f4 *= t * t * t;\n\n    if (p.length === 4) {\n      d = f1 + f2 + f3 + f4;\n      return {\n        x: (f1 * p[0].x + f2 * p[1].x + f3 * p[2].x + f4 * p[3].x) / d,\n        y: (f1 * p[0].y + f2 * p[1].y + f3 * p[2].y + f4 * p[3].y) / d,\n        z: !_3d\n          ? false\n          : (f1 * p[0].z + f2 * p[1].z + f3 * p[2].z + f4 * p[3].z) / d,\n        t: t,\n      };\n    }\n  },\n\n  derive: function (points, _3d) {\n    const dpoints = [];\n    for (let p = points, d = p.length, c = d - 1; d > 1; d--, c--) {\n      const list = [];\n      for (let j = 0, dpt; j < c; j++) {\n        dpt = {\n          x: c * (p[j + 1].x - p[j].x),\n          y: c * (p[j + 1].y - p[j].y),\n        };\n        if (_3d) {\n          dpt.z = c * (p[j + 1].z - p[j].z);\n        }\n        list.push(dpt);\n      }\n      dpoints.push(list);\n      p = list;\n    }\n    return dpoints;\n  },\n\n  between: function (v, m, M) {\n    return (\n      (m <= v && v <= M) ||\n      utils.approximately(v, m) ||\n      utils.approximately(v, M)\n    );\n  },\n\n  approximately: function (a, b, precision) {\n    return abs(a - b) <= (precision || epsilon);\n  },\n\n  length: function (derivativeFn) {\n    const z = 0.5,\n      len = utils.Tvalues.length;\n\n    let sum = 0;\n\n    for (let i = 0, t; i < len; i++) {\n      t = z * utils.Tvalues[i] + z;\n      sum += utils.Cvalues[i] * utils.arcfn(t, derivativeFn);\n    }\n    return z * sum;\n  },\n\n  map: function (v, ds, de, ts, te) {\n    const d1 = de - ds,\n      d2 = te - ts,\n      v2 = v - ds,\n      r = v2 / d1;\n    return ts + d2 * r;\n  },\n\n  lerp: function (r, v1, v2) {\n    const ret = {\n      x: v1.x + r * (v2.x - v1.x),\n      y: v1.y + r * (v2.y - v1.y),\n    };\n    if (!!v1.z && !!v2.z) {\n      ret.z = v1.z + r * (v2.z - v1.z);\n    }\n    return ret;\n  },\n\n  pointToString: function (p) {\n    let s = p.x + \"/\" + p.y;\n    if (typeof p.z !== \"undefined\") {\n      s += \"/\" + p.z;\n    }\n    return s;\n  },\n\n  pointsToString: function (points) {\n    return \"[\" + points.map(utils.pointToString).join(\", \") + \"]\";\n  },\n\n  copy: function (obj) {\n    return JSON.parse(JSON.stringify(obj));\n  },\n\n  angle: function (o, v1, v2) {\n    const dx1 = v1.x - o.x,\n      dy1 = v1.y - o.y,\n      dx2 = v2.x - o.x,\n      dy2 = v2.y - o.y,\n      cross = dx1 * dy2 - dy1 * dx2,\n      dot = dx1 * dx2 + dy1 * dy2;\n    return atan2(cross, dot);\n  },\n\n  // round as string, to avoid rounding errors\n  round: function (v, d) {\n    const s = \"\" + v;\n    const pos = s.indexOf(\".\");\n    return parseFloat(s.substring(0, pos + 1 + d));\n  },\n\n  dist: function (p1, p2) {\n    const dx = p1.x - p2.x,\n      dy = p1.y - p2.y;\n    return sqrt(dx * dx + dy * dy);\n  },\n\n  closest: function (LUT, point) {\n    let mdist = pow(2, 63),\n      mpos,\n      d;\n    LUT.forEach(function (p, idx) {\n      d = utils.dist(point, p);\n      if (d < mdist) {\n        mdist = d;\n        mpos = idx;\n      }\n    });\n    return { mdist: mdist, mpos: mpos };\n  },\n\n  abcratio: function (t, n) {\n    // see ratio(t) note on http://pomax.github.io/bezierinfo/#abc\n    if (n !== 2 && n !== 3) {\n      return false;\n    }\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    } else if (t === 0 || t === 1) {\n      return t;\n    }\n    const bottom = pow(t, n) + pow(1 - t, n),\n      top = bottom - 1;\n    return abs(top / bottom);\n  },\n\n  projectionratio: function (t, n) {\n    // see u(t) note on http://pomax.github.io/bezierinfo/#abc\n    if (n !== 2 && n !== 3) {\n      return false;\n    }\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    } else if (t === 0 || t === 1) {\n      return t;\n    }\n    const top = pow(1 - t, n),\n      bottom = pow(t, n) + top;\n    return top / bottom;\n  },\n\n  lli8: function (x1, y1, x2, y2, x3, y3, x4, y4) {\n    const nx =\n        (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\n      ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\n      d = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n    if (d == 0) {\n      return false;\n    }\n    return { x: nx / d, y: ny / d };\n  },\n\n  lli4: function (p1, p2, p3, p4) {\n    const x1 = p1.x,\n      y1 = p1.y,\n      x2 = p2.x,\n      y2 = p2.y,\n      x3 = p3.x,\n      y3 = p3.y,\n      x4 = p4.x,\n      y4 = p4.y;\n    return utils.lli8(x1, y1, x2, y2, x3, y3, x4, y4);\n  },\n\n  lli: function (v1, v2) {\n    return utils.lli4(v1, v1.c, v2, v2.c);\n  },\n\n  makeline: function (p1, p2) {\n    const x1 = p1.x,\n      y1 = p1.y,\n      x2 = p2.x,\n      y2 = p2.y,\n      dx = (x2 - x1) / 3,\n      dy = (y2 - y1) / 3;\n    return new Bezier(\n      x1,\n      y1,\n      x1 + dx,\n      y1 + dy,\n      x1 + 2 * dx,\n      y1 + 2 * dy,\n      x2,\n      y2\n    );\n  },\n\n  findbbox: function (sections) {\n    let mx = nMax,\n      my = nMax,\n      MX = nMin,\n      MY = nMin;\n    sections.forEach(function (s) {\n      const bbox = s.bbox();\n      if (mx > bbox.x.min) mx = bbox.x.min;\n      if (my > bbox.y.min) my = bbox.y.min;\n      if (MX < bbox.x.max) MX = bbox.x.max;\n      if (MY < bbox.y.max) MY = bbox.y.max;\n    });\n    return {\n      x: { min: mx, mid: (mx + MX) / 2, max: MX, size: MX - mx },\n      y: { min: my, mid: (my + MY) / 2, max: MY, size: MY - my },\n    };\n  },\n\n  shapeintersections: function (\n    s1,\n    bbox1,\n    s2,\n    bbox2,\n    curveIntersectionThreshold\n  ) {\n    if (!utils.bboxoverlap(bbox1, bbox2)) return [];\n    const intersections = [];\n    const a1 = [s1.startcap, s1.forward, s1.back, s1.endcap];\n    const a2 = [s2.startcap, s2.forward, s2.back, s2.endcap];\n    a1.forEach(function (l1) {\n      if (l1.virtual) return;\n      a2.forEach(function (l2) {\n        if (l2.virtual) return;\n        const iss = l1.intersects(l2, curveIntersectionThreshold);\n        if (iss.length > 0) {\n          iss.c1 = l1;\n          iss.c2 = l2;\n          iss.s1 = s1;\n          iss.s2 = s2;\n          intersections.push(iss);\n        }\n      });\n    });\n    return intersections;\n  },\n\n  makeshape: function (forward, back, curveIntersectionThreshold) {\n    const bpl = back.points.length;\n    const fpl = forward.points.length;\n    const start = utils.makeline(back.points[bpl - 1], forward.points[0]);\n    const end = utils.makeline(forward.points[fpl - 1], back.points[0]);\n    const shape = {\n      startcap: start,\n      forward: forward,\n      back: back,\n      endcap: end,\n      bbox: utils.findbbox([start, forward, back, end]),\n    };\n    shape.intersections = function (s2) {\n      return utils.shapeintersections(\n        shape,\n        shape.bbox,\n        s2,\n        s2.bbox,\n        curveIntersectionThreshold\n      );\n    };\n    return shape;\n  },\n\n  getminmax: function (curve, d, list) {\n    if (!list) return { min: 0, max: 0 };\n    let min = nMax,\n      max = nMin,\n      t,\n      c;\n    if (list.indexOf(0) === -1) {\n      list = [0].concat(list);\n    }\n    if (list.indexOf(1) === -1) {\n      list.push(1);\n    }\n    for (let i = 0, len = list.length; i < len; i++) {\n      t = list[i];\n      c = curve.get(t);\n      if (c[d] < min) {\n        min = c[d];\n      }\n      if (c[d] > max) {\n        max = c[d];\n      }\n    }\n    return { min: min, mid: (min + max) / 2, max: max, size: max - min };\n  },\n\n  align: function (points, line) {\n    const tx = line.p1.x,\n      ty = line.p1.y,\n      a = -atan2(line.p2.y - ty, line.p2.x - tx),\n      d = function (v) {\n        return {\n          x: (v.x - tx) * cos(a) - (v.y - ty) * sin(a),\n          y: (v.x - tx) * sin(a) + (v.y - ty) * cos(a),\n        };\n      };\n    return points.map(d);\n  },\n\n  roots: function (points, line) {\n    line = line || { p1: { x: 0, y: 0 }, p2: { x: 1, y: 0 } };\n\n    const order = points.length - 1;\n    const aligned = utils.align(points, line);\n    const reduce = function (t) {\n      return 0 <= t && t <= 1;\n    };\n\n    if (order === 2) {\n      const a = aligned[0].y,\n        b = aligned[1].y,\n        c = aligned[2].y,\n        d = a - 2 * b + c;\n      if (d !== 0) {\n        const m1 = -sqrt(b * b - a * c),\n          m2 = -a + b,\n          v1 = -(m1 + m2) / d,\n          v2 = -(-m1 + m2) / d;\n        return [v1, v2].filter(reduce);\n      } else if (b !== c && d === 0) {\n        return [(2 * b - c) / (2 * b - 2 * c)].filter(reduce);\n      }\n      return [];\n    }\n\n    // see http://www.trans4mind.com/personal_development/mathematics/polynomials/cubicAlgebra.htm\n    const pa = aligned[0].y,\n      pb = aligned[1].y,\n      pc = aligned[2].y,\n      pd = aligned[3].y;\n\n    let d = -pa + 3 * pb - 3 * pc + pd,\n      a = 3 * pa - 6 * pb + 3 * pc,\n      b = -3 * pa + 3 * pb,\n      c = pa;\n\n    if (utils.approximately(d, 0)) {\n      // this is not a cubic curve.\n      if (utils.approximately(a, 0)) {\n        // in fact, this is not a quadratic curve either.\n        if (utils.approximately(b, 0)) {\n          // in fact in fact, there are no solutions.\n          return [];\n        }\n        // linear solution:\n        return [-c / b].filter(reduce);\n      }\n      // quadratic solution:\n      const q = sqrt(b * b - 4 * a * c),\n        a2 = 2 * a;\n      return [(q - b) / a2, (-b - q) / a2].filter(reduce);\n    }\n\n    // at this point, we know we need a cubic solution:\n\n    a /= d;\n    b /= d;\n    c /= d;\n\n    const p = (3 * b - a * a) / 3,\n      p3 = p / 3,\n      q = (2 * a * a * a - 9 * a * b + 27 * c) / 27,\n      q2 = q / 2,\n      discriminant = q2 * q2 + p3 * p3 * p3;\n\n    let u1, v1, x1, x2, x3;\n    if (discriminant < 0) {\n      const mp3 = -p / 3,\n        mp33 = mp3 * mp3 * mp3,\n        r = sqrt(mp33),\n        t = -q / (2 * r),\n        cosphi = t < -1 ? -1 : t > 1 ? 1 : t,\n        phi = acos(cosphi),\n        crtr = crt(r),\n        t1 = 2 * crtr;\n      x1 = t1 * cos(phi / 3) - a / 3;\n      x2 = t1 * cos((phi + tau) / 3) - a / 3;\n      x3 = t1 * cos((phi + 2 * tau) / 3) - a / 3;\n      return [x1, x2, x3].filter(reduce);\n    } else if (discriminant === 0) {\n      u1 = q2 < 0 ? crt(-q2) : -crt(q2);\n      x1 = 2 * u1 - a / 3;\n      x2 = -u1 - a / 3;\n      return [x1, x2].filter(reduce);\n    } else {\n      const sd = sqrt(discriminant);\n      u1 = crt(-q2 + sd);\n      v1 = crt(q2 + sd);\n      return [u1 - v1 - a / 3].filter(reduce);\n    }\n  },\n\n  droots: function (p) {\n    // quadratic roots are easy\n    if (p.length === 3) {\n      const a = p[0],\n        b = p[1],\n        c = p[2],\n        d = a - 2 * b + c;\n      if (d !== 0) {\n        const m1 = -sqrt(b * b - a * c),\n          m2 = -a + b,\n          v1 = -(m1 + m2) / d,\n          v2 = -(-m1 + m2) / d;\n        return [v1, v2];\n      } else if (b !== c && d === 0) {\n        return [(2 * b - c) / (2 * (b - c))];\n      }\n      return [];\n    }\n\n    // linear roots are even easier\n    if (p.length === 2) {\n      const a = p[0],\n        b = p[1];\n      if (a !== b) {\n        return [a / (a - b)];\n      }\n      return [];\n    }\n\n    return [];\n  },\n\n  curvature: function (t, d1, d2, _3d, kOnly) {\n    let num,\n      dnm,\n      adk,\n      dk,\n      k = 0,\n      r = 0;\n\n    //\n    // We're using the following formula for curvature:\n    //\n    //              x'y\" - y'x\"\n    //   k(t) = ------------------\n    //           (x' + y')^(3/2)\n    //\n    // from https://en.wikipedia.org/wiki/Radius_of_curvature#Definition\n    //\n    // With it corresponding 3D counterpart:\n    //\n    //          sqrt( (y'z\" - y\"z') + (z'x\" - z\"x') + (x'y\" - x\"y'))\n    //   k(t) = -------------------------------------------------------\n    //                     (x' + y' + z')^(3/2)\n    //\n\n    const d = utils.compute(t, d1);\n    const dd = utils.compute(t, d2);\n    const qdsum = d.x * d.x + d.y * d.y;\n\n    if (_3d) {\n      num = sqrt(\n        pow(d.y * dd.z - dd.y * d.z, 2) +\n          pow(d.z * dd.x - dd.z * d.x, 2) +\n          pow(d.x * dd.y - dd.x * d.y, 2)\n      );\n      dnm = pow(qdsum + d.z * d.z, 3 / 2);\n    } else {\n      num = d.x * dd.y - d.y * dd.x;\n      dnm = pow(qdsum, 3 / 2);\n    }\n\n    if (num === 0 || dnm === 0) {\n      return { k: 0, r: 0 };\n    }\n\n    k = num / dnm;\n    r = dnm / num;\n\n    // We're also computing the derivative of kappa, because\n    // there is value in knowing the rate of change for the\n    // curvature along the curve. And we're just going to\n    // ballpark it based on an epsilon.\n    if (!kOnly) {\n      // compute k'(t) based on the interval before, and after it,\n      // to at least try to not introduce forward/backward pass bias.\n      const pk = utils.curvature(t - 0.001, d1, d2, _3d, true).k;\n      const nk = utils.curvature(t + 0.001, d1, d2, _3d, true).k;\n      dk = (nk - k + (k - pk)) / 2;\n      adk = (abs(nk - k) + abs(k - pk)) / 2;\n    }\n\n    return { k: k, r: r, dk: dk, adk: adk };\n  },\n\n  inflections: function (points) {\n    if (points.length < 4) return [];\n\n    // FIXME: TODO: add in inflection abstraction for quartic+ curves?\n\n    const p = utils.align(points, { p1: points[0], p2: points.slice(-1)[0] }),\n      a = p[2].x * p[1].y,\n      b = p[3].x * p[1].y,\n      c = p[1].x * p[2].y,\n      d = p[3].x * p[2].y,\n      v1 = 18 * (-3 * a + 2 * b + 3 * c - d),\n      v2 = 18 * (3 * a - b - 3 * c),\n      v3 = 18 * (c - a);\n\n    if (utils.approximately(v1, 0)) {\n      if (!utils.approximately(v2, 0)) {\n        let t = -v3 / v2;\n        if (0 <= t && t <= 1) return [t];\n      }\n      return [];\n    }\n\n    const trm = v2 * v2 - 4 * v1 * v3,\n      sq = Math.sqrt(trm),\n      d2 = 2 * v1;\n\n    if (utils.approximately(d2, 0)) return [];\n\n    return [(sq - v2) / d2, -(v2 + sq) / d2].filter(function (r) {\n      return 0 <= r && r <= 1;\n    });\n  },\n\n  bboxoverlap: function (b1, b2) {\n    const dims = [\"x\", \"y\"],\n      len = dims.length;\n\n    for (let i = 0, dim, l, t, d; i < len; i++) {\n      dim = dims[i];\n      l = b1[dim].mid;\n      t = b2[dim].mid;\n      d = (b1[dim].size + b2[dim].size) / 2;\n      if (abs(l - t) >= d) return false;\n    }\n    return true;\n  },\n\n  expandbox: function (bbox, _bbox) {\n    if (_bbox.x.min < bbox.x.min) {\n      bbox.x.min = _bbox.x.min;\n    }\n    if (_bbox.y.min < bbox.y.min) {\n      bbox.y.min = _bbox.y.min;\n    }\n    if (_bbox.z && _bbox.z.min < bbox.z.min) {\n      bbox.z.min = _bbox.z.min;\n    }\n    if (_bbox.x.max > bbox.x.max) {\n      bbox.x.max = _bbox.x.max;\n    }\n    if (_bbox.y.max > bbox.y.max) {\n      bbox.y.max = _bbox.y.max;\n    }\n    if (_bbox.z && _bbox.z.max > bbox.z.max) {\n      bbox.z.max = _bbox.z.max;\n    }\n    bbox.x.mid = (bbox.x.min + bbox.x.max) / 2;\n    bbox.y.mid = (bbox.y.min + bbox.y.max) / 2;\n    if (bbox.z) {\n      bbox.z.mid = (bbox.z.min + bbox.z.max) / 2;\n    }\n    bbox.x.size = bbox.x.max - bbox.x.min;\n    bbox.y.size = bbox.y.max - bbox.y.min;\n    if (bbox.z) {\n      bbox.z.size = bbox.z.max - bbox.z.min;\n    }\n  },\n\n  pairiteration: function (c1, c2, curveIntersectionThreshold) {\n    const c1b = c1.bbox(),\n      c2b = c2.bbox(),\n      r = 100000,\n      threshold = curveIntersectionThreshold || 0.5;\n\n    if (\n      c1b.x.size + c1b.y.size < threshold &&\n      c2b.x.size + c2b.y.size < threshold\n    ) {\n      return [\n        (((r * (c1._t1 + c1._t2)) / 2) | 0) / r +\n          \"/\" +\n          (((r * (c2._t1 + c2._t2)) / 2) | 0) / r,\n      ];\n    }\n\n    let cc1 = c1.split(0.5),\n      cc2 = c2.split(0.5),\n      pairs = [\n        { left: cc1.left, right: cc2.left },\n        { left: cc1.left, right: cc2.right },\n        { left: cc1.right, right: cc2.right },\n        { left: cc1.right, right: cc2.left },\n      ];\n\n    pairs = pairs.filter(function (pair) {\n      return utils.bboxoverlap(pair.left.bbox(), pair.right.bbox());\n    });\n\n    let results = [];\n\n    if (pairs.length === 0) return results;\n\n    pairs.forEach(function (pair) {\n      results = results.concat(\n        utils.pairiteration(pair.left, pair.right, threshold)\n      );\n    });\n\n    results = results.filter(function (v, i) {\n      return results.indexOf(v) === i;\n    });\n\n    return results;\n  },\n\n  getccenter: function (p1, p2, p3) {\n    const dx1 = p2.x - p1.x,\n      dy1 = p2.y - p1.y,\n      dx2 = p3.x - p2.x,\n      dy2 = p3.y - p2.y,\n      dx1p = dx1 * cos(quart) - dy1 * sin(quart),\n      dy1p = dx1 * sin(quart) + dy1 * cos(quart),\n      dx2p = dx2 * cos(quart) - dy2 * sin(quart),\n      dy2p = dx2 * sin(quart) + dy2 * cos(quart),\n      // chord midpoints\n      mx1 = (p1.x + p2.x) / 2,\n      my1 = (p1.y + p2.y) / 2,\n      mx2 = (p2.x + p3.x) / 2,\n      my2 = (p2.y + p3.y) / 2,\n      // midpoint offsets\n      mx1n = mx1 + dx1p,\n      my1n = my1 + dy1p,\n      mx2n = mx2 + dx2p,\n      my2n = my2 + dy2p,\n      // intersection of these lines:\n      arc = utils.lli8(mx1, my1, mx1n, my1n, mx2, my2, mx2n, my2n),\n      r = utils.dist(arc, p1);\n\n    // arc start/end values, over mid point:\n    let s = atan2(p1.y - arc.y, p1.x - arc.x),\n      m = atan2(p2.y - arc.y, p2.x - arc.x),\n      e = atan2(p3.y - arc.y, p3.x - arc.x),\n      _;\n\n    // determine arc direction (cw/ccw correction)\n    if (s < e) {\n      // if s<m<e, arc(s, e)\n      // if m<s<e, arc(e, s + tau)\n      // if s<e<m, arc(e, s + tau)\n      if (s > m || m > e) {\n        s += tau;\n      }\n      if (s > e) {\n        _ = e;\n        e = s;\n        s = _;\n      }\n    } else {\n      // if e<m<s, arc(e, s)\n      // if m<e<s, arc(s, e + tau)\n      // if e<s<m, arc(s, e + tau)\n      if (e < m && m < s) {\n        _ = e;\n        e = s;\n        s = _;\n      } else {\n        e += tau;\n      }\n    }\n    // assign and done.\n    arc.s = s;\n    arc.e = e;\n    arc.r = r;\n    return arc;\n  },\n\n  numberSort: function (a, b) {\n    return a - b;\n  },\n};\n\nexport { utils };\n","import { utils } from \"./utils.js\";\n\n/**\n * Poly Bezier\n * @param {[type]} curves [description]\n */\nclass PolyBezier {\n  constructor(curves) {\n    this.curves = [];\n    this._3d = false;\n    if (!!curves) {\n      this.curves = curves;\n      this._3d = this.curves[0]._3d;\n    }\n  }\n\n  valueOf() {\n    return this.toString();\n  }\n\n  toString() {\n    return (\n      \"[\" +\n      this.curves\n        .map(function (curve) {\n          return utils.pointsToString(curve.points);\n        })\n        .join(\", \") +\n      \"]\"\n    );\n  }\n\n  addCurve(curve) {\n    this.curves.push(curve);\n    this._3d = this._3d || curve._3d;\n  }\n\n  length() {\n    return this.curves\n      .map(function (v) {\n        return v.length();\n      })\n      .reduce(function (a, b) {\n        return a + b;\n      });\n  }\n\n  curve(idx) {\n    return this.curves[idx];\n  }\n\n  bbox() {\n    const c = this.curves;\n    var bbox = c[0].bbox();\n    for (var i = 1; i < c.length; i++) {\n      utils.expandbox(bbox, c[i].bbox());\n    }\n    return bbox;\n  }\n\n  offset(d) {\n    const offset = [];\n    this.curves.forEach(function (v) {\n      offset.push(...v.offset(d));\n    });\n    return new PolyBezier(offset);\n  }\n}\n\nexport { PolyBezier };\n","/**\n  A javascript Bezier curve library by Pomax.\n\n  Based on http://pomax.github.io/bezierinfo\n\n  This code is MIT licensed.\n**/\n\nimport { utils } from \"./utils.js\";\nimport { PolyBezier } from \"./poly-bezier.js\";\n\n// math-inlining.\nconst { abs, min, max, cos, sin, acos, sqrt } = Math;\nconst pi = Math.PI;\n// a zero coordinate, which is surprisingly useful\nconst ZERO = { x: 0, y: 0, z: 0 };\n\n/**\n * Bezier curve constructor.\n *\n * ...docs pending...\n */\nclass Bezier {\n  constructor(coords) {\n    let args =\n      coords && coords.forEach ? coords : Array.from(arguments).slice();\n    let coordlen = false;\n\n    if (typeof args[0] === \"object\") {\n      coordlen = args.length;\n      const newargs = [];\n      args.forEach(function (point) {\n        [\"x\", \"y\", \"z\"].forEach(function (d) {\n          if (typeof point[d] !== \"undefined\") {\n            newargs.push(point[d]);\n          }\n        });\n      });\n      args = newargs;\n    }\n\n    let higher = false;\n    const len = args.length;\n\n    if (coordlen) {\n      if (coordlen > 4) {\n        if (arguments.length !== 1) {\n          throw new Error(\n            \"Only new Bezier(point[]) is accepted for 4th and higher order curves\"\n          );\n        }\n        higher = true;\n      }\n    } else {\n      if (len !== 6 && len !== 8 && len !== 9 && len !== 12) {\n        if (arguments.length !== 1) {\n          throw new Error(\n            \"Only new Bezier(point[]) is accepted for 4th and higher order curves\"\n          );\n        }\n      }\n    }\n\n    const _3d = (this._3d =\n      (!higher && (len === 9 || len === 12)) ||\n      (coords && coords[0] && typeof coords[0].z !== \"undefined\"));\n\n    const points = (this.points = []);\n    for (let idx = 0, step = _3d ? 3 : 2; idx < len; idx += step) {\n      var point = {\n        x: args[idx],\n        y: args[idx + 1],\n      };\n      if (_3d) {\n        point.z = args[idx + 2];\n      }\n      points.push(point);\n    }\n    const order = (this.order = points.length - 1);\n\n    const dims = (this.dims = [\"x\", \"y\"]);\n    if (_3d) dims.push(\"z\");\n    this.dimlen = dims.length;\n\n    const aligned = utils.align(points, { p1: points[0], p2: points[order] });\n    this._linear = !aligned.some((p) => abs(p.y) > 0.0001);\n\n    this._lut = [];\n\n    this._t1 = 0;\n    this._t2 = 1;\n    this.update();\n  }\n\n  static quadraticFromPoints(p1, p2, p3, t) {\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    }\n    // shortcuts, although they're really dumb\n    if (t === 0) {\n      return new Bezier(p2, p2, p3);\n    }\n    if (t === 1) {\n      return new Bezier(p1, p2, p2);\n    }\n    // real fitting.\n    const abc = Bezier.getABC(2, p1, p2, p3, t);\n    return new Bezier(p1, abc.A, p3);\n  }\n\n  static cubicFromPoints(S, B, E, t, d1) {\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    }\n    const abc = Bezier.getABC(3, S, B, E, t);\n    if (typeof d1 === \"undefined\") {\n      d1 = utils.dist(B, abc.C);\n    }\n    const d2 = (d1 * (1 - t)) / t;\n\n    const selen = utils.dist(S, E),\n      lx = (E.x - S.x) / selen,\n      ly = (E.y - S.y) / selen,\n      bx1 = d1 * lx,\n      by1 = d1 * ly,\n      bx2 = d2 * lx,\n      by2 = d2 * ly;\n    // derivation of new hull coordinates\n    const e1 = { x: B.x - bx1, y: B.y - by1 },\n      e2 = { x: B.x + bx2, y: B.y + by2 },\n      A = abc.A,\n      v1 = { x: A.x + (e1.x - A.x) / (1 - t), y: A.y + (e1.y - A.y) / (1 - t) },\n      v2 = { x: A.x + (e2.x - A.x) / t, y: A.y + (e2.y - A.y) / t },\n      nc1 = { x: S.x + (v1.x - S.x) / t, y: S.y + (v1.y - S.y) / t },\n      nc2 = {\n        x: E.x + (v2.x - E.x) / (1 - t),\n        y: E.y + (v2.y - E.y) / (1 - t),\n      };\n    // ...done\n    return new Bezier(S, nc1, nc2, E);\n  }\n\n  static getUtils() {\n    return utils;\n  }\n\n  getUtils() {\n    return Bezier.getUtils();\n  }\n\n  static get PolyBezier() {\n    return PolyBezier;\n  }\n\n  valueOf() {\n    return this.toString();\n  }\n\n  toString() {\n    return utils.pointsToString(this.points);\n  }\n\n  toSVG() {\n    if (this._3d) return false;\n    const p = this.points,\n      x = p[0].x,\n      y = p[0].y,\n      s = [\"M\", x, y, this.order === 2 ? \"Q\" : \"C\"];\n    for (let i = 1, last = p.length; i < last; i++) {\n      s.push(p[i].x);\n      s.push(p[i].y);\n    }\n    return s.join(\" \");\n  }\n\n  setRatios(ratios) {\n    if (ratios.length !== this.points.length) {\n      throw new Error(\"incorrect number of ratio values\");\n    }\n    this.ratios = ratios;\n    this._lut = []; //  invalidate any precomputed LUT\n  }\n\n  verify() {\n    const print = this.coordDigest();\n    if (print !== this._print) {\n      this._print = print;\n      this.update();\n    }\n  }\n\n  coordDigest() {\n    return this.points\n      .map(function (c, pos) {\n        return \"\" + pos + c.x + c.y + (c.z ? c.z : 0);\n      })\n      .join(\"\");\n  }\n\n  update() {\n    // invalidate any precomputed LUT\n    this._lut = [];\n    this.dpoints = utils.derive(this.points, this._3d);\n    this.computedirection();\n  }\n\n  computedirection() {\n    const points = this.points;\n    const angle = utils.angle(points[0], points[this.order], points[1]);\n    this.clockwise = angle > 0;\n  }\n\n  length() {\n    return utils.length(this.derivative.bind(this));\n  }\n\n  static getABC(order = 2, S, B, E, t = 0.5) {\n    const u = utils.projectionratio(t, order),\n      um = 1 - u,\n      C = {\n        x: u * S.x + um * E.x,\n        y: u * S.y + um * E.y,\n      },\n      s = utils.abcratio(t, order),\n      A = {\n        x: B.x + (B.x - C.x) / s,\n        y: B.y + (B.y - C.y) / s,\n      };\n    return { A, B, C, S, E };\n  }\n\n  getABC(t, B) {\n    B = B || this.get(t);\n    let S = this.points[0];\n    let E = this.points[this.order];\n    return Bezier.getABC(this.order, S, B, E, t);\n  }\n\n  getLUT(steps) {\n    this.verify();\n    steps = steps || 100;\n    if (this._lut.length === steps) {\n      return this._lut;\n    }\n    this._lut = [];\n    // We want a range from 0 to 1 inclusive, so\n    // we decrement and then use <= rather than <:\n    steps--;\n    for (let i = 0, p, t; i < steps; i++) {\n      t = i / (steps - 1);\n      p = this.compute(t);\n      p.t = t;\n      this._lut.push(p);\n    }\n    return this._lut;\n  }\n\n  on(point, error) {\n    error = error || 5;\n    const lut = this.getLUT(),\n      hits = [];\n    for (let i = 0, c, t = 0; i < lut.length; i++) {\n      c = lut[i];\n      if (utils.dist(c, point) < error) {\n        hits.push(c);\n        t += i / lut.length;\n      }\n    }\n    if (!hits.length) return false;\n    return (t /= hits.length);\n  }\n\n  project(point) {\n    // step 1: coarse check\n    const LUT = this.getLUT(),\n      l = LUT.length - 1,\n      closest = utils.closest(LUT, point),\n      mpos = closest.mpos,\n      t1 = (mpos - 1) / l,\n      t2 = (mpos + 1) / l,\n      step = 0.1 / l;\n\n    // step 2: fine check\n    let mdist = closest.mdist,\n      t = t1,\n      ft = t,\n      p;\n    mdist += 1;\n    for (let d; t < t2 + step; t += step) {\n      p = this.compute(t);\n      d = utils.dist(point, p);\n      if (d < mdist) {\n        mdist = d;\n        ft = t;\n      }\n    }\n    ft = ft < 0 ? 0 : ft > 1 ? 1 : ft;\n    p = this.compute(ft);\n    p.t = ft;\n    p.d = mdist;\n    return p;\n  }\n\n  get(t) {\n    return this.compute(t);\n  }\n\n  point(idx) {\n    return this.points[idx];\n  }\n\n  compute(t) {\n    if (this.ratios) {\n      return utils.computeWithRatios(t, this.points, this.ratios, this._3d);\n    }\n    return utils.compute(t, this.points, this._3d, this.ratios);\n  }\n\n  raise() {\n    const p = this.points,\n      np = [p[0]],\n      k = p.length;\n    for (let i = 1, pi, pim; i < k; i++) {\n      pi = p[i];\n      pim = p[i - 1];\n      np[i] = {\n        x: ((k - i) / k) * pi.x + (i / k) * pim.x,\n        y: ((k - i) / k) * pi.y + (i / k) * pim.y,\n      };\n    }\n    np[k] = p[k - 1];\n    return new Bezier(np);\n  }\n\n  derivative(t) {\n    return utils.compute(t, this.dpoints[0]);\n  }\n\n  dderivative(t) {\n    return utils.compute(t, this.dpoints[1]);\n  }\n\n  align() {\n    let p = this.points;\n    return new Bezier(utils.align(p, { p1: p[0], p2: p[p.length - 1] }));\n  }\n\n  curvature(t) {\n    return utils.curvature(t, this.dpoints[0], this.dpoints[1], this._3d);\n  }\n\n  inflections() {\n    return utils.inflections(this.points);\n  }\n\n  normal(t) {\n    return this._3d ? this.__normal3(t) : this.__normal2(t);\n  }\n\n  __normal2(t) {\n    const d = this.derivative(t);\n    const q = sqrt(d.x * d.x + d.y * d.y);\n    return { x: -d.y / q, y: d.x / q };\n  }\n\n  __normal3(t) {\n    // see http://stackoverflow.com/questions/25453159\n    const r1 = this.derivative(t),\n      r2 = this.derivative(t + 0.01),\n      q1 = sqrt(r1.x * r1.x + r1.y * r1.y + r1.z * r1.z),\n      q2 = sqrt(r2.x * r2.x + r2.y * r2.y + r2.z * r2.z);\n    r1.x /= q1;\n    r1.y /= q1;\n    r1.z /= q1;\n    r2.x /= q2;\n    r2.y /= q2;\n    r2.z /= q2;\n    // cross product\n    const c = {\n      x: r2.y * r1.z - r2.z * r1.y,\n      y: r2.z * r1.x - r2.x * r1.z,\n      z: r2.x * r1.y - r2.y * r1.x,\n    };\n    const m = sqrt(c.x * c.x + c.y * c.y + c.z * c.z);\n    c.x /= m;\n    c.y /= m;\n    c.z /= m;\n    // rotation matrix\n    const R = [\n      c.x * c.x,\n      c.x * c.y - c.z,\n      c.x * c.z + c.y,\n      c.x * c.y + c.z,\n      c.y * c.y,\n      c.y * c.z - c.x,\n      c.x * c.z - c.y,\n      c.y * c.z + c.x,\n      c.z * c.z,\n    ];\n    // normal vector:\n    const n = {\n      x: R[0] * r1.x + R[1] * r1.y + R[2] * r1.z,\n      y: R[3] * r1.x + R[4] * r1.y + R[5] * r1.z,\n      z: R[6] * r1.x + R[7] * r1.y + R[8] * r1.z,\n    };\n    return n;\n  }\n\n  hull(t) {\n    let p = this.points,\n      _p = [],\n      q = [],\n      idx = 0;\n    q[idx++] = p[0];\n    q[idx++] = p[1];\n    q[idx++] = p[2];\n    if (this.order === 3) {\n      q[idx++] = p[3];\n    }\n    // we lerp between all points at each iteration, until we have 1 point left.\n    while (p.length > 1) {\n      _p = [];\n      for (let i = 0, pt, l = p.length - 1; i < l; i++) {\n        pt = utils.lerp(t, p[i], p[i + 1]);\n        q[idx++] = pt;\n        _p.push(pt);\n      }\n      p = _p;\n    }\n    return q;\n  }\n\n  split(t1, t2) {\n    // shortcuts\n    if (t1 === 0 && !!t2) {\n      return this.split(t2).left;\n    }\n    if (t2 === 1) {\n      return this.split(t1).right;\n    }\n\n    // no shortcut: use \"de Casteljau\" iteration.\n    const q = this.hull(t1);\n    const result = {\n      left:\n        this.order === 2\n          ? new Bezier([q[0], q[3], q[5]])\n          : new Bezier([q[0], q[4], q[7], q[9]]),\n      right:\n        this.order === 2\n          ? new Bezier([q[5], q[4], q[2]])\n          : new Bezier([q[9], q[8], q[6], q[3]]),\n      span: q,\n    };\n\n    // make sure we bind _t1/_t2 information!\n    result.left._t1 = utils.map(0, 0, 1, this._t1, this._t2);\n    result.left._t2 = utils.map(t1, 0, 1, this._t1, this._t2);\n    result.right._t1 = utils.map(t1, 0, 1, this._t1, this._t2);\n    result.right._t2 = utils.map(1, 0, 1, this._t1, this._t2);\n\n    // if we have no t2, we're done\n    if (!t2) {\n      return result;\n    }\n\n    // if we have a t2, split again:\n    t2 = utils.map(t2, t1, 1, 0, 1);\n    return result.right.split(t2).left;\n  }\n\n  extrema() {\n    const result = {};\n    let roots = [];\n\n    this.dims.forEach(\n      function (dim) {\n        let mfn = function (v) {\n          return v[dim];\n        };\n        let p = this.dpoints[0].map(mfn);\n        result[dim] = utils.droots(p);\n        if (this.order === 3) {\n          p = this.dpoints[1].map(mfn);\n          result[dim] = result[dim].concat(utils.droots(p));\n        }\n        result[dim] = result[dim].filter(function (t) {\n          return t >= 0 && t <= 1;\n        });\n        roots = roots.concat(result[dim].sort(utils.numberSort));\n      }.bind(this)\n    );\n\n    result.values = roots.sort(utils.numberSort).filter(function (v, idx) {\n      return roots.indexOf(v) === idx;\n    });\n\n    return result;\n  }\n\n  bbox() {\n    const extrema = this.extrema(),\n      result = {};\n    this.dims.forEach(\n      function (d) {\n        result[d] = utils.getminmax(this, d, extrema[d]);\n      }.bind(this)\n    );\n    return result;\n  }\n\n  overlaps(curve) {\n    const lbbox = this.bbox(),\n      tbbox = curve.bbox();\n    return utils.bboxoverlap(lbbox, tbbox);\n  }\n\n  offset(t, d) {\n    if (typeof d !== \"undefined\") {\n      const c = this.get(t),\n        n = this.normal(t);\n      const ret = {\n        c: c,\n        n: n,\n        x: c.x + n.x * d,\n        y: c.y + n.y * d,\n      };\n      if (this._3d) {\n        ret.z = c.z + n.z * d;\n      }\n      return ret;\n    }\n    if (this._linear) {\n      const nv = this.normal(0),\n        coords = this.points.map(function (p) {\n          const ret = {\n            x: p.x + t * nv.x,\n            y: p.y + t * nv.y,\n          };\n          if (p.z && nv.z) {\n            ret.z = p.z + t * nv.z;\n          }\n          return ret;\n        });\n      return [new Bezier(coords)];\n    }\n    return this.reduce().map(function (s) {\n      if (s._linear) {\n        return s.offset(t)[0];\n      }\n      return s.scale(t);\n    });\n  }\n\n  simple() {\n    if (this.order === 3) {\n      const a1 = utils.angle(this.points[0], this.points[3], this.points[1]);\n      const a2 = utils.angle(this.points[0], this.points[3], this.points[2]);\n      if ((a1 > 0 && a2 < 0) || (a1 < 0 && a2 > 0)) return false;\n    }\n    const n1 = this.normal(0);\n    const n2 = this.normal(1);\n    let s = n1.x * n2.x + n1.y * n2.y;\n    if (this._3d) {\n      s += n1.z * n2.z;\n    }\n    return abs(acos(s)) < pi / 3;\n  }\n\n  reduce() {\n    // TODO: examine these var types in more detail...\n    let i,\n      t1 = 0,\n      t2 = 0,\n      step = 0.01,\n      segment,\n      pass1 = [],\n      pass2 = [];\n    // first pass: split on extrema\n    let extrema = this.extrema().values;\n    if (extrema.indexOf(0) === -1) {\n      extrema = [0].concat(extrema);\n    }\n    if (extrema.indexOf(1) === -1) {\n      extrema.push(1);\n    }\n\n    for (t1 = extrema[0], i = 1; i < extrema.length; i++) {\n      t2 = extrema[i];\n      segment = this.split(t1, t2);\n      segment._t1 = t1;\n      segment._t2 = t2;\n      pass1.push(segment);\n      t1 = t2;\n    }\n\n    // second pass: further reduce these segments to simple segments\n    pass1.forEach(function (p1) {\n      t1 = 0;\n      t2 = 0;\n      while (t2 <= 1) {\n        for (t2 = t1 + step; t2 <= 1 + step; t2 += step) {\n          segment = p1.split(t1, t2);\n          if (!segment.simple()) {\n            t2 -= step;\n            if (abs(t1 - t2) < step) {\n              // we can never form a reduction\n              return [];\n            }\n            segment = p1.split(t1, t2);\n            segment._t1 = utils.map(t1, 0, 1, p1._t1, p1._t2);\n            segment._t2 = utils.map(t2, 0, 1, p1._t1, p1._t2);\n            pass2.push(segment);\n            t1 = t2;\n            break;\n          }\n        }\n      }\n      if (t1 < 1) {\n        segment = p1.split(t1, 1);\n        segment._t1 = utils.map(t1, 0, 1, p1._t1, p1._t2);\n        segment._t2 = p1._t2;\n        pass2.push(segment);\n      }\n    });\n    return pass2;\n  }\n\n  scale(d) {\n    const order = this.order;\n    let distanceFn = false;\n    if (typeof d === \"function\") {\n      distanceFn = d;\n    }\n    if (distanceFn && order === 2) {\n      return this.raise().scale(distanceFn);\n    }\n\n    // TODO: add special handling for degenerate (=linear) curves.\n    const clockwise = this.clockwise;\n    const r1 = distanceFn ? distanceFn(0) : d;\n    const r2 = distanceFn ? distanceFn(1) : d;\n    const v = [this.offset(0, 10), this.offset(1, 10)];\n    const points = this.points;\n    const np = [];\n    const o = utils.lli4(v[0], v[0].c, v[1], v[1].c);\n\n    if (!o) {\n      throw new Error(\"cannot scale this curve. Try reducing it first.\");\n    }\n    // move all points by distance 'd' wrt the origin 'o'\n\n    // move end points by fixed distance along normal.\n    [0, 1].forEach(function (t) {\n      const p = (np[t * order] = utils.copy(points[t * order]));\n      p.x += (t ? r2 : r1) * v[t].n.x;\n      p.y += (t ? r2 : r1) * v[t].n.y;\n    });\n\n    if (!distanceFn) {\n      // move control points to lie on the intersection of the offset\n      // derivative vector, and the origin-through-control vector\n      [0, 1].forEach((t) => {\n        if (order === 2 && !!t) return;\n        const p = np[t * order];\n        const d = this.derivative(t);\n        const p2 = { x: p.x + d.x, y: p.y + d.y };\n        np[t + 1] = utils.lli4(p, p2, o, points[t + 1]);\n      });\n      return new Bezier(np);\n    }\n\n    // move control points by \"however much necessary to\n    // ensure the correct tangent to endpoint\".\n    [0, 1].forEach(function (t) {\n      if (order === 2 && !!t) return;\n      var p = points[t + 1];\n      var ov = {\n        x: p.x - o.x,\n        y: p.y - o.y,\n      };\n      var rc = distanceFn ? distanceFn((t + 1) / order) : d;\n      if (distanceFn && !clockwise) rc = -rc;\n      var m = sqrt(ov.x * ov.x + ov.y * ov.y);\n      ov.x /= m;\n      ov.y /= m;\n      np[t + 1] = {\n        x: p.x + rc * ov.x,\n        y: p.y + rc * ov.y,\n      };\n    });\n    return new Bezier(np);\n  }\n\n  outline(d1, d2, d3, d4) {\n    d2 = typeof d2 === \"undefined\" ? d1 : d2;\n    const reduced = this.reduce(),\n      len = reduced.length,\n      fcurves = [];\n\n    let bcurves = [],\n      p,\n      alen = 0,\n      tlen = this.length();\n\n    const graduated = typeof d3 !== \"undefined\" && typeof d4 !== \"undefined\";\n\n    function linearDistanceFunction(s, e, tlen, alen, slen) {\n      return function (v) {\n        const f1 = alen / tlen,\n          f2 = (alen + slen) / tlen,\n          d = e - s;\n        return utils.map(v, 0, 1, s + f1 * d, s + f2 * d);\n      };\n    }\n\n    // form curve oulines\n    reduced.forEach(function (segment) {\n      const slen = segment.length();\n      if (graduated) {\n        fcurves.push(\n          segment.scale(linearDistanceFunction(d1, d3, tlen, alen, slen))\n        );\n        bcurves.push(\n          segment.scale(linearDistanceFunction(-d2, -d4, tlen, alen, slen))\n        );\n      } else {\n        fcurves.push(segment.scale(d1));\n        bcurves.push(segment.scale(-d2));\n      }\n      alen += slen;\n    });\n\n    // reverse the \"return\" outline\n    bcurves = bcurves\n      .map(function (s) {\n        p = s.points;\n        if (p[3]) {\n          s.points = [p[3], p[2], p[1], p[0]];\n        } else {\n          s.points = [p[2], p[1], p[0]];\n        }\n        return s;\n      })\n      .reverse();\n\n    // form the endcaps as lines\n    const fs = fcurves[0].points[0],\n      fe = fcurves[len - 1].points[fcurves[len - 1].points.length - 1],\n      bs = bcurves[len - 1].points[bcurves[len - 1].points.length - 1],\n      be = bcurves[0].points[0],\n      ls = utils.makeline(bs, fs),\n      le = utils.makeline(fe, be),\n      segments = [ls].concat(fcurves).concat([le]).concat(bcurves),\n      slen = segments.length;\n\n    return new PolyBezier(segments);\n  }\n\n  outlineshapes(d1, d2, curveIntersectionThreshold) {\n    d2 = d2 || d1;\n    const outline = this.outline(d1, d2).curves;\n    const shapes = [];\n    for (let i = 1, len = outline.length; i < len / 2; i++) {\n      const shape = utils.makeshape(\n        outline[i],\n        outline[len - i],\n        curveIntersectionThreshold\n      );\n      shape.startcap.virtual = i > 1;\n      shape.endcap.virtual = i < len / 2 - 1;\n      shapes.push(shape);\n    }\n    return shapes;\n  }\n\n  intersects(curve, curveIntersectionThreshold) {\n    if (!curve) return this.selfintersects(curveIntersectionThreshold);\n    if (curve.p1 && curve.p2) {\n      return this.lineIntersects(curve);\n    }\n    if (curve instanceof Bezier) {\n      curve = curve.reduce();\n    }\n    return this.curveintersects(\n      this.reduce(),\n      curve,\n      curveIntersectionThreshold\n    );\n  }\n\n  lineIntersects(line) {\n    const mx = min(line.p1.x, line.p2.x),\n      my = min(line.p1.y, line.p2.y),\n      MX = max(line.p1.x, line.p2.x),\n      MY = max(line.p1.y, line.p2.y);\n    return utils.roots(this.points, line).filter((t) => {\n      var p = this.get(t);\n      return utils.between(p.x, mx, MX) && utils.between(p.y, my, MY);\n    });\n  }\n\n  selfintersects(curveIntersectionThreshold) {\n    // \"simple\" curves cannot intersect with their direct\n    // neighbour, so for each segment X we check whether\n    // it intersects [0:x-2][x+2:last].\n\n    const reduced = this.reduce(),\n      len = reduced.length - 2,\n      results = [];\n\n    for (let i = 0, result, left, right; i < len; i++) {\n      left = reduced.slice(i, i + 1);\n      right = reduced.slice(i + 2);\n      result = this.curveintersects(left, right, curveIntersectionThreshold);\n      results.push(...result);\n    }\n    return results;\n  }\n\n  curveintersects(c1, c2, curveIntersectionThreshold) {\n    const pairs = [];\n    // step 1: pair off any overlapping segments\n    c1.forEach(function (l) {\n      c2.forEach(function (r) {\n        if (l.overlaps(r)) {\n          pairs.push({ left: l, right: r });\n        }\n      });\n    });\n    // step 2: for each pairing, run through the convergence algorithm.\n    let intersections = [];\n    pairs.forEach(function (pair) {\n      const result = utils.pairiteration(\n        pair.left,\n        pair.right,\n        curveIntersectionThreshold\n      );\n      if (result.length > 0) {\n        intersections = intersections.concat(result);\n      }\n    });\n    return intersections;\n  }\n\n  arcs(errorThreshold) {\n    errorThreshold = errorThreshold || 0.5;\n    return this._iterate(errorThreshold, []);\n  }\n\n  _error(pc, np1, s, e) {\n    const q = (e - s) / 4,\n      c1 = this.get(s + q),\n      c2 = this.get(e - q),\n      ref = utils.dist(pc, np1),\n      d1 = utils.dist(pc, c1),\n      d2 = utils.dist(pc, c2);\n    return abs(d1 - ref) + abs(d2 - ref);\n  }\n\n  _iterate(errorThreshold, circles) {\n    let t_s = 0,\n      t_e = 1,\n      safety;\n    // we do a binary search to find the \"good `t` closest to no-longer-good\"\n    do {\n      safety = 0;\n\n      // step 1: start with the maximum possible arc\n      t_e = 1;\n\n      // points:\n      let np1 = this.get(t_s),\n        np2,\n        np3,\n        arc,\n        prev_arc;\n\n      // booleans:\n      let curr_good = false,\n        prev_good = false,\n        done;\n\n      // numbers:\n      let t_m = t_e,\n        prev_e = 1,\n        step = 0;\n\n      // step 2: find the best possible arc\n      do {\n        prev_good = curr_good;\n        prev_arc = arc;\n        t_m = (t_s + t_e) / 2;\n        step++;\n\n        np2 = this.get(t_m);\n        np3 = this.get(t_e);\n\n        arc = utils.getccenter(np1, np2, np3);\n\n        //also save the t values\n        arc.interval = {\n          start: t_s,\n          end: t_e,\n        };\n\n        let error = this._error(arc, np1, t_s, t_e);\n        curr_good = error <= errorThreshold;\n\n        done = prev_good && !curr_good;\n        if (!done) prev_e = t_e;\n\n        // this arc is fine: we can move 'e' up to see if we can find a wider arc\n        if (curr_good) {\n          // if e is already at max, then we're done for this arc.\n          if (t_e >= 1) {\n            // make sure we cap at t=1\n            arc.interval.end = prev_e = 1;\n            prev_arc = arc;\n            // if we capped the arc segment to t=1 we also need to make sure that\n            // the arc's end angle is correct with respect to the bezier end point.\n            if (t_e > 1) {\n              let d = {\n                x: arc.x + arc.r * cos(arc.e),\n                y: arc.y + arc.r * sin(arc.e),\n              };\n              arc.e += utils.angle({ x: arc.x, y: arc.y }, d, this.get(1));\n            }\n            break;\n          }\n          // if not, move it up by half the iteration distance\n          t_e = t_e + (t_e - t_s) / 2;\n        } else {\n          // this is a bad arc: we need to move 'e' down to find a good arc\n          t_e = t_m;\n        }\n      } while (!done && safety++ < 100);\n\n      if (safety >= 100) {\n        break;\n      }\n\n      // console.log(\"L835: [F] arc found\", t_s, prev_e, prev_arc.x, prev_arc.y, prev_arc.s, prev_arc.e);\n\n      prev_arc = prev_arc ? prev_arc : arc;\n      circles.push(prev_arc);\n      t_s = prev_e;\n    } while (t_e < 1);\n    return circles;\n  }\n}\n\nexport { Bezier };\n","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nvar index = (function () {\n  var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var keyAccessors = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var multiItem = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var flattenKeys = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var keys = (keyAccessors instanceof Array ? keyAccessors.length ? keyAccessors : [undefined] : [keyAccessors]).map(function (key) {\n    return {\n      keyAccessor: key,\n      isProp: !(key instanceof Function)\n    };\n  });\n  var indexedResult = list.reduce(function (res, item) {\n    var iterObj = res;\n    var itemVal = item;\n    keys.forEach(function (_ref, idx) {\n      var keyAccessor = _ref.keyAccessor,\n          isProp = _ref.isProp;\n      var key;\n\n      if (isProp) {\n        var _itemVal = itemVal,\n            propVal = _itemVal[keyAccessor],\n            rest = _objectWithoutProperties(_itemVal, [keyAccessor].map(_toPropertyKey));\n\n        key = propVal;\n        itemVal = rest;\n      } else {\n        key = keyAccessor(itemVal, idx);\n      }\n\n      if (idx + 1 < keys.length) {\n        if (!iterObj.hasOwnProperty(key)) {\n          iterObj[key] = {};\n        }\n\n        iterObj = iterObj[key];\n      } else {\n        // Leaf key\n        if (multiItem) {\n          if (!iterObj.hasOwnProperty(key)) {\n            iterObj[key] = [];\n          }\n\n          iterObj[key].push(itemVal);\n        } else {\n          iterObj[key] = itemVal;\n        }\n      }\n    });\n    return res;\n  }, {});\n\n  if (multiItem instanceof Function) {\n    // Reduce leaf multiple values\n    (function reduce(node) {\n      var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n      if (level === keys.length) {\n        Object.keys(node).forEach(function (k) {\n          return node[k] = multiItem(node[k]);\n        });\n      } else {\n        Object.values(node).forEach(function (child) {\n          return reduce(child, level + 1);\n        });\n      }\n    })(indexedResult); // IIFE\n\n  }\n\n  var result = indexedResult;\n\n  if (flattenKeys) {\n    // flatten into array\n    result = [];\n\n    (function flatten(node) {\n      var accKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n      if (accKeys.length === keys.length) {\n        result.push({\n          keys: accKeys,\n          vals: node\n        });\n      } else {\n        Object.entries(node).forEach(function (_ref2) {\n          var _ref3 = _slicedToArray(_ref2, 2),\n              key = _ref3[0],\n              val = _ref3[1];\n\n          return flatten(val, [].concat(_toConsumableArray(accKeys), [key]));\n        });\n      }\n    })(indexedResult); //IIFE\n\n\n    if (keyAccessors instanceof Array && keyAccessors.length === 0 && result.length === 1) {\n      // clear keys if there's no key accessors (single result)\n      result[0].keys = [];\n    }\n  }\n\n  return result;\n});\n\nexport default index;\n","import {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n    for (const value of _) {\n      const key = value + \"\";\n      if (index.has(key)) continue;\n      index.set(key, domain.push(value));\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import { select } from 'd3-selection';\nimport { zoomTransform, zoom } from 'd3-zoom';\nimport { drag } from 'd3-drag';\nimport { min, max } from 'd3-array';\nimport throttle from 'lodash.throttle';\nimport TWEEN from '@tweenjs/tween.js';\nimport Kapsule from 'kapsule';\nimport accessorFn from 'accessor-fn';\nimport ColorTracker from 'canvas-color-tracker';\nimport { forceSimulation, forceLink, forceManyBody, forceCenter, forceRadial } from 'd3-force-3d';\nimport { Bezier } from 'bezier-js';\nimport indexBy from 'index-array-by';\nimport { scaleOrdinal } from 'd3-scale';\nimport { schemePaired } from 'd3-scale-chromatic';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".force-graph-container canvas {\\n  display: block;\\n  user-select: none;\\n  outline: none;\\n  -webkit-tap-highlight-color: transparent;\\n}\\n\\n.force-graph-container .graph-tooltip {\\n  position: absolute;\\n  transform: translate(-50%, 25px);\\n  font-family: sans-serif;\\n  font-size: 16px;\\n  padding: 4px;\\n  border-radius: 3px;\\n  color: #eee;\\n  background: rgba(0,0,0,0.65);\\n  visibility: hidden; /* by default */\\n}\\n\\n.force-graph-container .grabbable {\\n  cursor: move;\\n  cursor: grab;\\n  cursor: -moz-grab;\\n  cursor: -webkit-grab;\\n}\\n\\n.force-graph-container .grabbable:active {\\n  cursor: grabbing;\\n  cursor: -moz-grabbing;\\n  cursor: -webkit-grabbing;\\n}\\n\";\nstyleInject(css_248z);\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar autoColorScale = scaleOrdinal(schemePaired); // Autoset attribute colorField by colorByAccessor property\n// If an object has already a color, don't set it\n// Objects can be nodes or links\n\nfunction autoColorObjects(objects, colorByAccessor, colorField) {\n  if (!colorByAccessor || typeof colorField !== 'string') return;\n  objects.filter(function (obj) {\n    return !obj[colorField];\n  }).forEach(function (obj) {\n    obj[colorField] = autoColorScale(colorByAccessor(obj));\n  });\n}\n\nfunction getDagDepths (_ref, idAccessor) {\n  var nodes = _ref.nodes,\n      links = _ref.links;\n\n  var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref2$nodeFilter = _ref2.nodeFilter,\n      nodeFilter = _ref2$nodeFilter === void 0 ? function () {\n    return true;\n  } : _ref2$nodeFilter,\n      _ref2$onLoopError = _ref2.onLoopError,\n      onLoopError = _ref2$onLoopError === void 0 ? function (loopIds) {\n    throw \"Invalid DAG structure! Found cycle in node path: \".concat(loopIds.join(' -> '), \".\");\n  } : _ref2$onLoopError;\n\n  // linked graph\n  var graph = {};\n  nodes.forEach(function (node) {\n    return graph[idAccessor(node)] = {\n      data: node,\n      out: [],\n      depth: -1,\n      skip: !nodeFilter(node)\n    };\n  });\n  links.forEach(function (_ref3) {\n    var source = _ref3.source,\n        target = _ref3.target;\n    var sourceId = getNodeId(source);\n    var targetId = getNodeId(target);\n    if (!graph.hasOwnProperty(sourceId)) throw \"Missing source node with id: \".concat(sourceId);\n    if (!graph.hasOwnProperty(targetId)) throw \"Missing target node with id: \".concat(targetId);\n    var sourceNode = graph[sourceId];\n    var targetNode = graph[targetId];\n    sourceNode.out.push(targetNode);\n\n    function getNodeId(node) {\n      return _typeof(node) === 'object' ? idAccessor(node) : node;\n    }\n  });\n  var foundLoops = [];\n  traverse(Object.values(graph));\n  var nodeDepths = Object.assign.apply(Object, [{}].concat(_toConsumableArray(Object.entries(graph).filter(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n        node = _ref5[1];\n\n    return !node.skip;\n  }).map(function (_ref6) {\n    var _ref7 = _slicedToArray(_ref6, 2),\n        id = _ref7[0],\n        node = _ref7[1];\n\n    return _defineProperty({}, id, node.depth);\n  }))));\n  return nodeDepths;\n\n  function traverse(nodes) {\n    var nodeStack = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    var currentDepth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n    for (var i = 0, l = nodes.length; i < l; i++) {\n      var node = nodes[i];\n\n      if (nodeStack.indexOf(node) !== -1) {\n        var _ret = function () {\n          var loop = [].concat(_toConsumableArray(nodeStack.slice(nodeStack.indexOf(node))), [node]).map(function (d) {\n            return idAccessor(d.data);\n          });\n\n          if (!foundLoops.some(function (foundLoop) {\n            return foundLoop.length === loop.length && foundLoop.every(function (id, idx) {\n              return id === loop[idx];\n            });\n          })) {\n            foundLoops.push(loop);\n            onLoopError(loop);\n          }\n\n          return \"continue\";\n        }();\n\n        if (_ret === \"continue\") continue;\n      }\n\n      if (currentDepth > node.depth) {\n        // Don't unnecessarily revisit chunks of the graph\n        node.depth = currentDepth;\n        traverse(node.out, [].concat(_toConsumableArray(nodeStack), [node]), currentDepth + (node.skip ? 0 : 1));\n      }\n    }\n  }\n}\n\nvar DAG_LEVEL_NODE_RATIO = 2;\nvar CanvasForceGraph = Kapsule({\n  props: {\n    graphData: {\n      \"default\": {\n        nodes: [],\n        links: []\n      },\n      onChange: function onChange(_, state) {\n        state.engineRunning = false;\n      } // Pause simulation\n\n    },\n    dagMode: {\n      onChange: function onChange(dagMode, state) {\n        // td, bu, lr, rl, radialin, radialout\n        !dagMode && (state.graphData.nodes || []).forEach(function (n) {\n          return n.fx = n.fy = undefined;\n        }); // unfix nodes when disabling dag mode\n      }\n    },\n    dagLevelDistance: {},\n    dagNodeFilter: {\n      \"default\": function _default(node) {\n        return true;\n      }\n    },\n    onDagError: {\n      triggerUpdate: false\n    },\n    nodeRelSize: {\n      \"default\": 4,\n      triggerUpdate: false\n    },\n    // area per val unit\n    nodeId: {\n      \"default\": 'id'\n    },\n    nodeVal: {\n      \"default\": 'val',\n      triggerUpdate: false\n    },\n    nodeColor: {\n      \"default\": 'color',\n      triggerUpdate: false\n    },\n    nodeAutoColorBy: {},\n    nodeCanvasObject: {\n      triggerUpdate: false\n    },\n    nodeCanvasObjectMode: {\n      \"default\": function _default() {\n        return 'replace';\n      },\n      triggerUpdate: false\n    },\n    nodeVisibility: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    linkSource: {\n      \"default\": 'source'\n    },\n    linkTarget: {\n      \"default\": 'target'\n    },\n    linkVisibility: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    linkColor: {\n      \"default\": 'color',\n      triggerUpdate: false\n    },\n    linkAutoColorBy: {},\n    linkLineDash: {\n      triggerUpdate: false\n    },\n    linkWidth: {\n      \"default\": 1,\n      triggerUpdate: false\n    },\n    linkCurvature: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    linkCanvasObject: {\n      triggerUpdate: false\n    },\n    linkCanvasObjectMode: {\n      \"default\": function _default() {\n        return 'replace';\n      },\n      triggerUpdate: false\n    },\n    linkDirectionalArrowLength: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    linkDirectionalArrowColor: {\n      triggerUpdate: false\n    },\n    linkDirectionalArrowRelPos: {\n      \"default\": 0.5,\n      triggerUpdate: false\n    },\n    // value between 0<>1 indicating the relative pos along the (exposed) line\n    linkDirectionalParticles: {\n      \"default\": 0\n    },\n    // animate photons travelling in the link direction\n    linkDirectionalParticleSpeed: {\n      \"default\": 0.01,\n      triggerUpdate: false\n    },\n    // in link length ratio per frame\n    linkDirectionalParticleWidth: {\n      \"default\": 4,\n      triggerUpdate: false\n    },\n    linkDirectionalParticleColor: {\n      triggerUpdate: false\n    },\n    globalScale: {\n      \"default\": 1,\n      triggerUpdate: false\n    },\n    d3AlphaMin: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    d3AlphaDecay: {\n      \"default\": 0.0228,\n      triggerUpdate: false,\n      onChange: function onChange(alphaDecay, state) {\n        state.forceLayout.alphaDecay(alphaDecay);\n      }\n    },\n    d3AlphaTarget: {\n      \"default\": 0,\n      triggerUpdate: false,\n      onChange: function onChange(alphaTarget, state) {\n        state.forceLayout.alphaTarget(alphaTarget);\n      }\n    },\n    d3VelocityDecay: {\n      \"default\": 0.4,\n      triggerUpdate: false,\n      onChange: function onChange(velocityDecay, state) {\n        state.forceLayout.velocityDecay(velocityDecay);\n      }\n    },\n    warmupTicks: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    // how many times to tick the force engine at init before starting to render\n    cooldownTicks: {\n      \"default\": Infinity,\n      triggerUpdate: false\n    },\n    cooldownTime: {\n      \"default\": 15000,\n      triggerUpdate: false\n    },\n    // ms\n    onUpdate: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onFinishUpdate: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onEngineTick: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onEngineStop: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    isShadow: {\n      \"default\": false,\n      triggerUpdate: false\n    }\n  },\n  methods: {\n    // Expose d3 forces for external manipulation\n    d3Force: function d3Force(state, forceName, forceFn) {\n      if (forceFn === undefined) {\n        return state.forceLayout.force(forceName); // Force getter\n      }\n\n      state.forceLayout.force(forceName, forceFn); // Force setter\n\n      return this;\n    },\n    d3ReheatSimulation: function d3ReheatSimulation(state) {\n      state.forceLayout.alpha(1);\n      this.resetCountdown();\n      return this;\n    },\n    // reset cooldown state\n    resetCountdown: function resetCountdown(state) {\n      state.cntTicks = 0;\n      state.startTickTime = new Date();\n      state.engineRunning = true;\n      return this;\n    },\n    tickFrame: function tickFrame(state) {\n      !state.isShadow && layoutTick();\n      paintLinks();\n      !state.isShadow && paintArrows();\n      !state.isShadow && paintPhotons();\n      paintNodes();\n      return this; //\n\n      function layoutTick() {\n        if (state.engineRunning) {\n          if (++state.cntTicks > state.cooldownTicks || new Date() - state.startTickTime > state.cooldownTime || state.d3AlphaMin > 0 && state.forceLayout.alpha() < state.d3AlphaMin) {\n            state.engineRunning = false; // Stop ticking graph\n\n            state.onEngineStop();\n          } else {\n            state.forceLayout.tick(); // Tick it\n\n            state.onEngineTick();\n          }\n        }\n      }\n\n      function paintNodes() {\n        var getVisibility = accessorFn(state.nodeVisibility);\n        var getVal = accessorFn(state.nodeVal);\n        var getColor = accessorFn(state.nodeColor);\n        var getNodeCanvasObjectMode = accessorFn(state.nodeCanvasObjectMode);\n        var ctx = state.ctx; // Draw wider nodes by 1px on shadow canvas for more precise hovering (due to boundary anti-aliasing)\n\n        var padAmount = state.isShadow / state.globalScale;\n        var visibleNodes = state.graphData.nodes.filter(getVisibility);\n        ctx.save();\n        visibleNodes.forEach(function (node) {\n          var nodeCanvasObjectMode = getNodeCanvasObjectMode(node);\n\n          if (state.nodeCanvasObject && (nodeCanvasObjectMode === 'before' || nodeCanvasObjectMode === 'replace')) {\n            // Custom node before/replace paint\n            state.nodeCanvasObject(node, ctx, state.globalScale);\n\n            if (nodeCanvasObjectMode === 'replace') {\n              ctx.restore();\n              return;\n            }\n          } // Draw wider nodes by 1px on shadow canvas for more precise hovering (due to boundary anti-aliasing)\n\n\n          var r = Math.sqrt(Math.max(0, getVal(node) || 1)) * state.nodeRelSize + padAmount;\n          ctx.beginPath();\n          ctx.arc(node.x, node.y, r, 0, 2 * Math.PI, false);\n          ctx.fillStyle = getColor(node) || 'rgba(31, 120, 180, 0.92)';\n          ctx.fill();\n\n          if (state.nodeCanvasObject && nodeCanvasObjectMode === 'after') {\n            // Custom node after paint\n            state.nodeCanvasObject(node, state.ctx, state.globalScale);\n          }\n        });\n        ctx.restore();\n      }\n\n      function paintLinks() {\n        var getVisibility = accessorFn(state.linkVisibility);\n        var getColor = accessorFn(state.linkColor);\n        var getWidth = accessorFn(state.linkWidth);\n        var getLineDash = accessorFn(state.linkLineDash);\n        var getCurvature = accessorFn(state.linkCurvature);\n        var getLinkCanvasObjectMode = accessorFn(state.linkCanvasObjectMode);\n        var ctx = state.ctx; // Draw wider lines by 2px on shadow canvas for more precise hovering (due to boundary anti-aliasing)\n\n        var padAmount = state.isShadow * 2;\n        var visibleLinks = state.graphData.links.filter(getVisibility);\n        visibleLinks.forEach(calcLinkControlPoints); // calculate curvature control points for all visible links\n\n        var beforeCustomLinks = [],\n            afterCustomLinks = [],\n            defaultPaintLinks = visibleLinks;\n\n        if (state.linkCanvasObject) {\n          var replaceCustomLinks = [],\n              otherCustomLinks = [];\n          visibleLinks.forEach(function (d) {\n            return ({\n              before: beforeCustomLinks,\n              after: afterCustomLinks,\n              replace: replaceCustomLinks\n            }[getLinkCanvasObjectMode(d)] || otherCustomLinks).push(d);\n          });\n          defaultPaintLinks = [].concat(_toConsumableArray(beforeCustomLinks), afterCustomLinks, otherCustomLinks);\n          beforeCustomLinks = beforeCustomLinks.concat(replaceCustomLinks);\n        } // Custom link before paints\n\n\n        ctx.save();\n        beforeCustomLinks.forEach(function (link) {\n          return state.linkCanvasObject(link, ctx, state.globalScale);\n        });\n        ctx.restore(); // Bundle strokes per unique color/width/dash for performance optimization\n\n        var linksPerColor = indexBy(defaultPaintLinks, [getColor, getWidth, getLineDash]);\n        ctx.save();\n        Object.entries(linksPerColor).forEach(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              color = _ref2[0],\n              linksPerWidth = _ref2[1];\n\n          var lineColor = !color || color === 'undefined' ? 'rgba(0,0,0,0.15)' : color;\n          Object.entries(linksPerWidth).forEach(function (_ref3) {\n            var _ref4 = _slicedToArray(_ref3, 2),\n                width = _ref4[0],\n                linesPerLineDash = _ref4[1];\n\n            var lineWidth = (width || 1) / state.globalScale + padAmount;\n            Object.entries(linesPerLineDash).forEach(function (_ref5) {\n              var _ref6 = _slicedToArray(_ref5, 2);\n                  _ref6[0];\n                  var links = _ref6[1];\n\n              var lineDashSegments = getLineDash(links[0]);\n              ctx.beginPath();\n              links.forEach(function (link) {\n                var start = link.source;\n                var end = link.target;\n                if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n                ctx.moveTo(start.x, start.y);\n                var controlPoints = link.__controlPoints;\n\n                if (!controlPoints) {\n                  // Straight line\n                  ctx.lineTo(end.x, end.y);\n                } else {\n                  // Use quadratic curves for regular lines and bezier for loops\n                  ctx[controlPoints.length === 2 ? 'quadraticCurveTo' : 'bezierCurveTo'].apply(ctx, _toConsumableArray(controlPoints).concat([end.x, end.y]));\n                }\n              });\n              ctx.strokeStyle = lineColor;\n              ctx.lineWidth = lineWidth;\n              ctx.setLineDash(lineDashSegments || []);\n              ctx.stroke();\n            });\n          });\n        });\n        ctx.restore(); // Custom link after paints\n\n        ctx.save();\n        afterCustomLinks.forEach(function (link) {\n          return state.linkCanvasObject(link, ctx, state.globalScale);\n        });\n        ctx.restore(); //\n\n        function calcLinkControlPoints(link) {\n          var curvature = getCurvature(link);\n\n          if (!curvature) {\n            // straight line\n            link.__controlPoints = null;\n            return;\n          }\n\n          var start = link.source;\n          var end = link.target;\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var l = Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2)); // line length\n\n          if (l > 0) {\n            var a = Math.atan2(end.y - start.y, end.x - start.x); // line angle\n\n            var d = l * curvature; // control point distance\n\n            var cp = {\n              // control point\n              x: (start.x + end.x) / 2 + d * Math.cos(a - Math.PI / 2),\n              y: (start.y + end.y) / 2 + d * Math.sin(a - Math.PI / 2)\n            };\n            link.__controlPoints = [cp.x, cp.y];\n          } else {\n            // Same point, draw a loop\n            var _d = curvature * 70;\n\n            link.__controlPoints = [end.x, end.y - _d, end.x + _d, end.y];\n          }\n        }\n      }\n\n      function paintArrows() {\n        var ARROW_WH_RATIO = 1.6;\n        var ARROW_VLEN_RATIO = 0.2;\n        var getLength = accessorFn(state.linkDirectionalArrowLength);\n        var getRelPos = accessorFn(state.linkDirectionalArrowRelPos);\n        var getVisibility = accessorFn(state.linkVisibility);\n        var getColor = accessorFn(state.linkDirectionalArrowColor || state.linkColor);\n        var getNodeVal = accessorFn(state.nodeVal);\n        var ctx = state.ctx;\n        ctx.save();\n        state.graphData.links.filter(getVisibility).forEach(function (link) {\n          var arrowLength = getLength(link);\n          if (!arrowLength || arrowLength < 0) return;\n          var start = link.source;\n          var end = link.target;\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var startR = Math.sqrt(Math.max(0, getNodeVal(start) || 1)) * state.nodeRelSize;\n          var endR = Math.sqrt(Math.max(0, getNodeVal(end) || 1)) * state.nodeRelSize;\n          var arrowRelPos = Math.min(1, Math.max(0, getRelPos(link)));\n          var arrowColor = getColor(link) || 'rgba(0,0,0,0.28)';\n          var arrowHalfWidth = arrowLength / ARROW_WH_RATIO / 2; // Construct bezier for curved lines\n\n          var bzLine = link.__controlPoints && _construct(Bezier, [start.x, start.y].concat(_toConsumableArray(link.__controlPoints), [end.x, end.y]));\n\n          var getCoordsAlongLine = bzLine ? function (t) {\n            return bzLine.get(t);\n          } // get position along bezier line\n          : function (t) {\n            return {\n              // straight line: interpolate linearly\n              x: start.x + (end.x - start.x) * t || 0,\n              y: start.y + (end.y - start.y) * t || 0\n            };\n          };\n          var lineLen = bzLine ? bzLine.length() : Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n          var posAlongLine = startR + arrowLength + (lineLen - startR - endR - arrowLength) * arrowRelPos;\n          var arrowHead = getCoordsAlongLine(posAlongLine / lineLen);\n          var arrowTail = getCoordsAlongLine((posAlongLine - arrowLength) / lineLen);\n          var arrowTailVertex = getCoordsAlongLine((posAlongLine - arrowLength * (1 - ARROW_VLEN_RATIO)) / lineLen);\n          var arrowTailAngle = Math.atan2(arrowHead.y - arrowTail.y, arrowHead.x - arrowTail.x) - Math.PI / 2;\n          ctx.beginPath();\n          ctx.moveTo(arrowHead.x, arrowHead.y);\n          ctx.lineTo(arrowTail.x + arrowHalfWidth * Math.cos(arrowTailAngle), arrowTail.y + arrowHalfWidth * Math.sin(arrowTailAngle));\n          ctx.lineTo(arrowTailVertex.x, arrowTailVertex.y);\n          ctx.lineTo(arrowTail.x - arrowHalfWidth * Math.cos(arrowTailAngle), arrowTail.y - arrowHalfWidth * Math.sin(arrowTailAngle));\n          ctx.fillStyle = arrowColor;\n          ctx.fill();\n        });\n        ctx.restore();\n      }\n\n      function paintPhotons() {\n        var getNumPhotons = accessorFn(state.linkDirectionalParticles);\n        var getSpeed = accessorFn(state.linkDirectionalParticleSpeed);\n        var getDiameter = accessorFn(state.linkDirectionalParticleWidth);\n        var getVisibility = accessorFn(state.linkVisibility);\n        var getColor = accessorFn(state.linkDirectionalParticleColor || state.linkColor);\n        var ctx = state.ctx;\n        ctx.save();\n        state.graphData.links.filter(getVisibility).forEach(function (link) {\n          var numCyclePhotons = getNumPhotons(link);\n          if (!link.hasOwnProperty('__photons') || !link.__photons.length) return;\n          var start = link.source;\n          var end = link.target;\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var particleSpeed = getSpeed(link);\n          var photons = link.__photons || [];\n          var photonR = Math.max(0, getDiameter(link) / 2) / Math.sqrt(state.globalScale);\n          var photonColor = getColor(link) || 'rgba(0,0,0,0.28)';\n          ctx.fillStyle = photonColor; // Construct bezier for curved lines\n\n          var bzLine = link.__controlPoints ? _construct(Bezier, [start.x, start.y].concat(_toConsumableArray(link.__controlPoints), [end.x, end.y])) : null;\n          var cyclePhotonIdx = 0;\n          var needsCleanup = false; // whether some photons need to be removed from list\n\n          photons.forEach(function (photon) {\n            var singleHop = !!photon.__singleHop;\n\n            if (!photon.hasOwnProperty('__progressRatio')) {\n              photon.__progressRatio = singleHop ? 0 : cyclePhotonIdx / numCyclePhotons;\n            }\n\n            !singleHop && cyclePhotonIdx++; // increase regular photon index\n\n            photon.__progressRatio += particleSpeed;\n\n            if (photon.__progressRatio >= 1) {\n              if (!singleHop) {\n                photon.__progressRatio = photon.__progressRatio % 1;\n              } else {\n                needsCleanup = true;\n                return;\n              }\n            }\n\n            var photonPosRatio = photon.__progressRatio;\n            var coords = bzLine ? bzLine.get(photonPosRatio) // get position along bezier line\n            : {\n              // straight line: interpolate linearly\n              x: start.x + (end.x - start.x) * photonPosRatio || 0,\n              y: start.y + (end.y - start.y) * photonPosRatio || 0\n            };\n            ctx.beginPath();\n            ctx.arc(coords.x, coords.y, photonR, 0, 2 * Math.PI, false);\n            ctx.fill();\n          });\n\n          if (needsCleanup) {\n            // remove expired single hop photons\n            link.__photons = link.__photons.filter(function (photon) {\n              return !photon.__singleHop || photon.__progressRatio <= 1;\n            });\n          }\n        });\n        ctx.restore();\n      }\n    },\n    emitParticle: function emitParticle(state, link) {\n      if (link) {\n        !link.__photons && (link.__photons = []);\n\n        link.__photons.push({\n          __singleHop: true\n        }); // add a single hop particle\n\n      }\n\n      return this;\n    }\n  },\n  stateInit: function stateInit() {\n    return {\n      forceLayout: forceSimulation().force('link', forceLink()).force('charge', forceManyBody()).force('center', forceCenter()).force('dagRadial', null).stop(),\n      engineRunning: false\n    };\n  },\n  init: function init(canvasCtx, state) {\n    // Main canvas object to manipulate\n    state.ctx = canvasCtx;\n  },\n  update: function update(state) {\n    state.engineRunning = false; // Pause simulation\n\n    state.onUpdate();\n\n    if (state.nodeAutoColorBy !== null) {\n      // Auto add color to uncolored nodes\n      autoColorObjects(state.graphData.nodes, accessorFn(state.nodeAutoColorBy), state.nodeColor);\n    }\n\n    if (state.linkAutoColorBy !== null) {\n      // Auto add color to uncolored links\n      autoColorObjects(state.graphData.links, accessorFn(state.linkAutoColorBy), state.linkColor);\n    } // parse links\n\n\n    state.graphData.links.forEach(function (link) {\n      link.source = link[state.linkSource];\n      link.target = link[state.linkTarget];\n    });\n\n    if (!state.isShadow) {\n      // Add photon particles\n      var linkParticlesAccessor = accessorFn(state.linkDirectionalParticles);\n      state.graphData.links.forEach(function (link) {\n        var numPhotons = Math.round(Math.abs(linkParticlesAccessor(link)));\n\n        if (numPhotons) {\n          link.__photons = _toConsumableArray(Array(numPhotons)).map(function () {\n            return {};\n          });\n        } else {\n          delete link.__photons;\n        }\n      });\n    } // Feed data to force-directed layout\n\n\n    state.forceLayout.stop().alpha(1) // re-heat the simulation\n    .nodes(state.graphData.nodes); // add links (if link force is still active)\n\n    var linkForce = state.forceLayout.force('link');\n\n    if (linkForce) {\n      linkForce.id(function (d) {\n        return d[state.nodeId];\n      }).links(state.graphData.links);\n    } // setup dag force constraints\n\n\n    var nodeDepths = state.dagMode && getDagDepths(state.graphData, function (node) {\n      return node[state.nodeId];\n    }, {\n      nodeFilter: state.dagNodeFilter,\n      onLoopError: state.onDagError || undefined\n    });\n    var maxDepth = Math.max.apply(Math, _toConsumableArray(Object.values(nodeDepths || [])));\n    var dagLevelDistance = state.dagLevelDistance || state.graphData.nodes.length / (maxDepth || 1) * DAG_LEVEL_NODE_RATIO * (['radialin', 'radialout'].indexOf(state.dagMode) !== -1 ? 0.7 : 1); // Fix nodes to x,y for dag mode\n\n    if (state.dagMode) {\n      var getFFn = function getFFn(fix, invert) {\n        return function (node) {\n          return !fix ? undefined : (nodeDepths[node[state.nodeId]] - maxDepth / 2) * dagLevelDistance * (invert ? -1 : 1);\n        };\n      };\n\n      var fxFn = getFFn(['lr', 'rl'].indexOf(state.dagMode) !== -1, state.dagMode === 'rl');\n      var fyFn = getFFn(['td', 'bu'].indexOf(state.dagMode) !== -1, state.dagMode === 'bu');\n      state.graphData.nodes.filter(state.dagNodeFilter).forEach(function (node) {\n        node.fx = fxFn(node);\n        node.fy = fyFn(node);\n      });\n    } // Use radial force for radial dags\n\n\n    state.forceLayout.force('dagRadial', ['radialin', 'radialout'].indexOf(state.dagMode) !== -1 ? forceRadial(function (node) {\n      var nodeDepth = nodeDepths[node[state.nodeId]] || -1;\n      return (state.dagMode === 'radialin' ? maxDepth - nodeDepth : nodeDepth) * dagLevelDistance;\n    }).strength(function (node) {\n      return state.dagNodeFilter(node) ? 1 : 0;\n    }) : null);\n\n    for (var i = 0; i < state.warmupTicks && !(state.d3AlphaMin > 0 && state.forceLayout.alpha() < state.d3AlphaMin); i++) {\n      state.forceLayout.tick();\n    } // Initial ticks before starting to render\n\n\n    this.resetCountdown();\n    state.onFinishUpdate();\n  }\n});\n\nfunction linkKapsule (kapsulePropNames, kapsuleType) {\n  var propNames = kapsulePropNames instanceof Array ? kapsulePropNames : [kapsulePropNames];\n  var dummyK = new kapsuleType(); // To extract defaults\n\n  return {\n    linkProp: function linkProp(prop) {\n      // link property config\n      return {\n        \"default\": dummyK[prop](),\n        onChange: function onChange(v, state) {\n          propNames.forEach(function (propName) {\n            return state[propName][prop](v);\n          });\n        },\n        triggerUpdate: false\n      };\n    },\n    linkMethod: function linkMethod(method) {\n      // link method pass-through\n      return function (state) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        var returnVals = [];\n        propNames.forEach(function (propName) {\n          var kapsuleInstance = state[propName];\n          var returnVal = kapsuleInstance[method].apply(kapsuleInstance, args);\n\n          if (returnVal !== kapsuleInstance) {\n            returnVals.push(returnVal);\n          }\n        });\n        return returnVals.length ? returnVals[0] : this; // chain based on the parent object, not the inner kapsule\n      };\n    }\n  };\n}\n\nvar HOVER_CANVAS_THROTTLE_DELAY = 800; // ms to throttle shadow canvas updates for perf improvement\n\nvar ZOOM2NODES_FACTOR = 4; // Expose config from forceGraph\n\nvar bindFG = linkKapsule('forceGraph', CanvasForceGraph);\nvar bindBoth = linkKapsule(['forceGraph', 'shadowGraph'], CanvasForceGraph);\nvar linkedProps = Object.assign.apply(Object, _toConsumableArray(['nodeColor', 'nodeAutoColorBy', 'nodeCanvasObject', 'nodeCanvasObjectMode', 'linkColor', 'linkAutoColorBy', 'linkLineDash', 'linkWidth', 'linkCanvasObject', 'linkCanvasObjectMode', 'linkDirectionalArrowLength', 'linkDirectionalArrowColor', 'linkDirectionalArrowRelPos', 'linkDirectionalParticles', 'linkDirectionalParticleSpeed', 'linkDirectionalParticleWidth', 'linkDirectionalParticleColor', 'dagMode', 'dagLevelDistance', 'dagNodeFilter', 'onDagError', 'd3AlphaMin', 'd3AlphaDecay', 'd3VelocityDecay', 'warmupTicks', 'cooldownTicks', 'cooldownTime', 'onEngineTick', 'onEngineStop'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkProp(p));\n})).concat(_toConsumableArray(['nodeRelSize', 'nodeId', 'nodeVal', 'nodeVisibility', 'linkSource', 'linkTarget', 'linkVisibility', 'linkCurvature'].map(function (p) {\n  return _defineProperty({}, p, bindBoth.linkProp(p));\n}))));\nvar linkedMethods = Object.assign.apply(Object, _toConsumableArray(['d3Force', 'd3ReheatSimulation', 'emitParticle'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkMethod(p));\n})));\n\nfunction adjustCanvasSize(state) {\n  if (state.canvas) {\n    var curWidth = state.canvas.width;\n    var curHeight = state.canvas.height;\n\n    if (curWidth === 300 && curHeight === 150) {\n      // Default canvas dimensions\n      curWidth = curHeight = 0;\n    }\n\n    var pxScale = window.devicePixelRatio; // 2 on retina displays\n\n    curWidth /= pxScale;\n    curHeight /= pxScale; // Resize canvases\n\n    [state.canvas, state.shadowCanvas].forEach(function (canvas) {\n      // Element size\n      canvas.style.width = \"\".concat(state.width, \"px\");\n      canvas.style.height = \"\".concat(state.height, \"px\"); // Memory size (scaled to avoid blurriness)\n\n      canvas.width = state.width * pxScale;\n      canvas.height = state.height * pxScale; // Normalize coordinate system to use css pixels (on init only)\n\n      if (!curWidth && !curHeight) {\n        canvas.getContext('2d').scale(pxScale, pxScale);\n      }\n    }); // Relative center panning based on 0,0\n\n    var k = zoomTransform(state.canvas).k;\n    state.zoom.translateBy(state.zoom.__baseElem, (state.width - curWidth) / 2 / k, (state.height - curHeight) / 2 / k);\n  }\n}\n\nfunction resetTransform(ctx) {\n  var pxRatio = window.devicePixelRatio;\n  ctx.setTransform(pxRatio, 0, 0, pxRatio, 0, 0);\n}\n\nfunction clearCanvas(ctx, width, height) {\n  ctx.save();\n  resetTransform(ctx); // reset transform\n\n  ctx.clearRect(0, 0, width, height);\n  ctx.restore(); //restore transforms\n} //\n\n\nvar forceGraph = Kapsule({\n  props: _objectSpread2({\n    width: {\n      \"default\": window.innerWidth,\n      onChange: function onChange(_, state) {\n        return adjustCanvasSize(state);\n      },\n      triggerUpdate: false\n    },\n    height: {\n      \"default\": window.innerHeight,\n      onChange: function onChange(_, state) {\n        return adjustCanvasSize(state);\n      },\n      triggerUpdate: false\n    },\n    graphData: {\n      \"default\": {\n        nodes: [],\n        links: []\n      },\n      onChange: function onChange(d, state) {\n        if (d.nodes.length || d.links.length) {\n          console.info('force-graph loading', d.nodes.length + ' nodes', d.links.length + ' links');\n        }\n\n        [{\n          type: 'Node',\n          objs: d.nodes\n        }, {\n          type: 'Link',\n          objs: d.links\n        }].forEach(hexIndex);\n        state.forceGraph.graphData(d);\n        state.shadowGraph.graphData(d);\n\n        function hexIndex(_ref4) {\n          var type = _ref4.type,\n              objs = _ref4.objs;\n          objs.filter(function (d) {\n            if (!d.hasOwnProperty('__indexColor')) return true;\n            var cur = state.colorTracker.lookup(d.__indexColor);\n            return !cur || !cur.hasOwnProperty('d') || cur.d !== d;\n          }).forEach(function (d) {\n            // store object lookup color\n            d.__indexColor = state.colorTracker.register({\n              type: type,\n              d: d\n            });\n          });\n        }\n      },\n      triggerUpdate: false\n    },\n    backgroundColor: {\n      onChange: function onChange(color, state) {\n        state.canvas && color && (state.canvas.style.background = color);\n      },\n      triggerUpdate: false\n    },\n    nodeLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    nodePointerAreaPaint: {\n      onChange: function onChange(paintFn, state) {\n        state.shadowGraph.nodeCanvasObject(!paintFn ? null : function (node, ctx, globalScale) {\n          return paintFn(node, node.__indexColor, ctx, globalScale);\n        });\n      },\n      triggerUpdate: false\n    },\n    linkLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    linkHoverPrecision: {\n      \"default\": 4,\n      triggerUpdate: false\n    },\n    enableNodeDrag: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    enableZoomPanInteraction: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    enablePointerInteraction: {\n      \"default\": true,\n      onChange: function onChange(_, state) {\n        state.hoverObj = null;\n      },\n      triggerUpdate: false\n    },\n    onNodeDrag: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeDragEnd: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeClick: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeRightClick: {\n      triggerUpdate: false\n    },\n    onNodeHover: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onLinkClick: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onLinkRightClick: {\n      triggerUpdate: false\n    },\n    onLinkHover: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onBackgroundClick: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onBackgroundRightClick: {\n      triggerUpdate: false\n    },\n    onZoom: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onZoomEnd: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onRenderFramePre: {\n      triggerUpdate: false\n    },\n    onRenderFramePost: {\n      triggerUpdate: false\n    }\n  }, linkedProps),\n  aliases: {\n    // Prop names supported for backwards compatibility\n    stopAnimation: 'pauseAnimation'\n  },\n  methods: _objectSpread2({\n    graph2ScreenCoords: function graph2ScreenCoords(state, x, y) {\n      var t = zoomTransform(state.canvas);\n      return {\n        x: x * t.k + t.x,\n        y: y * t.k + t.y\n      };\n    },\n    screen2GraphCoords: function screen2GraphCoords(state, x, y) {\n      var t = zoomTransform(state.canvas);\n      return {\n        x: (x - t.x) / t.k,\n        y: (y - t.y) / t.k\n      };\n    },\n    centerAt: function centerAt(state, x, y, transitionDuration) {\n      if (!state.canvas) return null; // no canvas yet\n      // setter\n\n      if (x !== undefined || y !== undefined) {\n        var finalPos = Object.assign({}, x !== undefined ? {\n          x: x\n        } : {}, y !== undefined ? {\n          y: y\n        } : {});\n\n        if (!transitionDuration) {\n          // no animation\n          setCenter(finalPos);\n        } else {\n          new TWEEN.Tween(getCenter()).to(finalPos, transitionDuration).easing(TWEEN.Easing.Quadratic.Out).onUpdate(setCenter).start();\n        }\n\n        return this;\n      } // getter\n\n\n      return getCenter(); //\n\n      function getCenter() {\n        var t = zoomTransform(state.canvas);\n        return {\n          x: (state.width / 2 - t.x) / t.k,\n          y: (state.height / 2 - t.y) / t.k\n        };\n      }\n\n      function setCenter(_ref5) {\n        var x = _ref5.x,\n            y = _ref5.y;\n        state.zoom.translateTo(state.zoom.__baseElem, x === undefined ? getCenter().x : x, y === undefined ? getCenter().y : y);\n      }\n    },\n    zoom: function zoom(state, k, transitionDuration) {\n      if (!state.canvas) return null; // no canvas yet\n      // setter\n\n      if (k !== undefined) {\n        if (!transitionDuration) {\n          // no animation\n          setZoom(k);\n        } else {\n          new TWEEN.Tween({\n            k: getZoom()\n          }).to({\n            k: k\n          }, transitionDuration).easing(TWEEN.Easing.Quadratic.Out).onUpdate(function (_ref6) {\n            var k = _ref6.k;\n            return setZoom(k);\n          }).start();\n        }\n\n        return this;\n      } // getter\n\n\n      return getZoom(); //\n\n      function getZoom() {\n        return zoomTransform(state.canvas).k;\n      }\n\n      function setZoom(k) {\n        state.zoom.scaleTo(state.zoom.__baseElem, k);\n      }\n    },\n    zoomToFit: function zoomToFit(state) {\n      var transitionDuration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var padding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n\n      for (var _len = arguments.length, bboxArgs = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        bboxArgs[_key - 3] = arguments[_key];\n      }\n\n      var bbox = this.getGraphBbox.apply(this, bboxArgs);\n\n      if (bbox) {\n        var center = {\n          x: (bbox.x[0] + bbox.x[1]) / 2,\n          y: (bbox.y[0] + bbox.y[1]) / 2\n        };\n        var zoomK = Math.max(1e-12, Math.min(1e12, (state.width - padding * 2) / (bbox.x[1] - bbox.x[0]), (state.height - padding * 2) / (bbox.y[1] - bbox.y[0])));\n        this.centerAt(center.x, center.y, transitionDuration);\n        this.zoom(zoomK, transitionDuration);\n      }\n\n      return this;\n    },\n    getGraphBbox: function getGraphBbox(state) {\n      var nodeFilter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {\n        return true;\n      };\n      var getVal = accessorFn(state.nodeVal);\n\n      var getR = function getR(node) {\n        return Math.sqrt(Math.max(0, getVal(node) || 1)) * state.nodeRelSize;\n      };\n\n      var nodesPos = state.graphData.nodes.filter(nodeFilter).map(function (node) {\n        return {\n          x: node.x,\n          y: node.y,\n          r: getR(node)\n        };\n      });\n      return !nodesPos.length ? null : {\n        x: [min(nodesPos, function (node) {\n          return node.x - node.r;\n        }), max(nodesPos, function (node) {\n          return node.x + node.r;\n        })],\n        y: [min(nodesPos, function (node) {\n          return node.y - node.r;\n        }), max(nodesPos, function (node) {\n          return node.y + node.r;\n        })]\n      };\n    },\n    pauseAnimation: function pauseAnimation(state) {\n      if (state.animationFrameRequestId) {\n        cancelAnimationFrame(state.animationFrameRequestId);\n        state.animationFrameRequestId = null;\n      }\n\n      return this;\n    },\n    resumeAnimation: function resumeAnimation(state) {\n      if (!state.animationFrameRequestId) {\n        this._animationCycle();\n      }\n\n      return this;\n    },\n    _destructor: function _destructor() {\n      this.pauseAnimation();\n      this.graphData({\n        nodes: [],\n        links: []\n      });\n    }\n  }, linkedMethods),\n  stateInit: function stateInit() {\n    return {\n      lastSetZoom: 1,\n      forceGraph: new CanvasForceGraph(),\n      shadowGraph: new CanvasForceGraph().cooldownTicks(0).nodeColor('__indexColor').linkColor('__indexColor').isShadow(true),\n      colorTracker: new ColorTracker() // indexed objects for rgb lookup\n\n    };\n  },\n  init: function init(domNode, state) {\n    // Wipe DOM\n    domNode.innerHTML = ''; // Container anchor for canvas and tooltip\n\n    var container = document.createElement('div');\n    container.classList.add('force-graph-container');\n    container.style.position = 'relative';\n    domNode.appendChild(container);\n    state.canvas = document.createElement('canvas');\n    if (state.backgroundColor) state.canvas.style.background = state.backgroundColor;\n    container.appendChild(state.canvas);\n    state.shadowCanvas = document.createElement('canvas'); // Show shadow canvas\n    //state.shadowCanvas.style.position = 'absolute';\n    //state.shadowCanvas.style.top = '0';\n    //state.shadowCanvas.style.left = '0';\n    //container.appendChild(state.shadowCanvas);\n\n    var ctx = state.canvas.getContext('2d');\n    var shadowCtx = state.shadowCanvas.getContext('2d'); // Setup node drag interaction\n\n    select(state.canvas).call(drag().subject(function () {\n      if (!state.enableNodeDrag) {\n        return null;\n      }\n\n      var obj = state.hoverObj;\n      return obj && obj.type === 'Node' ? obj.d : null; // Only drag nodes\n    }).on('start', function (ev) {\n      var obj = ev.subject;\n      obj.__initialDragPos = {\n        x: obj.x,\n        y: obj.y,\n        fx: obj.fx,\n        fy: obj.fy\n      }; // keep engine running at low intensity throughout drag\n\n      if (!ev.active) {\n        obj.fx = obj.x;\n        obj.fy = obj.y; // Fix points\n      } // drag cursor\n\n\n      state.canvas.classList.add('grabbable');\n    }).on('drag', function (ev) {\n      var obj = ev.subject;\n      var initPos = obj.__initialDragPos;\n      var dragPos = ev;\n      var k = zoomTransform(state.canvas).k;\n      var translate = {\n        x: initPos.x + (dragPos.x - initPos.x) / k - obj.x,\n        y: initPos.y + (dragPos.y - initPos.y) / k - obj.y\n      }; // Move fx/fy (and x/y) of nodes based on the scaled drag distance since the drag start\n\n      ['x', 'y'].forEach(function (c) {\n        return obj[\"f\".concat(c)] = obj[c] = initPos[c] + (dragPos[c] - initPos[c]) / k;\n      }); // prevent freeze while dragging\n\n      state.forceGraph.d3AlphaTarget(0.3) // keep engine running at low intensity throughout drag\n      .resetCountdown(); // prevent freeze while dragging\n\n      obj.__dragged = true;\n      state.onNodeDrag(obj, translate);\n    }).on('end', function (ev) {\n      var obj = ev.subject;\n      var initPos = obj.__initialDragPos;\n      var translate = {\n        x: obj.x - initPos.x,\n        y: obj.y - initPos.y\n      };\n\n      if (initPos.fx === undefined) {\n        obj.fx = undefined;\n      }\n\n      if (initPos.fy === undefined) {\n        obj.fy = undefined;\n      }\n\n      delete obj.__initialDragPos;\n      state.forceGraph.d3AlphaTarget(0) // release engine low intensity\n      .resetCountdown(); // let the engine readjust after releasing fixed nodes\n      // drag cursor\n\n      state.canvas.classList.remove('grabbable');\n      state.isPointerDragging = false;\n\n      if (obj.__dragged) {\n        delete obj.__dragged;\n        state.onNodeDragEnd(obj, translate);\n      }\n    })); // Setup zoom / pan interaction\n\n    state.zoom = zoom();\n    state.zoom(state.zoom.__baseElem = select(state.canvas)); // Attach controlling elem for easy access\n\n    state.zoom.__baseElem.on('dblclick.zoom', null); // Disable double-click to zoom\n\n\n    state.zoom.filter(function (ev) {\n      return state.enableZoomPanInteraction ? !ev.button : false;\n    }) // disable zoom interaction\n    .scaleExtent([0.01, 1000]).on('zoom', function () {\n      var t = zoomTransform(this); // Same as d3.event.transform\n\n      [ctx, shadowCtx].forEach(function (c) {\n        resetTransform(c);\n        c.translate(t.x, t.y);\n        c.scale(t.k, t.k);\n      });\n      state.onZoom(_objectSpread2({}, t));\n    }).on('end', function () {\n      var t = zoomTransform(this); // Same as d3.event.transform\n\n      state.onZoomEnd(_objectSpread2({}, t));\n    });\n    adjustCanvasSize(state);\n    state.forceGraph.onFinishUpdate(function () {\n      // re-zoom, if still in default position (not user modified)\n      if (zoomTransform(state.canvas).k === state.lastSetZoom && state.graphData.nodes.length) {\n        state.zoom.scaleTo(state.zoom.__baseElem, state.lastSetZoom = ZOOM2NODES_FACTOR / Math.cbrt(state.graphData.nodes.length));\n      }\n    }); // Setup tooltip\n\n    var toolTipElem = document.createElement('div');\n    toolTipElem.classList.add('graph-tooltip');\n    container.appendChild(toolTipElem); // Capture pointer coords on move or touchstart\n\n    var pointerPos = {\n      x: -1e12,\n      y: -1e12\n    };\n    ['pointermove', 'pointerdown'].forEach(function (evType) {\n      return container.addEventListener(evType, function (ev) {\n        // detect point drag\n        !state.isPointerDragging && ev.type === 'pointermove' && ev.pressure > 0 && [ev.movementX, ev.movementY].some(function (m) {\n          return Math.abs(m) > (ev.pointerType === 'touch' ? 1 : 0);\n        }) // relax drag trigger sensitivity on touch events\n        && (state.isPointerDragging = true); // update the pointer pos\n\n        var offset = getOffset(container);\n        pointerPos.x = ev.pageX - offset.left;\n        pointerPos.y = ev.pageY - offset.top; // Move tooltip\n\n        toolTipElem.style.top = \"\".concat(pointerPos.y, \"px\");\n        toolTipElem.style.left = \"\".concat(pointerPos.x, \"px\"); //\n\n        function getOffset(el) {\n          var rect = el.getBoundingClientRect(),\n              scrollLeft = window.pageXOffset || document.documentElement.scrollLeft,\n              scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n          return {\n            top: rect.top + scrollTop,\n            left: rect.left + scrollLeft\n          };\n        }\n      }, {\n        passive: true\n      });\n    }); // Handle click/touch events on nodes/links\n\n    container.addEventListener('pointerup', function (ev) {\n      if (state.isPointerDragging) {\n        state.isPointerDragging = false;\n        return; // don't trigger click events after pointer drag (pan / node drag functionality)\n      }\n\n      requestAnimationFrame(function () {\n        // trigger click events asynchronously, to allow hoverObj to be set (on frame)\n        if (ev.button === 0) {\n          // mouse left-click or touch\n          if (state.hoverObj) {\n            state[\"on\".concat(state.hoverObj.type, \"Click\")](state.hoverObj.d, ev);\n          } else {\n            state.onBackgroundClick(ev);\n          }\n        }\n\n        if (ev.button === 2) {\n          // mouse right-click\n          if (state.hoverObj) {\n            var fn = state[\"on\".concat(state.hoverObj.type, \"RightClick\")];\n            fn && fn(state.hoverObj.d, ev);\n          } else {\n            state.onBackgroundRightClick && state.onBackgroundRightClick(ev);\n          }\n        }\n      });\n    }, {\n      passive: true\n    });\n    container.addEventListener('contextmenu', function (ev) {\n      if (!state.onBackgroundRightClick && !state.onNodeRightClick && !state.onLinkRightClick) return true; // default contextmenu behavior\n\n      ev.preventDefault();\n      return false;\n    });\n    state.forceGraph(ctx);\n    state.shadowGraph(shadowCtx); //\n\n    var refreshShadowCanvas = throttle(function () {\n      // wipe canvas\n      clearCanvas(shadowCtx, state.width, state.height); // Adjust link hover area\n\n      state.shadowGraph.linkWidth(function (l) {\n        return accessorFn(state.linkWidth)(l) + state.linkHoverPrecision;\n      }); // redraw\n\n      var t = zoomTransform(state.canvas);\n      state.shadowGraph.globalScale(t.k).tickFrame();\n    }, HOVER_CANVAS_THROTTLE_DELAY); // Kick-off renderer\n\n    (this._animationCycle = function animate() {\n      // IIFE\n      if (state.enablePointerInteraction) {\n        // Update tooltip and trigger onHover events\n        var obj = null;\n\n        if (!state.isPointerDragging) {\n          // don't hover during drag\n          // Lookup object per pixel color\n          var pxScale = window.devicePixelRatio;\n          var px = pointerPos.x > 0 && pointerPos.y > 0 ? shadowCtx.getImageData(pointerPos.x * pxScale, pointerPos.y * pxScale, 1, 1) : null;\n          px && (obj = state.colorTracker.lookup(px.data));\n        }\n\n        if (obj !== state.hoverObj) {\n          var prevObj = state.hoverObj;\n          var prevObjType = prevObj ? prevObj.type : null;\n          var objType = obj ? obj.type : null;\n\n          if (prevObjType && prevObjType !== objType) {\n            // Hover out\n            state[\"on\".concat(prevObjType, \"Hover\")](null, prevObj.d);\n          }\n\n          if (objType) {\n            // Hover in\n            state[\"on\".concat(objType, \"Hover\")](obj.d, prevObjType === objType ? prevObj.d : null);\n          }\n\n          var tooltipContent = obj ? accessorFn(state[\"\".concat(obj.type.toLowerCase(), \"Label\")])(obj.d) || '' : '';\n          toolTipElem.style.visibility = tooltipContent ? 'visible' : 'hidden';\n          toolTipElem.innerHTML = tooltipContent;\n          state.hoverObj = obj;\n        }\n\n        refreshShadowCanvas();\n      } // Wipe canvas\n\n\n      clearCanvas(ctx, state.width, state.height); // Frame cycle\n\n      var globalScale = zoomTransform(state.canvas).k;\n      state.onRenderFramePre && state.onRenderFramePre(ctx, globalScale);\n      state.forceGraph.globalScale(globalScale).tickFrame();\n      state.onRenderFramePost && state.onRenderFramePost(ctx, globalScale);\n      TWEEN.update(); // update canvas animation tweens\n\n      state.animationFrameRequestId = requestAnimationFrame(animate);\n    })();\n  },\n  update: function updateFn(state) {}\n});\n\nexport default forceGraph;\n","import constant from \"./constant.js\";\n\nexport default function(radius, x, y, z) {\n  var nodes,\n      nDim,\n      strength = constant(0.1),\n      strengths,\n      radiuses;\n\n  if (typeof radius !== \"function\") radius = constant(+radius);\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n  if (z == null) z = 0;\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length; i < n; ++i) {\n      var node = nodes[i],\n          dx = node.x - x || 1e-6,\n          dy = (node.y || 0) - y || 1e-6,\n          dz = (node.z || 0) - z || 1e-6,\n          r = Math.sqrt(dx * dx + dy * dy + dz * dz),\n          k = (radiuses[i] - r) * strengths[i] * alpha / r;\n      node.vx += dx * k;\n      if (nDim>1) { node.vy += dy * k; }\n      if (nDim>2) { node.vz += dz * k; }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    radiuses = new Array(n);\n    for (i = 0; i < n; ++i) {\n      radiuses[i] = +radius(nodes[i], i, nodes);\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(initNodes, numDimensions) {\n    nodes = initNodes;\n    nDim = numDimensions;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.z = function(_) {\n    return arguments.length ? (z = +_, force) : z;\n  };\n\n  return force;\n}\n","import fromKapsule from 'react-kapsule';\nimport ForceGraph2DKapsule from 'force-graph';\nimport PropTypes from 'prop-types';\n\nconst commonPropTypes = {\n  width: PropTypes.number,\n  height: PropTypes.number,\n  graphData: PropTypes.shape({\n    nodes: PropTypes.arrayOf(PropTypes.object).isRequired,\n    links: PropTypes.arrayOf(PropTypes.object).isRequired\n  }),\n  backgroundColor: PropTypes.string,\n  nodeRelSize: PropTypes.number,\n  nodeId: PropTypes.string,\n  nodeLabel: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  nodeVal: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  nodeVisibility: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.func]),\n  nodeColor: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  nodeAutoColorBy: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkSource: PropTypes.string,\n  linkTarget: PropTypes.string,\n  linkLabel: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkVisibility: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.func]),\n  linkHoverPrecision: PropTypes.number,\n  linkColor: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkAutoColorBy: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkCurvature: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalArrowLength: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalArrowColor: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkDirectionalArrowRelPos: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalParticles: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalParticleSpeed: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalParticleWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalParticleColor: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  dagMode: PropTypes.oneOf(['td', 'bu', 'lr', 'rl', 'zin', 'zout', 'radialin', 'radialout']),\n  dagLevelDistance: PropTypes.number,\n  dagNodeFilter: PropTypes.func,\n  onDagError: PropTypes.func,\n  d3AlphaMin: PropTypes.number,\n  d3AlphaDecay: PropTypes.number,\n  d3VelocityDecay: PropTypes.number,\n  warmupTicks: PropTypes.number,\n  cooldownTicks: PropTypes.number,\n  cooldownTime: PropTypes.number,\n  onEngineTick: PropTypes.func,\n  onEngineStop: PropTypes.func,\n  getGraphBbox: PropTypes.func\n};\nconst pointerBasedPropTypes = {\n  zoomToFit: PropTypes.func,\n  onNodeClick: PropTypes.func,\n  onNodeRightClick: PropTypes.func,\n  onNodeHover: PropTypes.func,\n  onNodeDrag: PropTypes.func,\n  onNodeDragEnd: PropTypes.func,\n  onLinkClick: PropTypes.func,\n  onLinkRightClick: PropTypes.func,\n  onLinkHover: PropTypes.func,\n  onBackgroundClick: PropTypes.func,\n  onBackgroundRightClick: PropTypes.func,\n  enablePointerInteraction: PropTypes.bool,\n  enableNodeDrag: PropTypes.bool\n};\nconst threeBasedPropTypes = {\n  showNavInfo: PropTypes.bool,\n  nodeOpacity: PropTypes.number,\n  nodeResolution: PropTypes.number,\n  nodeThreeObject: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func]),\n  nodeThreeObjectExtend: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.func]),\n  linkOpacity: PropTypes.number,\n  linkResolution: PropTypes.number,\n  linkCurveRotation: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkMaterial: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func]),\n  linkThreeObject: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func]),\n  linkThreeObjectExtend: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.func]),\n  linkPositionUpdate: PropTypes.func,\n  linkDirectionalArrowResolution: PropTypes.number,\n  linkDirectionalParticleResolution: PropTypes.number,\n  forceEngine: PropTypes.oneOf(['d3', 'ngraph']),\n  ngraphPhysics: PropTypes.object,\n  numDimensions: PropTypes.oneOf([1, 2, 3])\n};\nconst ForceGraph2DPropTypes = Object.assign({}, commonPropTypes, pointerBasedPropTypes, {\n  linkLineDash: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.number), PropTypes.string, PropTypes.func]),\n  nodeCanvasObjectMode: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  nodeCanvasObject: PropTypes.func,\n  nodePointerAreaPaint: PropTypes.func,\n  linkCanvasObject: PropTypes.func,\n  linkCanvasObjectMode: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  enableZoomPanInteraction: PropTypes.bool,\n  onZoom: PropTypes.func,\n  onZoomEnd: PropTypes.func,\n  onRenderFramePre: PropTypes.func,\n  onRenderFramePost: PropTypes.func\n});\nObject.assign({}, commonPropTypes, pointerBasedPropTypes, threeBasedPropTypes, {\n  enableNavigationControls: PropTypes.bool,\n  controlType: PropTypes.oneOf(['trackball', 'orbit', 'fly']),\n  rendererConfig: PropTypes.object\n});\nObject.assign({}, commonPropTypes, threeBasedPropTypes, {\n  nodeDesc: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkDesc: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  onNodeCenterHover: PropTypes.func,\n  onLinkCenterHover: PropTypes.func\n});\nObject.assign({}, commonPropTypes, threeBasedPropTypes, {\n  markerAttrs: PropTypes.object,\n  yOffset: PropTypes.number,\n  glScale: PropTypes.number,\n  onNodeCenterHover: PropTypes.func,\n  onLinkCenterHover: PropTypes.func\n});\n\nconst ForceGraph2D = fromKapsule(ForceGraph2DKapsule, {\n  methodNames: [// bind methods\n  'emitParticle', 'd3Force', 'd3ReheatSimulation', 'stopAnimation', 'pauseAnimation', 'resumeAnimation', 'centerAt', 'zoom', 'zoomToFit', 'getGraphBbox', 'screen2GraphCoords', 'graph2ScreenCoords']\n});\nForceGraph2D.displayName = 'ForceGraph2D';\nForceGraph2D.propTypes = ForceGraph2DPropTypes;\n\nexport default ForceGraph2D;\n","function replaceClassName(origClass, classToRemove) {\n  return origClass.replace(new RegExp(\"(^|\\\\s)\" + classToRemove + \"(?:\\\\s|$)\", 'g'), '$1').replace(/\\s+/g, ' ').replace(/^\\s*|\\s*$/g, '');\n}\n\nexport default function removeClass(element, className) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else if (typeof element.className === 'string') {\n    ;\n    element.className = replaceClassName(element.className, className);\n  } else {\n    element.setAttribute('class', replaceClassName(element.className && element.className.baseVal || '', className));\n  }\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport addOneClass from 'dom-helpers/addClass';\nimport removeOneClass from 'dom-helpers/removeClass';\nimport React from 'react';\nimport Transition from './Transition';\nimport { classNamesShape } from './utils/PropTypes';\n\nvar _addClass = function addClass(node, classes) {\n  return node && classes && classes.split(' ').forEach(function (c) {\n    return addOneClass(node, c);\n  });\n};\n\nvar removeClass = function removeClass(node, classes) {\n  return node && classes && classes.split(' ').forEach(function (c) {\n    return removeOneClass(node, c);\n  });\n};\n/**\n * A transition component inspired by the excellent\n * [ng-animate](https://docs.angularjs.org/api/ngAnimate) library, you should\n * use it if you're using CSS transitions or animations. It's built upon the\n * [`Transition`](https://reactcommunity.org/react-transition-group/transition)\n * component, so it inherits all of its props.\n *\n * `CSSTransition` applies a pair of class names during the `appear`, `enter`,\n * and `exit` states of the transition. The first class is applied and then a\n * second `*-active` class in order to activate the CSS transition. After the\n * transition, matching `*-done` class names are applied to persist the\n * transition state.\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <CSSTransition in={inProp} timeout={200} classNames=\"my-node\">\n *         <div>\n *           {\"I'll receive my-node-* classes\"}\n *         </div>\n *       </CSSTransition>\n *       <button type=\"button\" onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the `in` prop is set to `true`, the child component will first receive\n * the class `example-enter`, then the `example-enter-active` will be added in\n * the next tick. `CSSTransition` [forces a\n * reflow](https://github.com/reactjs/react-transition-group/blob/5007303e729a74be66a21c3e2205e4916821524b/src/CSSTransition.js#L208-L215)\n * between before adding the `example-enter-active`. This is an important trick\n * because it allows us to transition between `example-enter` and\n * `example-enter-active` even though they were added immediately one after\n * another. Most notably, this is what makes it possible for us to animate\n * _appearance_.\n *\n * ```css\n * .my-node-enter {\n *   opacity: 0;\n * }\n * .my-node-enter-active {\n *   opacity: 1;\n *   transition: opacity 200ms;\n * }\n * .my-node-exit {\n *   opacity: 1;\n * }\n * .my-node-exit-active {\n *   opacity: 0;\n *   transition: opacity 200ms;\n * }\n * ```\n *\n * `*-active` classes represent which styles you want to animate **to**, so it's\n * important to add `transition` declaration only to them, otherwise transitions\n * might not behave as intended! This might not be obvious when the transitions\n * are symmetrical, i.e. when `*-enter-active` is the same as `*-exit`, like in\n * the example above (minus `transition`), but it becomes apparent in more\n * complex transitions.\n *\n * **Note**: If you're using the\n * [`appear`](http://reactcommunity.org/react-transition-group/transition#Transition-prop-appear)\n * prop, make sure to define styles for `.appear-*` classes as well.\n */\n\n\nvar CSSTransition = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(CSSTransition, _React$Component);\n\n  function CSSTransition() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.appliedClasses = {\n      appear: {},\n      enter: {},\n      exit: {}\n    };\n\n    _this.onEnter = function (maybeNode, maybeAppearing) {\n      var _this$resolveArgument = _this.resolveArguments(maybeNode, maybeAppearing),\n          node = _this$resolveArgument[0],\n          appearing = _this$resolveArgument[1];\n\n      _this.removeClasses(node, 'exit');\n\n      _this.addClass(node, appearing ? 'appear' : 'enter', 'base');\n\n      if (_this.props.onEnter) {\n        _this.props.onEnter(maybeNode, maybeAppearing);\n      }\n    };\n\n    _this.onEntering = function (maybeNode, maybeAppearing) {\n      var _this$resolveArgument2 = _this.resolveArguments(maybeNode, maybeAppearing),\n          node = _this$resolveArgument2[0],\n          appearing = _this$resolveArgument2[1];\n\n      var type = appearing ? 'appear' : 'enter';\n\n      _this.addClass(node, type, 'active');\n\n      if (_this.props.onEntering) {\n        _this.props.onEntering(maybeNode, maybeAppearing);\n      }\n    };\n\n    _this.onEntered = function (maybeNode, maybeAppearing) {\n      var _this$resolveArgument3 = _this.resolveArguments(maybeNode, maybeAppearing),\n          node = _this$resolveArgument3[0],\n          appearing = _this$resolveArgument3[1];\n\n      var type = appearing ? 'appear' : 'enter';\n\n      _this.removeClasses(node, type);\n\n      _this.addClass(node, type, 'done');\n\n      if (_this.props.onEntered) {\n        _this.props.onEntered(maybeNode, maybeAppearing);\n      }\n    };\n\n    _this.onExit = function (maybeNode) {\n      var _this$resolveArgument4 = _this.resolveArguments(maybeNode),\n          node = _this$resolveArgument4[0];\n\n      _this.removeClasses(node, 'appear');\n\n      _this.removeClasses(node, 'enter');\n\n      _this.addClass(node, 'exit', 'base');\n\n      if (_this.props.onExit) {\n        _this.props.onExit(maybeNode);\n      }\n    };\n\n    _this.onExiting = function (maybeNode) {\n      var _this$resolveArgument5 = _this.resolveArguments(maybeNode),\n          node = _this$resolveArgument5[0];\n\n      _this.addClass(node, 'exit', 'active');\n\n      if (_this.props.onExiting) {\n        _this.props.onExiting(maybeNode);\n      }\n    };\n\n    _this.onExited = function (maybeNode) {\n      var _this$resolveArgument6 = _this.resolveArguments(maybeNode),\n          node = _this$resolveArgument6[0];\n\n      _this.removeClasses(node, 'exit');\n\n      _this.addClass(node, 'exit', 'done');\n\n      if (_this.props.onExited) {\n        _this.props.onExited(maybeNode);\n      }\n    };\n\n    _this.resolveArguments = function (maybeNode, maybeAppearing) {\n      return _this.props.nodeRef ? [_this.props.nodeRef.current, maybeNode] // here `maybeNode` is actually `appearing`\n      : [maybeNode, maybeAppearing];\n    };\n\n    _this.getClassNames = function (type) {\n      var classNames = _this.props.classNames;\n      var isStringClassNames = typeof classNames === 'string';\n      var prefix = isStringClassNames && classNames ? classNames + \"-\" : '';\n      var baseClassName = isStringClassNames ? \"\" + prefix + type : classNames[type];\n      var activeClassName = isStringClassNames ? baseClassName + \"-active\" : classNames[type + \"Active\"];\n      var doneClassName = isStringClassNames ? baseClassName + \"-done\" : classNames[type + \"Done\"];\n      return {\n        baseClassName: baseClassName,\n        activeClassName: activeClassName,\n        doneClassName: doneClassName\n      };\n    };\n\n    return _this;\n  }\n\n  var _proto = CSSTransition.prototype;\n\n  _proto.addClass = function addClass(node, type, phase) {\n    var className = this.getClassNames(type)[phase + \"ClassName\"];\n\n    var _this$getClassNames = this.getClassNames('enter'),\n        doneClassName = _this$getClassNames.doneClassName;\n\n    if (type === 'appear' && phase === 'done' && doneClassName) {\n      className += \" \" + doneClassName;\n    } // This is for to force a repaint,\n    // which is necessary in order to transition styles when adding a class name.\n\n\n    if (phase === 'active') {\n      /* eslint-disable no-unused-expressions */\n      node && node.scrollTop;\n    }\n\n    if (className) {\n      this.appliedClasses[type][phase] = className;\n\n      _addClass(node, className);\n    }\n  };\n\n  _proto.removeClasses = function removeClasses(node, type) {\n    var _this$appliedClasses$ = this.appliedClasses[type],\n        baseClassName = _this$appliedClasses$.base,\n        activeClassName = _this$appliedClasses$.active,\n        doneClassName = _this$appliedClasses$.done;\n    this.appliedClasses[type] = {};\n\n    if (baseClassName) {\n      removeClass(node, baseClassName);\n    }\n\n    if (activeClassName) {\n      removeClass(node, activeClassName);\n    }\n\n    if (doneClassName) {\n      removeClass(node, doneClassName);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        _ = _this$props.classNames,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"classNames\"]);\n\n    return /*#__PURE__*/React.createElement(Transition, _extends({}, props, {\n      onEnter: this.onEnter,\n      onEntered: this.onEntered,\n      onEntering: this.onEntering,\n      onExit: this.onExit,\n      onExiting: this.onExiting,\n      onExited: this.onExited\n    }));\n  };\n\n  return CSSTransition;\n}(React.Component);\n\nCSSTransition.defaultProps = {\n  classNames: ''\n};\nCSSTransition.propTypes = process.env.NODE_ENV !== \"production\" ? _extends({}, Transition.propTypes, {\n  /**\n   * The animation classNames applied to the component as it appears, enters,\n   * exits or has finished the transition. A single name can be provided, which\n   * will be suffixed for each stage, e.g. `classNames=\"fade\"` applies:\n   *\n   * - `fade-appear`, `fade-appear-active`, `fade-appear-done`\n   * - `fade-enter`, `fade-enter-active`, `fade-enter-done`\n   * - `fade-exit`, `fade-exit-active`, `fade-exit-done`\n   *\n   * A few details to note about how these classes are applied:\n   *\n   * 1. They are _joined_ with the ones that are already defined on the child\n   *    component, so if you want to add some base styles, you can use\n   *    `className` without worrying that it will be overridden.\n   *\n   * 2. If the transition component mounts with `in={false}`, no classes are\n   *    applied yet. You might be expecting `*-exit-done`, but if you think\n   *    about it, a component cannot finish exiting if it hasn't entered yet.\n   *\n   * 2. `fade-appear-done` and `fade-enter-done` will _both_ be applied. This\n   *    allows you to define different behavior for when appearing is done and\n   *    when regular entering is done, using selectors like\n   *    `.fade-enter-done:not(.fade-appear-done)`. For example, you could apply\n   *    an epic entrance animation when element first appears in the DOM using\n   *    [Animate.css](https://daneden.github.io/animate.css/). Otherwise you can\n   *    simply use `fade-enter-done` for defining both cases.\n   *\n   * Each individual classNames can also be specified independently like:\n   *\n   * ```js\n   * classNames={{\n   *  appear: 'my-appear',\n   *  appearActive: 'my-active-appear',\n   *  appearDone: 'my-done-appear',\n   *  enter: 'my-enter',\n   *  enterActive: 'my-active-enter',\n   *  enterDone: 'my-done-enter',\n   *  exit: 'my-exit',\n   *  exitActive: 'my-active-exit',\n   *  exitDone: 'my-done-exit',\n   * }}\n   * ```\n   *\n   * If you want to set these classes using CSS Modules:\n   *\n   * ```js\n   * import styles from './styles.css';\n   * ```\n   *\n   * you might want to use camelCase in your CSS file, that way could simply\n   * spread them instead of listing them one by one:\n   *\n   * ```js\n   * classNames={{ ...styles }}\n   * ```\n   *\n   * @type {string | {\n   *  appear?: string,\n   *  appearActive?: string,\n   *  appearDone?: string,\n   *  enter?: string,\n   *  enterActive?: string,\n   *  enterDone?: string,\n   *  exit?: string,\n   *  exitActive?: string,\n   *  exitDone?: string,\n   * }}\n   */\n  classNames: classNamesShape,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter' or 'appear' class is\n   * applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter-active' or\n   * 'appear-active' class is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter' or\n   * 'appear' classes are **removed** and the `done` class is added to the DOM node.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit' class is\n   * applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit-active' is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit' classes\n   * are **removed** and the `exit-done` class is added to the DOM node.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExited: PropTypes.func\n}) : {};\nexport default CSSTransition;","import hasClass from './hasClass';\nexport default function addClass(element, className) {\n  if (element.classList) element.classList.add(className);else if (!hasClass(element, className)) if (typeof element.className === 'string') element.className = element.className + \" \" + className;else element.setAttribute('class', (element.className && element.className.baseVal || '') + \" \" + className);\n}","export default function hasClass(element, className) {\n  if (element.classList) return !!className && element.classList.contains(className);\n  return (\" \" + (element.className.baseVal || element.className) + \" \").indexOf(\" \" + className + \" \") !== -1;\n}","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\n\nvar _leaveRenders, _enterRenders;\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { ENTERED, ENTERING, EXITING } from './Transition';\nimport TransitionGroupContext from './TransitionGroupContext';\n\nfunction areChildrenDifferent(oldChildren, newChildren) {\n  if (oldChildren === newChildren) return false;\n\n  if (React.isValidElement(oldChildren) && React.isValidElement(newChildren) && oldChildren.key != null && oldChildren.key === newChildren.key) {\n    return false;\n  }\n\n  return true;\n}\n/**\n * Enum of modes for SwitchTransition component\n * @enum { string }\n */\n\n\nexport var modes = {\n  out: 'out-in',\n  in: 'in-out'\n};\n\nvar callHook = function callHook(element, name, cb) {\n  return function () {\n    var _element$props;\n\n    element.props[name] && (_element$props = element.props)[name].apply(_element$props, arguments);\n    cb();\n  };\n};\n\nvar leaveRenders = (_leaveRenders = {}, _leaveRenders[modes.out] = function (_ref) {\n  var current = _ref.current,\n      changeState = _ref.changeState;\n  return React.cloneElement(current, {\n    in: false,\n    onExited: callHook(current, 'onExited', function () {\n      changeState(ENTERING, null);\n    })\n  });\n}, _leaveRenders[modes.in] = function (_ref2) {\n  var current = _ref2.current,\n      changeState = _ref2.changeState,\n      children = _ref2.children;\n  return [current, React.cloneElement(children, {\n    in: true,\n    onEntered: callHook(children, 'onEntered', function () {\n      changeState(ENTERING);\n    })\n  })];\n}, _leaveRenders);\nvar enterRenders = (_enterRenders = {}, _enterRenders[modes.out] = function (_ref3) {\n  var children = _ref3.children,\n      changeState = _ref3.changeState;\n  return React.cloneElement(children, {\n    in: true,\n    onEntered: callHook(children, 'onEntered', function () {\n      changeState(ENTERED, React.cloneElement(children, {\n        in: true\n      }));\n    })\n  });\n}, _enterRenders[modes.in] = function (_ref4) {\n  var current = _ref4.current,\n      children = _ref4.children,\n      changeState = _ref4.changeState;\n  return [React.cloneElement(current, {\n    in: false,\n    onExited: callHook(current, 'onExited', function () {\n      changeState(ENTERED, React.cloneElement(children, {\n        in: true\n      }));\n    })\n  }), React.cloneElement(children, {\n    in: true\n  })];\n}, _enterRenders);\n/**\n * A transition component inspired by the [vue transition modes](https://vuejs.org/v2/guide/transitions.html#Transition-Modes).\n * You can use it when you want to control the render between state transitions.\n * Based on the selected mode and the child's key which is the `Transition` or `CSSTransition` component, the `SwitchTransition` makes a consistent transition between them.\n *\n * If the `out-in` mode is selected, the `SwitchTransition` waits until the old child leaves and then inserts a new child.\n * If the `in-out` mode is selected, the `SwitchTransition` inserts a new child first, waits for the new child to enter and then removes the old child.\n *\n * **Note**: If you want the animation to happen simultaneously\n * (that is, to have the old child removed and a new child inserted **at the same time**),\n * you should use\n * [`TransitionGroup`](https://reactcommunity.org/react-transition-group/transition-group)\n * instead.\n *\n * ```jsx\n * function App() {\n *  const [state, setState] = useState(false);\n *  return (\n *    <SwitchTransition>\n *      <CSSTransition\n *        key={state ? \"Goodbye, world!\" : \"Hello, world!\"}\n *        addEndListener={(node, done) => node.addEventListener(\"transitionend\", done, false)}\n *        classNames='fade'\n *      >\n *        <button onClick={() => setState(state => !state)}>\n *          {state ? \"Goodbye, world!\" : \"Hello, world!\"}\n *        </button>\n *      </CSSTransition>\n *    </SwitchTransition>\n *  );\n * }\n * ```\n *\n * ```css\n * .fade-enter{\n *    opacity: 0;\n * }\n * .fade-exit{\n *    opacity: 1;\n * }\n * .fade-enter-active{\n *    opacity: 1;\n * }\n * .fade-exit-active{\n *    opacity: 0;\n * }\n * .fade-enter-active,\n * .fade-exit-active{\n *    transition: opacity 500ms;\n * }\n * ```\n */\n\nvar SwitchTransition = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(SwitchTransition, _React$Component);\n\n  function SwitchTransition() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      status: ENTERED,\n      current: null\n    };\n    _this.appeared = false;\n\n    _this.changeState = function (status, current) {\n      if (current === void 0) {\n        current = _this.state.current;\n      }\n\n      _this.setState({\n        status: status,\n        current: current\n      });\n    };\n\n    return _this;\n  }\n\n  var _proto = SwitchTransition.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.appeared = true;\n  };\n\n  SwitchTransition.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (props.children == null) {\n      return {\n        current: null\n      };\n    }\n\n    if (state.status === ENTERING && props.mode === modes.in) {\n      return {\n        status: ENTERING\n      };\n    }\n\n    if (state.current && areChildrenDifferent(state.current, props.children)) {\n      return {\n        status: EXITING\n      };\n    }\n\n    return {\n      current: React.cloneElement(props.children, {\n        in: true\n      })\n    };\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        mode = _this$props.mode,\n        _this$state = this.state,\n        status = _this$state.status,\n        current = _this$state.current;\n    var data = {\n      children: children,\n      current: current,\n      changeState: this.changeState,\n      status: status\n    };\n    var component;\n\n    switch (status) {\n      case ENTERING:\n        component = enterRenders[mode](data);\n        break;\n\n      case EXITING:\n        component = leaveRenders[mode](data);\n        break;\n\n      case ENTERED:\n        component = current;\n    }\n\n    return /*#__PURE__*/React.createElement(TransitionGroupContext.Provider, {\n      value: {\n        isMounting: !this.appeared\n      }\n    }, component);\n  };\n\n  return SwitchTransition;\n}(React.Component);\n\nSwitchTransition.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * Transition modes.\n   * `out-in`: Current element transitions out first, then when complete, the new element transitions in.\n   * `in-out`: New element transitions in first, then when complete, the current element transitions out.\n   *\n   * @type {'out-in'|'in-out'}\n   */\n  mode: PropTypes.oneOf([modes.in, modes.out]),\n\n  /**\n   * Any `Transition` or `CSSTransition` component.\n   */\n  children: PropTypes.oneOfType([PropTypes.element.isRequired])\n} : {};\nSwitchTransition.defaultProps = {\n  mode: modes.out\n};\nexport default SwitchTransition;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport config from './config';\nimport { timeoutsShape } from './utils/PropTypes';\nimport TransitionGroupContext from './TransitionGroupContext';\nexport var UNMOUNTED = 'unmounted';\nexport var EXITED = 'exited';\nexport var ENTERING = 'entering';\nexport var ENTERED = 'entered';\nexport var EXITING = 'exiting';\n/**\n * The Transition component lets you describe a transition from one component\n * state to another _over time_ with a simple declarative API. Most commonly\n * it's used to animate the mounting and unmounting of a component, but can also\n * be used to describe in-place transition states as well.\n *\n * ---\n *\n * **Note**: `Transition` is a platform-agnostic base component. If you're using\n * transitions in CSS, you'll probably want to use\n * [`CSSTransition`](https://reactcommunity.org/react-transition-group/css-transition)\n * instead. It inherits all the features of `Transition`, but contains\n * additional features necessary to play nice with CSS transitions (hence the\n * name of the component).\n *\n * ---\n *\n * By default the `Transition` component does not alter the behavior of the\n * component it renders, it only tracks \"enter\" and \"exit\" states for the\n * components. It's up to you to give meaning and effect to those states. For\n * example we can add styles to a component when it enters or exits:\n *\n * ```jsx\n * import { Transition } from 'react-transition-group';\n *\n * const duration = 300;\n *\n * const defaultStyle = {\n *   transition: `opacity ${duration}ms ease-in-out`,\n *   opacity: 0,\n * }\n *\n * const transitionStyles = {\n *   entering: { opacity: 1 },\n *   entered:  { opacity: 1 },\n *   exiting:  { opacity: 0 },\n *   exited:  { opacity: 0 },\n * };\n *\n * const Fade = ({ in: inProp }) => (\n *   <Transition in={inProp} timeout={duration}>\n *     {state => (\n *       <div style={{\n *         ...defaultStyle,\n *         ...transitionStyles[state]\n *       }}>\n *         I'm a fade Transition!\n *       </div>\n *     )}\n *   </Transition>\n * );\n * ```\n *\n * There are 4 main states a Transition can be in:\n *  - `'entering'`\n *  - `'entered'`\n *  - `'exiting'`\n *  - `'exited'`\n *\n * Transition state is toggled via the `in` prop. When `true` the component\n * begins the \"Enter\" stage. During this stage, the component will shift from\n * its current transition state, to `'entering'` for the duration of the\n * transition and then to the `'entered'` stage once it's complete. Let's take\n * the following example (we'll use the\n * [useState](https://reactjs.org/docs/hooks-reference.html#usestate) hook):\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <Transition in={inProp} timeout={500}>\n *         {state => (\n *           // ...\n *         )}\n *       </Transition>\n *       <button onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the button is clicked the component will shift to the `'entering'` state\n * and stay there for 500ms (the value of `timeout`) before it finally switches\n * to `'entered'`.\n *\n * When `in` is `false` the same thing happens except the state moves from\n * `'exiting'` to `'exited'`.\n */\n\nvar Transition = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Transition, _React$Component);\n\n  function Transition(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    var parentGroup = context; // In the context of a TransitionGroup all enters are really appears\n\n    var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;\n    var initialStatus;\n    _this.appearStatus = null;\n\n    if (props.in) {\n      if (appear) {\n        initialStatus = EXITED;\n        _this.appearStatus = ENTERING;\n      } else {\n        initialStatus = ENTERED;\n      }\n    } else {\n      if (props.unmountOnExit || props.mountOnEnter) {\n        initialStatus = UNMOUNTED;\n      } else {\n        initialStatus = EXITED;\n      }\n    }\n\n    _this.state = {\n      status: initialStatus\n    };\n    _this.nextCallback = null;\n    return _this;\n  }\n\n  Transition.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var nextIn = _ref.in;\n\n    if (nextIn && prevState.status === UNMOUNTED) {\n      return {\n        status: EXITED\n      };\n    }\n\n    return null;\n  } // getSnapshotBeforeUpdate(prevProps) {\n  //   let nextStatus = null\n  //   if (prevProps !== this.props) {\n  //     const { status } = this.state\n  //     if (this.props.in) {\n  //       if (status !== ENTERING && status !== ENTERED) {\n  //         nextStatus = ENTERING\n  //       }\n  //     } else {\n  //       if (status === ENTERING || status === ENTERED) {\n  //         nextStatus = EXITING\n  //       }\n  //     }\n  //   }\n  //   return { nextStatus }\n  // }\n  ;\n\n  var _proto = Transition.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateStatus(true, this.appearStatus);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var nextStatus = null;\n\n    if (prevProps !== this.props) {\n      var status = this.state.status;\n\n      if (this.props.in) {\n        if (status !== ENTERING && status !== ENTERED) {\n          nextStatus = ENTERING;\n        }\n      } else {\n        if (status === ENTERING || status === ENTERED) {\n          nextStatus = EXITING;\n        }\n      }\n    }\n\n    this.updateStatus(false, nextStatus);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cancelNextCallback();\n  };\n\n  _proto.getTimeouts = function getTimeouts() {\n    var timeout = this.props.timeout;\n    var exit, enter, appear;\n    exit = enter = appear = timeout;\n\n    if (timeout != null && typeof timeout !== 'number') {\n      exit = timeout.exit;\n      enter = timeout.enter; // TODO: remove fallback for next major\n\n      appear = timeout.appear !== undefined ? timeout.appear : enter;\n    }\n\n    return {\n      exit: exit,\n      enter: enter,\n      appear: appear\n    };\n  };\n\n  _proto.updateStatus = function updateStatus(mounting, nextStatus) {\n    if (mounting === void 0) {\n      mounting = false;\n    }\n\n    if (nextStatus !== null) {\n      // nextStatus will always be ENTERING or EXITING.\n      this.cancelNextCallback();\n\n      if (nextStatus === ENTERING) {\n        this.performEnter(mounting);\n      } else {\n        this.performExit();\n      }\n    } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n      this.setState({\n        status: UNMOUNTED\n      });\n    }\n  };\n\n  _proto.performEnter = function performEnter(mounting) {\n    var _this2 = this;\n\n    var enter = this.props.enter;\n    var appearing = this.context ? this.context.isMounting : mounting;\n\n    var _ref2 = this.props.nodeRef ? [appearing] : [ReactDOM.findDOMNode(this), appearing],\n        maybeNode = _ref2[0],\n        maybeAppearing = _ref2[1];\n\n    var timeouts = this.getTimeouts();\n    var enterTimeout = appearing ? timeouts.appear : timeouts.enter; // no enter animation skip right to ENTERED\n    // if we are mounting and running this it means appear _must_ be set\n\n    if (!mounting && !enter || config.disabled) {\n      this.safeSetState({\n        status: ENTERED\n      }, function () {\n        _this2.props.onEntered(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onEnter(maybeNode, maybeAppearing);\n    this.safeSetState({\n      status: ENTERING\n    }, function () {\n      _this2.props.onEntering(maybeNode, maybeAppearing);\n\n      _this2.onTransitionEnd(enterTimeout, function () {\n        _this2.safeSetState({\n          status: ENTERED\n        }, function () {\n          _this2.props.onEntered(maybeNode, maybeAppearing);\n        });\n      });\n    });\n  };\n\n  _proto.performExit = function performExit() {\n    var _this3 = this;\n\n    var exit = this.props.exit;\n    var timeouts = this.getTimeouts();\n    var maybeNode = this.props.nodeRef ? undefined : ReactDOM.findDOMNode(this); // no exit animation skip right to EXITED\n\n    if (!exit || config.disabled) {\n      this.safeSetState({\n        status: EXITED\n      }, function () {\n        _this3.props.onExited(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onExit(maybeNode);\n    this.safeSetState({\n      status: EXITING\n    }, function () {\n      _this3.props.onExiting(maybeNode);\n\n      _this3.onTransitionEnd(timeouts.exit, function () {\n        _this3.safeSetState({\n          status: EXITED\n        }, function () {\n          _this3.props.onExited(maybeNode);\n        });\n      });\n    });\n  };\n\n  _proto.cancelNextCallback = function cancelNextCallback() {\n    if (this.nextCallback !== null) {\n      this.nextCallback.cancel();\n      this.nextCallback = null;\n    }\n  };\n\n  _proto.safeSetState = function safeSetState(nextState, callback) {\n    // This shouldn't be necessary, but there are weird race conditions with\n    // setState callbacks and unmounting in testing, so always make sure that\n    // we can cancel any pending setState callbacks after we unmount.\n    callback = this.setNextCallback(callback);\n    this.setState(nextState, callback);\n  };\n\n  _proto.setNextCallback = function setNextCallback(callback) {\n    var _this4 = this;\n\n    var active = true;\n\n    this.nextCallback = function (event) {\n      if (active) {\n        active = false;\n        _this4.nextCallback = null;\n        callback(event);\n      }\n    };\n\n    this.nextCallback.cancel = function () {\n      active = false;\n    };\n\n    return this.nextCallback;\n  };\n\n  _proto.onTransitionEnd = function onTransitionEnd(timeout, handler) {\n    this.setNextCallback(handler);\n    var node = this.props.nodeRef ? this.props.nodeRef.current : ReactDOM.findDOMNode(this);\n    var doesNotHaveTimeoutOrListener = timeout == null && !this.props.addEndListener;\n\n    if (!node || doesNotHaveTimeoutOrListener) {\n      setTimeout(this.nextCallback, 0);\n      return;\n    }\n\n    if (this.props.addEndListener) {\n      var _ref3 = this.props.nodeRef ? [this.nextCallback] : [node, this.nextCallback],\n          maybeNode = _ref3[0],\n          maybeNextCallback = _ref3[1];\n\n      this.props.addEndListener(maybeNode, maybeNextCallback);\n    }\n\n    if (timeout != null) {\n      setTimeout(this.nextCallback, timeout);\n    }\n  };\n\n  _proto.render = function render() {\n    var status = this.state.status;\n\n    if (status === UNMOUNTED) {\n      return null;\n    }\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        _in = _this$props.in,\n        _mountOnEnter = _this$props.mountOnEnter,\n        _unmountOnExit = _this$props.unmountOnExit,\n        _appear = _this$props.appear,\n        _enter = _this$props.enter,\n        _exit = _this$props.exit,\n        _timeout = _this$props.timeout,\n        _addEndListener = _this$props.addEndListener,\n        _onEnter = _this$props.onEnter,\n        _onEntering = _this$props.onEntering,\n        _onEntered = _this$props.onEntered,\n        _onExit = _this$props.onExit,\n        _onExiting = _this$props.onExiting,\n        _onExited = _this$props.onExited,\n        _nodeRef = _this$props.nodeRef,\n        childProps = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"in\", \"mountOnEnter\", \"unmountOnExit\", \"appear\", \"enter\", \"exit\", \"timeout\", \"addEndListener\", \"onEnter\", \"onEntering\", \"onEntered\", \"onExit\", \"onExiting\", \"onExited\", \"nodeRef\"]);\n\n    return (\n      /*#__PURE__*/\n      // allows for nested Transitions\n      React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, typeof children === 'function' ? children(status, childProps) : React.cloneElement(React.Children.only(children), childProps))\n    );\n  };\n\n  return Transition;\n}(React.Component);\n\nTransition.contextType = TransitionGroupContext;\nTransition.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * A React reference to DOM element that need to transition:\n   * https://stackoverflow.com/a/51127130/4671932\n   *\n   *   - When `nodeRef` prop is used, `node` is not passed to callback functions\n   *      (e.g. `onEnter`) because user already has direct access to the node.\n   *   - When changing `key` prop of `Transition` in a `TransitionGroup` a new\n   *     `nodeRef` need to be provided to `Transition` with changed `key` prop\n   *     (see\n   *     [test/CSSTransition-test.js](https://github.com/reactjs/react-transition-group/blob/13435f897b3ab71f6e19d724f145596f5910581c/test/CSSTransition-test.js#L362-L437)).\n   */\n  nodeRef: PropTypes.shape({\n    current: typeof Element === 'undefined' ? PropTypes.any : PropTypes.instanceOf(Element)\n  }),\n\n  /**\n   * A `function` child can be used instead of a React element. This function is\n   * called with the current transition status (`'entering'`, `'entered'`,\n   * `'exiting'`, `'exited'`), which can be used to apply context\n   * specific props to a component.\n   *\n   * ```jsx\n   * <Transition in={this.state.in} timeout={150}>\n   *   {state => (\n   *     <MyComponent className={`fade fade-${state}`} />\n   *   )}\n   * </Transition>\n   * ```\n   */\n  children: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.element.isRequired]).isRequired,\n\n  /**\n   * Show the component; triggers the enter or exit states\n   */\n  in: PropTypes.bool,\n\n  /**\n   * By default the child component is mounted immediately along with\n   * the parent `Transition` component. If you want to \"lazy mount\" the component on the\n   * first `in={true}` you can set `mountOnEnter`. After the first enter transition the component will stay\n   * mounted, even on \"exited\", unless you also specify `unmountOnExit`.\n   */\n  mountOnEnter: PropTypes.bool,\n\n  /**\n   * By default the child component stays mounted after it reaches the `'exited'` state.\n   * Set `unmountOnExit` if you'd prefer to unmount the component after it finishes exiting.\n   */\n  unmountOnExit: PropTypes.bool,\n\n  /**\n   * By default the child component does not perform the enter transition when\n   * it first mounts, regardless of the value of `in`. If you want this\n   * behavior, set both `appear` and `in` to `true`.\n   *\n   * > **Note**: there are no special appear states like `appearing`/`appeared`, this prop\n   * > only adds an additional enter transition. However, in the\n   * > `<CSSTransition>` component that first enter transition does result in\n   * > additional `.appear-*` classes, that way you can choose to style it\n   * > differently.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * Enable or disable enter transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * Enable or disable exit transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * The duration of the transition, in milliseconds.\n   * Required unless `addEndListener` is provided.\n   *\n   * You may specify a single timeout for all transitions:\n   *\n   * ```jsx\n   * timeout={500}\n   * ```\n   *\n   * or individually:\n   *\n   * ```jsx\n   * timeout={{\n   *  appear: 500,\n   *  enter: 300,\n   *  exit: 500,\n   * }}\n   * ```\n   *\n   * - `appear` defaults to the value of `enter`\n   * - `enter` defaults to `0`\n   * - `exit` defaults to `0`\n   *\n   * @type {number | { enter?: number, exit?: number, appear?: number }}\n   */\n  timeout: function timeout(props) {\n    var pt = timeoutsShape;\n    if (!props.addEndListener) pt = pt.isRequired;\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return pt.apply(void 0, [props].concat(args));\n  },\n\n  /**\n   * Add a custom transition end trigger. Called with the transitioning\n   * DOM node and a `done` callback. Allows for more fine grained transition end\n   * logic. Timeouts are still used as a fallback if provided.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * ```jsx\n   * addEndListener={(node, done) => {\n   *   // use the css transitionend event to mark the finish of a transition\n   *   node.addEventListener('transitionend', done, false);\n   * }}\n   * ```\n   */\n  addEndListener: PropTypes.func,\n\n  /**\n   * Callback fired before the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entered\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired before the \"exiting\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exiting\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exited\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExited: PropTypes.func\n} : {}; // Name the function so it is clearer in the documentation\n\nfunction noop() {}\n\nTransition.defaultProps = {\n  in: false,\n  mountOnEnter: false,\n  unmountOnExit: false,\n  appear: false,\n  enter: true,\n  exit: true,\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\nTransition.UNMOUNTED = UNMOUNTED;\nTransition.EXITED = EXITED;\nTransition.ENTERING = ENTERING;\nTransition.ENTERED = ENTERED;\nTransition.EXITING = EXITING;\nexport default Transition;","import React from 'react';\nexport default React.createContext(null);","// TinyColor v1.4.2\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\nvar trimLeft = /^\\s+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    mathRound = Math.round,\n    mathMin = Math.min,\n    mathMax = Math.max,\n    mathRandom = Math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        //http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function() {\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var RsRGB, GsRGB, BsRGB, R, G, B;\n        RsRGB = rgb.r/255;\n        GsRGB = rgb.g/255;\n        BsRGB = rgb.b/255;\n\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function(allow4Char) {\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function(allow4Char) {\n        return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex4\") {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n    clone: function() {\n        return tinycolor(this.toString());\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16)),\n        pad2(convertDecimalToHex(a))\n    ];\n\n    // Return a 4 character hex if possible\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n\n    var rgba = {\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function(color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n\n    out = false;\n\n    wcag2Parms = validateWCAG2Parms(wcag2);\n    switch (wcag2Parms.level + wcag2Parms.size) {\n        case \"AAsmall\":\n        case \"AAAlarge\":\n            out = readability >= 4.5;\n            break;\n        case \"AAlarge\":\n            out = readability >= 3;\n            break;\n        case \"AAAsmall\":\n            out = readability >= 7;\n            break;\n    }\n    return out;\n\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function(baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size ;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors ;\n    level = args.level;\n    size = args.size;\n\n    for (var i= 0; i < colorList.length ; i++) {\n        readability = tinycolor.readability(baseColor, colorList[i]);\n        if (readability > bestScore) {\n            bestScore = readability;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n        return bestColor;\n    }\n    else {\n        args.includeFallbackColors=false;\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n    }\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((Math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        CSS_UNIT: new RegExp(CSS_UNIT),\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex4.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            a: convertHexToDecimal(match[4] + '' + match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n    if (level !== \"AA\" && level !== \"AAA\") {\n        level = \"AA\";\n    }\n    if (size !== \"small\" && size !== \"large\") {\n        size = \"small\";\n    }\n    return {\"level\":level, \"size\":size};\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})(Math);\n"],"sourceRoot":""}